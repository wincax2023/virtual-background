/*!
 * Zealcomm IVCS SDK
 * Version 1.1.5
 * Author: changjian.sun,zhiwen.huang,hui.zhang
 * Date: Wed Dec 28 2022 18:41:45 GMT+0800 (中国标准时间)
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ivcs=t():e.ivcs=t()}(window,(function(){return function(e){var t={};function n(A){if(t[A])return t[A].exports;var r=t[A]={i:A,l:!1,exports:{}};return e[A].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,A){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:A})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var A=Object.create(null);if(n.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(A,r,function(t){return e[t]}.bind(null,r));return A},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=106)}([function(e,t,n){"use strict";var A=function(){var e=function(){},t={DEBUG:0,TRACE:1,INFO:2,WARNING:3,ERROR:4,NONE:5};"undefined"==typeof navigator||!navigator&&wx&&wx.openLocation?t.log=console.log.bind(console):"undefined"!=typeof window?t.log=window.console.log.bind(window.console):t.log=console.log.bind(console);var n=function(e){return"undefined"==typeof navigator||!navigator&&wx&&wx.openLocation?console.log.bind(console):"undefined"!=typeof window?"function"==typeof window.console[e]?window.console[e].bind(window.console):window.console.log.bind(window.console):console.log.bind(console)},A=function(A){t.debug=A<=0?n("log"):e,t.trace=A<=1?n("trace"):e,t.info=A<=2?n("info"):e,t.warning=A<=3?n("warn"):e,t.error=A<=4?n("error"):e};return A(0),t.setLogLevel=A,t}();t.a=A},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var A=n(9),r=n.n(A),i=function e(t,n){r()(this,e),this.code=t,this.message=n}},function(e,t,n){e.exports=n(64)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a}));var A=n(14),r=n.n(A),i=n(1),o={cameraStreamAudioConstraints:{deviceId:void 0,source:"mic"},cameraStreamVideoConstraints:{deviceId:void 0,frameRate:15,resolution:{width:640,height:480},source:"camera"},cameraPublishOptions:{audio:[{codec:{name:"opus"},maxBitrate:64}],video:[{codec:{name:"vp8"},maxBitrate:1024},{codec:{name:"h264"},maxBitrate:1024}]},screenStreamAudioConstraints:{source:"screen-cast"},screenStreamVideoConstraints:{frameRate:15,resolution:{width:1280,height:720},source:"screen-cast"},screenPublishOptions:{audio:[{codec:{name:"opus"},maxBitrate:64}],video:[{codec:{name:"vp8"},maxBitrate:1024},{codec:{name:"h264"},maxBitrate:1024}]}};function s(e){return"object"===r()(e)?Object.prototype.hasOwnProperty.call(e,"cameraStreamAudioConstraints")?Object.prototype.hasOwnProperty.call(e,"cameraStreamVideoConstraints")?Object.prototype.hasOwnProperty.call(e,"cameraPublishOptions")?Object.prototype.hasOwnProperty.call(e,"screenStreamVideoConstraints")?Object.prototype.hasOwnProperty.call(e,"screenPublishOptions")?"ok":new i.a("105","screenPublishOptions is empty"):new i.a("105","screenStreamVideoConstraints is empty"):new i.a("105","cameraPublishOptions is empty"):new i.a("105","cameraStreamVideoConstraints is empty"):new i.a("105","cameraStreamAudioConstraints is empty"):new i.a("105","mediaOptions is not object")}var a={ERROR_PARAMETER:"1000",ERROR_REQUEST_API_FAILED:"4000",ERROR_CCS_UNKNOWN:"5000",ERROR_CCS_UNDEFINED:"5001",ERROR_CCS_TOKEN_UNDEFINED:"5002",ERROR_CCS_DISCONNECT:"5003",ERROR_CCS_TICKET_INVALID:"5004",ERROR_CCS_RESUME_FAILED:"5005",ERROR_CCS_SESSION_MESSAGE_FAILED:"5006",ERROR_CCS_CONNECT_FAILED:"5007",ERROR_CCS_NOT_EXIST_SESSION:"5008",ERROR_AMS_UNKNOWN:"3000",ERROR_AMS_UNDEFINED:"3001",ERROR_AMS_TOKEN_UNDEFINED:"3002",ERROR_AMS_DISCONNECT:"3003",ERROR_AMS_TICKET_INVALID:"3004",ERROR_AMS_RESUME_FAILED:"3005",ERROR_AMS_API_FAILED:"3006",ERROR_AMS_CONNECT_FAILED:"3007",ERROR_AMS_MESSAGE_TIMEOUT:"3008",ERROR_AMS_RECONNECTING:"3009",ERROR_ZMS_IRTC_UNDEFINED:"6000",ERROR_ZMS_STREAMLABEL_INVALID:"60001",ERROR_ZMS_JOINROOM_FAILED:"6001",ERROR_ZMS_CREATESTREAM_FAILED:"6002",ERROR_ZMS_ABORTERROR:"60021",ERROR_ZMS_NOTALLOWEDERROR:"60022",ERROR_ZMS_NOTFOUNDERROR:"60023",ERROR_ZMS_NOTREADABLEERROR:"60024",ERROR_ZMS_OVERCONSTRAINEDERROR:"60025",ERROR_ZMS_SECURITYERROR:"60026",ERROR_ZMS_TYPEERROR:"60027",ERROR_ZMS_PUBLISH_FAILED:"6004",ERROR_ZMS_SUBSCRIBE_FAILED:"6005",ERROR_ZMS_VIDEOPLAY_FAILED:"6007",ERROR_ZMS_RENDERVIDEO_NOTEXIST:"6006",ERROR_ZMS_MUTE_AUDIO_FAILED:"60070",ERROR_ZMS_MUTE_VIDEO_FAILED:"60071",ERROR_ZMS_UNMUTE_AUDIO_FAILED:"60080",ERROR_ZMS_UNMUTE_VIDEO_FAILED:"60081",ERROR_SDK_CATCH:"7000"}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return V})),n.d(t,"t",(function(){return G})),n.d(t,"y",(function(){return W})),n.d(t,"u",(function(){return q})),n.d(t,"D",(function(){return J})),n.d(t,"d",(function(){return Y})),n.d(t,"g",(function(){return Z})),n.d(t,"r",(function(){return $})),n.d(t,"f",(function(){return te})),n.d(t,"i",(function(){return Ae})),n.d(t,"q",(function(){return ie})),n.d(t,"e",(function(){return se})),n.d(t,"c",(function(){return ae})),n.d(t,"w",(function(){return ce})),n.d(t,"A",(function(){return ue})),n.d(t,"p",(function(){return le})),n.d(t,"z",(function(){return fe})),n.d(t,"x",(function(){return he})),n.d(t,"s",(function(){return de})),n.d(t,"v",(function(){return pe})),n.d(t,"l",(function(){return ge})),n.d(t,"h",(function(){return ve})),n.d(t,"k",(function(){return we})),n.d(t,"C",(function(){return me})),n.d(t,"o",(function(){return ye})),n.d(t,"m",(function(){return be})),n.d(t,"B",(function(){return Ce})),n.d(t,"n",(function(){return ke})),n.d(t,"b",(function(){return Ee})),n.d(t,"j",(function(){return Se}));var A=n(5),r=n.n(A),i=n(56),o=n.n(i),s=n(9),a=n.n(s),c=n(11),u=n.n(c),l=n(23),f=n.n(l),h=n(24),d=n.n(h),p=n(17),g=n.n(p),v=n(2),w=n.n(v),m=n(0),B=n(29),y=n.n(B),b=n(7),C=n(1),k=n(8),E=(n(6),n(3)),S=n(18),Q=n.n(S),U=n(30);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(e);t&&(A=A.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,A)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,A=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return d()(this,n)}}var R=n(26),x=n(28),_=100,D=101,T=103,L=104,M=105,H="refreshTicketFailed",P="resumeConnectionFailed",j="ccs_socket_disConnected",N="socketIoDrop",K="socketIoReconnectFailed",V=function(t){f()(A,t);var n=O(A);function A(){var e;return a()(this,A),(e=n.call(this)).connected=!1,e.isReconnected=!1,e.members=[],e}return u()(A,[{key:"connect",value:function(t,n,A,r){var i=this;m.a.info("ccsClient connect origin url,".concat(t));var o=t,s=t.indexOf("?"),a={};if(-1!==s){o=t.substr(0,s);for(var c=t.substr(s+1).split("&"),u=0;u<c.length;u++){var l=c[u],f=l.indexOf("=");if(-1!==f){var h=l.substr(0,f),d=l.substr(f+1);a[h]=d}}}var p,g={reconnect:!0,secure:!1,reconnectionAttempts:14,"force new connection":!0,transports:["websocket"],reconnectionDelayMax:5e3,reconnectionDelay:1e3};0==t.indexOf("https://")&&(g.agent=Q.a.globalAgent),m.a.info("ccsClient connect ccs options,".concat(JSON.stringify(g))),a.token=n,a.servicePath="_ivcs_ccs",g.query=a,x&&x.parse?(p=x.parse(o),1==e.env.ivcsAgentMode&&(Q.a.globalAgent.options.rejectUnauthorized=!1)):p=x&&new x(o)?new x(o):new U.a(o).getUrlParams(),p.pathname&&"/"!==p.pathname&&(g.path=p.pathname,p.pathname="",o=x&&x.format?x.format(p):p.toString()),this.socket=y.a.connect(o,g),this.socket.on("connect",(function(e){m.a.info("ccs-connect:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds(),",result:").concat(e)),i.socket.on("private-ping",(function(){i.socket.emit("private-pong")})),A(),i.connected||i.onMessage(),i.reconnectTimes=0})),this.socket.on("connect_error",(function(e){m.a.info("ccs-connect-error:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds(),",result:").concat(e)),r("connect_error")})),this.socket.on("connect_timeout",(function(e){m.a.info("ccs-connect_timeout:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds(),",result:").concat(e)),r("connect_timeout")})),this.socket.on("error",(function(e){m.a.info("ccs-error:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds(),",result:").concat(e)),r(e)})),this.socket.on("disconnect",(function(e){m.a.info("ccs-disconnect:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds(),",reason:").concat(e)),"io server disconnect"===e&&i.connected&&i.socket.connect()})),this.socket.on("reconnect",(function(e){m.a.info("ccs-reconnect:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds(),",result:").concat(e))})),this.socket.on("reconnect_attempt",(function(e){m.a.info("ccs-reconnect_attempt:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds(),",result:").concat(e))})),this.socket.on("reconnecting",(function(e){i.reconnectTimes++,m.a.info("ccs-reconnecting:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds(),",reconnectTime:").concat(e))})),this.socket.on("reconnect_error",(function(e){m.a.info("ccs-reconnect_error:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds(),",result:").concat(e))})),this.socket.on("reconnect_failed",(function(e){m.a.info("ccs-reconnect_failed:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds(),",result:").concat(e)),this.connected=!1}))}},{key:"disconnect",value:function(){this.socket.disconnect()}},{key:"requestSession",value:function(e,t){var n=this;this.send("request-session",e,(function(e,A){"ok"===e&&(n.clientId=A.clientId),t(e,A)}))}},{key:"requestMediaSwitch",value:function(e,t){this.send("request-media-switch",e,(function(e,n){t(e,n)}))}},{key:"onInvitationProgress",value:function(e){return this.on("invitation-progress",e),e}},{key:"onMediaSwitch",value:function(e){return this.on("media-switch",e),e}},{key:"offInvitationProgress",value:function(e){this.off("invitation-progress",e)}},{key:"dropClient",value:function(e,t){this.send("drop-client",{clientId:e},(function(e,n){t(e,n)}))}},{key:"joinSession",value:function(e,t){var n=this;this.send("join-session",e,(function(e,A){"ok"===e&&(n.clientId=A.clientId),t(e,A)}))}},{key:"onJoinedSession",value:function(e){this.on("peer-status:joined",e)}},{key:"onClientResumeConnectStatus",value:function(e){this.on("peer-status:resume-connect",e)}},{key:"onClientReconnectingStatus",value:function(e){this.on("peer-status:reconnecting",e)}},{key:"quitSession",value:function(e,t){var n=this;this.send("quit-session",e,(function(e,A){"ok"===e&&(n.clientId=null),t(e,A)}))}},{key:"onQuitSession",value:function(e){this.on("peer-status:quit",e)}},{key:"sendMessage",value:function(e,t,n,A){if(this.clientId){var r={type:e,id:Math.round(1e18*Math.random())+"",from:this.clientId,to:n,data:t};this.send("session-message",r,(function(e,t){A(e,t,r.id)}))}else m.a.warning("clientId is null,don't in session",new Date),A("error","clientId is null")}},{key:"sendMessageFromTo",value:function(e,t,n,A,r){var i=n||this.clientId,o={type:e,id:Math.round(1e18*Math.random())+"",from:i,to:A,data:t};this.send("session-message",o,(function(e,t){r(e,t,o.id)}))}},{key:"confirmReceiveMessage",value:function(e,t){var n={id:e};this.sendMessage("ack",n,t,(function(t,n){"ok"===t?m.a.info("send ack -- ".concat(e," ok")):m.a.warning("send ack -- ".concat(e," error"),n)}))}},{key:"onMessage",value:function(){var e=this;this.receive("session-message",(function(t){var n={type:t.type,id:t.id,from:t.from,data:t.data,createdAt:t.createdAt,fromUser:t.fromUser,to:t.to};n.type.includes("peer-cmd")?e.emit("peer-cmd:".concat(n.data.cmd),n):n.type.includes("peer-status")?e.emit("peer-status:".concat(n.data.status),n):n.type.includes("peer-cancel")?e.emit("peer-cancel:".concat(n.data.cmd),n):n.type.includes("peer-response")?e.emit("peer-response:".concat(n.data.cmd),n):e.emit("".concat([n.type]),n),"ack"!==n.type&&"system"!==n.from&&e.confirmReceiveMessage(t.id,t.from)}))}},{key:"holdOn",value:function(e,t,n){var A={status:"hold-on",at:(new Date).toISOString(),transferInfo:n};this.sendMessage("peer-status",A,e,(function(e,n,A){t(e,n,A)}))}},{key:"onHoldOn",value:function(e){this.on("peer-status:".concat(["hold-on"]),e)}},{key:"sendTransferReason",value:function(e,t,n){this.sendMessage("transfer",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onTransferReason",value:function(e){this.on("transfer",e)}},{key:"sendCallDirection",value:function(e,t,n){this.sendMessage("call-direction",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onCallDirection",value:function(e){this.on("call-direction",e)}},{key:"startTyping",value:function(e,t){var n={status:"start-typing",at:(new Date).toISOString()};this.sendMessage("peer-status",n,e,(function(e,n,A){t(e,n,A)}))}},{key:"onStartTyping",value:function(e){this.on("peer-status:start-typing",e)}},{key:"stopTyping",value:function(e,t){var n={status:"stop-typing",at:(new Date).toISOString()};this.sendMessage("peer-status",n,e,(function(e,n,A){t(e,n,A)}))}},{key:"onStopTyping",value:function(e){this.on("peer-status:stop-typing",e)}},{key:"readyToTalk",value:function(e,t,n,A){var r={status:"ready-to-talk",at:(new Date).toISOString(),participantId:e,user:t};this.sendMessage("peer-status",r,n,(function(e,t,n){A(e,t,n)}))}},{key:"onReadyToTalk",value:function(e){this.on("peer-status:ready-to-talk",e)}},{key:"customerJoinRoom",value:function(e,t,n,A){var r={status:"customer-join-room",at:(new Date).toISOString(),participantId:e,user:t};this.sendMessage("peer-status",r,n,(function(e,t,n){A(e,t,n)}))}},{key:"onCustomerJoin",value:function(e){this.on("peer-status:customer-join-room",e)}},{key:"onDisconnect",value:function(e){var t=this;this.receive("disconnect",(function(n){t.reconnectTimes>=14&&(Object(b.c)(j,T,"ccs socket io disconnected"),e(n))}))}},{key:"onReconnectFailed",value:function(e){var t=this;this.receive("reconnect_failed",(function(n){t.reconnectTimes>=14&&(Object(b.c)(K,M,"ccs socket io reconnect_failed"),e(n))}))}},{key:"receive",value:function(e,t){this.socket?this.socket.on(e,t):(m.a.error("There is no socket connect"),t("socket on event error,",e))}},{key:"send",value:function(e,t,n){if(!this.connected)return m.a.error("ccs socketio disconnected with event:".concat(e,",data:").concat(t)),void n("error","ccs socketio disconnected with event:".concat(e,",data:").concat(t));if(this.socket&&this.socket.connected){var A=setTimeout((function(){n("timeout","send message with event:".concat(e," timeout,data:").concat(t))}),6e4);t?this.socket.emit(e,t,(function(e,t){clearTimeout(A),A=null,n(e,t)})):this.socket.emit(e,(function(e,t){clearTimeout(A),A=null,n(e,t)}))}else m.a.error("There is no socket connect while send message with Name",e,"&data,",t),n("error","There is no socket connect while send message with Name",e,"&data,",t)}},{key:"onConnect",value:function(e){var t=this;this.receive("connect",(function(){m.a.info("ccs connect at,",new Date),t.reconnectTimes=0,e()}))}},{key:"refreshTicket",value:function(e){this.send("refresh-ticket",null,(function(t,n){e(t,n)}))}},{key:"resumeConnection",value:function(e,t){this.send("resume-connection",e,(function(e,n){m.a.info(new Date,"resumeConnection result",e,n),t(e,n)}))}},{key:"onError",value:function(e){this.receive("error",(function(t){e(t)}))}},{key:"onDrop",value:function(e){this.receive("drop",(function(){e()}))}},{key:"invite",value:function(e,t){this.send("invite",e,(function(e,n){t(e,n)}))}},{key:"cancelInvitations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0;this.send("cancel-invitations",e,(function(e,n){t(e,n)}))}},{key:"photoGuideBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,A={cmd:"photo_guidebox",askForPermission:e};this.sendMessage("peer-cmd",A,t,(function(e,t,A){n(e,t,A)}))}},{key:"onPhotoGuideBox",value:function(e){this.on("peer-cmd:photo_guidebox",e)}},{key:"sendForm",value:function(e,t,n){var A={cmd:"send-form",data:e};this.sendMessage("peer-cmd",A,t,(function(e,t,A){n(e,t,A)}))}},{key:"onFormData",value:function(e){this.on("peer-cmd:send-form",e)}},{key:"sendSilentWaiting",value:function(e,t,n){var A={status:"silent-waiting",at:(new Date).toISOString(),data:e};this.sendMessage("peer-status",A,t,(function(e,t,A){n(e,t,A)}))}},{key:"onSilentWaiting",value:function(e){this.on("peer-status:silent-waiting",e)}},{key:"sendOptionJudgment",value:function(e,t,n){var A={cmd:"option-judgment",data:e};this.sendMessage("peer-cmd",A,t,(function(e,t,A){n(e,t,A)}))}},{key:"onOptionJudgment",value:function(e){this.on("peer-cmd:option-judgment",e)}},{key:"sendSummaryConfirm",value:function(e,t,n){var A={cmd:"summary-confirm",data:e};this.sendMessage("peer-cmd",A,t,(function(e,t,A){n(e,t,A)}))}},{key:"onSummaryConfirm",value:function(e){this.on("peer-cmd:summary-confirm",e)}},{key:"waitingRead",value:function(e,t,n){var A={cmd:"waiting-read",data:e};this.sendMessage("peer-cmd",A,t,(function(e,t,A){n(e,t,A)}))}},{key:"onWaitingRead",value:function(e){this.on("peer-cmd:waiting-read",e)}},{key:"requestLocation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,A={cmd:"request-location",askForPermission:e};this.sendMessage("peer-cmd",A,t,(function(e,t,A){n(e,t,A)}))}},{key:"onRequestLocation",value:function(e){this.on("peer-cmd:request-location",e)}},{key:"cancelInstruction",value:function(e,t,n){var A={cmd:"cancel-instruction",type:e};"string"!=typeof e&&(A.type=e.instructionName,A.data=e),this.sendMessage("peer-cmd",A,t,(function(e,t,A){n(e,t,A)}))}},{key:"onCancelInstruction",value:function(e){this.on("peer-cmd:cancel-instruction",e)}},{key:"scanCode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,A={cmd:"scan-code",askForPermission:e};this.sendMessage("peer-cmd",A,t,(function(e,t,A){n(e,t,A)}))}},{key:"onScanCode",value:function(e){this.on("peer-cmd:scan-code",e)}},{key:"requestScreenShare",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,A={cmd:"view-screen",askForPermission:e};this.sendMessage("peer-cmd",A,t,(function(e,t,A){n(e,t,A)}))}},{key:"onRequestScreenShare",value:function(e){this.on("peer-cmd:view-screen",e)}},{key:"releaseScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,A={cmd:"release-screen",askForPermission:e};this.sendMessage("peer-cmd",A,t,(function(e,t,A){n(e,t,A)}))}},{key:"onReleaseScreen",value:function(e){this.on("peer-cmd:release-screen",e)}},{key:"sendDeviceScreenSize",value:function(e,t,n){this.sendMessage("screenSize",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onDeviceScreenSize",value:function(e){this.on("screenSize",e)}},{key:"markScreen",value:function(e,t,n){this.sendMessage("markScreen",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onScreenPoint",value:function(e){this.on("markScreen",e)}},{key:"screenSnapshot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,A={cmd:"screen-snapshot",askForPermission:e};this.sendMessage("peer-cmd",A,t,(function(e,t,A){n(e,t,A)}))}},{key:"onScreenSnapshot",value:function(e){this.on("peer-cmd:screen-snapshot",e)}},{key:"handSign",value:function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.sendMessage("handwriting",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onHandSignature",value:function(e){this.on("handwriting",e)}},{key:"sendScreenMarkMessage",value:function(e,t,n){this.sendMessage("screenShareMark",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onScreenMark",value:function(e){this.on("screenShareMark",e)}},{key:"sendPageStatus",value:function(e,t,n){this.sendMessage("page-status",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onPageStatus",value:function(e){this.on("page-status",e)}},{key:"sendAiStartSpeak",value:function(e,t,n){this.sendMessage("start-speaking",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onAiStartSpeak",value:function(e){this.on("start-speaking",e)}},{key:"sendOcrRecord",value:function(e,t,n){this.sendMessage("ocr",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onOcrRecord",value:function(e){this.on("ocr",e)}},{key:"sendAiSpeakDone",value:function(e,t,n){this.sendMessage("speaking-done",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onAiStartDone",value:function(e){this.on("speaking-done",e)}},{key:"sendNetworkStatus",value:function(e,t,n){this.sendMessage("network-status",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onNetworkStatus",value:function(e){this.on("network-status",e)}},{key:"shareResource",value:function(e,t,n,A,r){var i={type:e,url:t,name:n};this.sendMessage("link",i,A,(function(e,t,n){r(e,t,n)}))}},{key:"shareResourceWithFileInfo",value:function(e,t,n,A){var r=F(F({},t),{},{type:e});this.sendMessage("link",r,n,(function(e,t,n){A(e,t,n)}))}},{key:"onSharedResource",value:function(e){this.on("link",e)}},{key:"sendTextMessage",value:function(e,t,n){this.sendMessage("text",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onTextMessage",value:function(e){this.on("text",e)}},{key:"sendAsrTextMessage",value:function(e,t,n){this.sendMessage("text-asr",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onAsrTextMessage",value:function(e){this.on("text-asr",e)}},{key:"sendTTSBroadMessage",value:function(e,t,n){this.sendMessage("text-tts-agent",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onTTSTextMessage",value:function(e){this.on("text-tts-agent",e)}},{key:"sendTtsTextMessage",value:function(e,t,n){this.sendMessage("text-tts",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onTtsTextMessage",value:function(e){this.on("text-tts",e)}},{key:"noticeStreamId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.sendMessage("notice-participant-streamId",e,t,(function(e,t,n){console.log("notice-participant-streamId status:".concat(e,",response:").concat(t,",msgId:").concat(n))}))}},{key:"sendPreRecordVideoTextMessage",value:function(e,t,n){this.sendMessage("text-pre-recorded",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onPreRecordVideoTextMessage",value:function(e){this.on("text-pre-recorded",e)}},{key:"removeListener",value:function(e){this.removeAllListeners(e)}},{key:"sendAICheckoutMessage",value:function(e,t,n){this.sendMessage("ai-checkout",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onAICheckoutMessage",value:function(e){this.on("ai-checkout",e)}},{key:"sendWorkflowProgress",value:function(e,t,n,A){this.sendMessageFromTo("workflow-progress",e,t,n,(function(e,t,n){A(e,t,n)}))}},{key:"onWorkflowProgress",value:function(e){this.on("workflow-progress",e)}},{key:"sendMessageConfirmation",value:function(e,t,n){this.sendMessage("message-confirmation",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onMessageConfirmation",value:function(e){this.on("message-confirmation",e)}},{key:"sendCustomMessage",value:function(e,t,n){this.sendMessage("custom",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"onCustomMessage",value:function(e){this.on("custom",e)}},{key:"screenRecord",value:function(e,t,n){this.sendMessage("screen-record",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"stopScreenRecord",value:function(e,t,n){this.sendMessage("stop-screen-record",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"screenShare",value:function(e,t,n){this.sendMessage("screen-share",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"stopScreenShare",value:function(e,t,n){this.sendMessage("stop-screen-share",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"screenShareMarkDrawing",value:function(e,t,n){this.sendMessage("screen-share-mark-drawing",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"stopScreenShareMarkDrawing",value:function(e,t,n){this.sendMessage("stop-screen-share-mark-drawing",e,t,(function(e,t,A){n(e,t,A)}))}},{key:"sendPeerCmd",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i={cmd:e,askForPermission:t,data:n};this.sendMessage("peer-cmd",i,A,(function(e,t,n){r(e,t,n)}))}},{key:"onPeerCmd",value:function(e,t){this.on("peer-cmd:".concat(e),t)}},{key:"sendPeerCancel",value:function(e,t,n,A){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"normal",i=arguments.length>5?arguments[5]:void 0,o={cmd:e,id:t,reason:r,data:i};this.sendMessage("peer-cancel",o,n,(function(e,t,n){A(e,t,n)}))}},{key:"onPeerCancel",value:function(e,t){this.on("peer-cancel:".concat(e),t)}},{key:"sendPeerResponse",value:function(e,t,n,A,r,i){var o={cmd:e,id:t,status:n,data:A};this.sendMessage("peer-response",o,r,(function(e,t,n){i(e,t,n)}))}},{key:"onPeerResponse",value:function(e,t){this.on("peer-response:".concat(e),t)}}]),A}(R);function G(e,t){e.interval=setInterval((function(){e.refreshTicket((function(t,n){"ok"===t?(m.a.info("refresh ccs Ticket success",n),e.ticket=n.ticket):(m.a.error("ccs sio refreshTicketFailed,".concat(new Date)),clearInterval(e.interval),Object(b.c)(H,_,"ccs sio refreshTicketFailed"))}))}),t)}function W(e,t,n){t?e.resumeConnection(t,(function(t,A){"ok"===t?(m.a.info("resume ccs connection success,".concat(A,",").concat(new Date)),e.ticket=A.ticket):(m.a.warning("resume ccs connection failed,".concat(A,",").concat(new Date)),Object(b.c)(P,D,A),e.connected=!1),n(t,A)})):m.a.info("resumeCcsConnection ticket is Empty",(new Date).toISOString())}function q(e){if(e){if(e.clientId)e.disconnect();else{setTimeout((function(){e.disconnect()}),1e4)}clearInterval(e.interval),e.accessToken=null,e.connected=!1,e.ticket=null,e.members=[],m.a.info("release ccs client,".concat(new Date,"}"))}}function J(e){return e?e.accessToken?e.connected?"ok":(m.a.warning("ccs socket io is disconnected"),new C.a(E.b.ERROR_CCS_DISCONNECT,"ccs socket io is disconnected")):(m.a.warning("ccs accessToken is undefined or invalid"),new C.a(E.b.ERROR_CCS_TOKEN_UNDEFINED,"ccs accessToken is undefined or invalid")):(m.a.warning("ccs client is undefined"),new C.a(E.b.ERROR_CCS_UNDEFINED,"ccs client is undefined"))}function Y(e,t,n,A,r){return X.apply(this,arguments)}function X(){return(X=r()(w.a.mark((function e(t,n,A,r,i){var o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=0,e.next=3,new Promise((function(e,s){t.connect(n,A,(function(t){e(t)}),(function(e){var t=new C.a(E.b.ERROR_CCS_CONNECT_FAILED,"connect to ".concat(n," error,").concat(e));++o>i&&s(t)})),t.onConnect((function(e){t.isReconnected?(m.a.info("ccsClient resumeCcsConnection ccsUrl",n,e),W(t,t.ticket,(function(e,t){if("ok"!==e){m.a.info("resumeCcsConnection to ".concat(n," error,").concat(t));var A=new C.a(E.b.ERROR_CCS_RESUME_FAILED,"resumeCcsConnection to ".concat(n," error,").concat(t));r(A)}}))):(t.accessToken=A,t.isReconnected=!0),t.connected=!0})),t.onDisconnect((function(e){m.a.warning("ccsClient,ccs socket is disconnected,",e,new Date)})),t.onDrop((function(e){m.a.warning("ccsClient,ccs socket io is drop,",e,new Date),Object(b.c)(N,L,"ccs socket io is drop"),t.accessToken=null,t.connected=!1}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return z.apply(this,arguments)}function z(){return(z=r()(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.a.info("joinSession parameter:",n),e.next=3,new Promise((function(e,A){t.joinSession(n,(function(r,i){var o;"ok"===r?(m.a.info("join session ".concat(n.sessionId," success,").concat(JSON.stringify(i),",").concat(new Date)),t.ticket=i.ticket,e(i)):(m.a.info("join session ".concat(n.sessionId," error,").concat(i,",").concat(new Date)),o="Non-exist session"===i?new C.a(E.b.ERROR_CCS_NOT_EXIST_SESSION,"join session ".concat(n.sessionId," error,").concat(i)):new C.a(E.b.ERROR_CCS_SESSION_MESSAGE_FAILED,"join session ".concat(n.sessionId," error,").concat(i)),A(o))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t,n,A){return ee.apply(this,arguments)}function ee(){return(ee=r()(w.a.mark((function e(t,n,A,r){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,i){r.readyToTalk(t,n,A,(function(t,n){if("ok"===t)e();else{m.a.info("tell readyToTalk WhileStreamPublishSuccess error,".concat(n,",").concat(new Date));var A=new C.a(E.b.ERROR_CCS_SESSION_MESSAGE_FAILED,"tell readyToTalk WhileStreamPublishSuccess error,".concat(n));i(A)}}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=r()(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,A){t.invite(n,(function(t,r){if("ok"===t)e();else{m.a.info("invite other agent error,".concat(JSON.stringify(n),",").concat(r,",").concat(new Date));var i=new C.a(E.b.ERROR_CCS_SESSION_MESSAGE_FAILED,"invite with parameter ,".concat(JSON.stringify(n),", error,").concat(r));A(i)}}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e,t){return re.apply(this,arguments)}function re(){return(re=r()(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,A){t.holdOn("customers",(function(t,n,r){if("ok"===t)e();else{m.a.info("tell Customer hold on error,".concat(n,",").concat(new Date));var i=new C.a(E.b.ERROR_CCS_SESSION_MESSAGE_FAILED,"tell Customer hold on,msgId ".concat(r,",error,").concat(n));A(i)}}),n)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,t){return oe.apply(this,arguments)}function oe(){return(oe=r()(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,A){n?n.quitSession(t,(function(t,r){m.a.info("quit session result,",t,r,new Date),"ok"===t?e(r):A(r),q(n)})):A(new C.a(E.b.ERROR_CCS_UNDEFINED,"ccs client is null"))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){var t="web";return e.map((function(e,n,A){if("customer"===e.role){var r=e.clientInfo?e.clientInfo:void 0;t=r?r.type:void 0,m.a.info("customerClientInfo,",r,t)}})),t}function ae(e){var t=Object(b.a)(P,(function(n){Object(b.d)(P,t),e(n)})),n=Object(b.a)(j,(function(t){Object(b.d)(j,n),e(t)})),A=Object(b.a)(N,(function(t){Object(b.d)(N,A),e(t)})),r=Object(b.a)(K,(function(t){Object(b.d)(K,r),e(t)}));return[{eventName:P,eventListenerFunction:t},{eventName:j,eventListenerFunction:n},{eventName:N,eventListenerFunction:A},{eventName:K,eventListenerFunction:r}]}function ce(e){e&&e.length&&e.filter((function(e){console.log("removeCcsErrorEvent ",e,e.eventName,e.eventListenerFunction),Object(b.d)(e.eventName,e.eventListenerFunction)}))}function ue(e,t,n,A,r){var i=J(e);"ok"==i?e.sendTextMessage(t,n,(function(e,i,o){"ok"===e?A():(m.a.info("send text message:".concat(t," to ").concat(n," failed,reason:").concat(i,",msgId ").concat(o,",").concat(new Date)),r(i))})):r(i)}function le(e,t){var n=J(e);"ok"==n?e.onTextMessage((function(e){t(e)})):m.a.warning("onTextMessage error,".concat(JSON.stringify(n)))}function fe(e,t,n,A,r){var i=J(e);"ok"==i?e.sendCustomMessage(t,n,(function(e,i,o){"ok"===e?A(o):(m.a.info("send custom message: ".concat(t," to ").concat(n," failed,reason:").concat(i,",msgId ").concat(o,",").concat(new Date)),r(i))})):r(i)}function he(e,t,n,A){var r=J(e);"ok"==r?e.requestScreenShare(!1,t,(function(e,r,i){"ok"===e?n(i):(m.a.info("send request screen share message to ".concat(t," failed,reason:").concat(r,",msgId ").concat(i,",").concat(new Date)),A(r))})):A(r)}function de(e,t){var n=J(e);"ok"==n?e.onRequestScreenShare((function(e){t(e)})):m.a.warning("receiveRequestScreenShareMessage error,".concat(JSON.stringify(n)))}function pe(e,t,n,A){var r=J(e);"ok"==r?e.releaseScreen(!1,t,(function(e,r,i){"ok"===e?n(i):(m.a.info("send request screen share message to ".concat(t," failed,reason:").concat(r,",msgId ").concat(i,",").concat(new Date)),A(r))})):A(r)}function ge(e,t){var n=J(e);"ok"==n?e.onDeviceScreenSize((function(e){t(e)})):m.a.warning("onDeviceScreenSize error,".concat(JSON.stringify(n)))}function ve(e,t,n,A,r){var i=J(e);"ok"==i?e.markScreen(t,n,(function(e,i,o){"ok"===e?A(o):(m.a.info("markScreen message ".concat(t,"to ").concat(n," failed,reason:").concat(i,",msgId ").concat(o,",").concat(new Date)),r(i))})):r(i)}function we(e,t){var n=J(e);"ok"==n?e.onCustomMessage((function(e){t(e)})):m.a.warning("onCustomMessage error,".concat(JSON.stringify(n)))}function me(e,t,n,A,r,i,o,s){return Be.apply(this,arguments)}function Be(){return(Be=r()(w.a.mark((function e(t,n,A,r,i,o,s,a){var c,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==["doc","pic","video","audio","page","paper"].indexOf(A)){e.next=4;break}return s("type is invalid,only support 'doc','pic', 'video', 'audio', 'page', 'paper'"),e.abrupt("return");case 4:if("ok"==(c=J(t))){e.next=8;break}return s(c),e.abrupt("return");case 8:return e.prev=8,e.next=11,Object(k.r)(n,r,a);case 11:u=e.sent,t.shareResource(A,u.url,u.originalname,i,(function(e,t,n){"ok"===e?o(u):(m.a.info("send shareResource message failed,".concat(t,",msgId").concat(n,",").concat(new Date)),s(t))})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),s(e.t0);case 18:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function ye(e,t){var n=J(e);"ok"==n?e.onSharedResource((function(e){t(e)})):m.a.warning("onResourceMessage error,".concat(JSON.stringify(n)))}function be(e,t){var n=J(e);"ok"==n?e.onHoldOn((function(e){t(e)})):m.a.warning("onHoldOn error,".concat(JSON.stringify(n)))}function Ce(e,t,n,A){!function(e,t){var n=J(e);"ok"==n?e.onJoinedSession((function(e){m.a.info("other member join session,",e,new Date),t(e)})):m.a.warning("onJoinSession error,".concat(JSON.stringify(n)))}(e,(function(e){e.data&&"agent"===e.data.role?(n(e.data),Object(b.c)("onAgentJoinSession",null,e.data)):e.data&&"customer"===e.data.role&&(Object(b.c)("onCustomerJoinSession",null,e.data),A(e.data))})),function(e,t){var n=J(e);"ok"==n?e.onQuitSession((function(e){m.a.info("other member quit session,",e,new Date),t(e)})):m.a.warning("onQuitSession error,".concat(JSON.stringify(n)))}(e,(function(e){"customer"===e.data.role?(t(e.data),Object(b.c)("onCustomerQuitSession",null,e.data)):"agent"===e.data.role&&Object(b.c)("onAgentQuitSession",null,e.data)}))}function ke(e,t){return e.onInvitationProgress((function(e){m.a.info("invite progress,".concat(JSON.stringify(e),",").concat(new Date));var n=e.data.status,A={code:"",message:""};if("offday"===n)A.code="406",A.message="request is offday";else if("offtime"===n)A.code="407",A.message="request is offtime";else if("notfound"===n)A.code="404",A.message="not found others";else if("timeout"===n)A.code="401",A.message="invite timeout";else if("waiting"===n){A.code="402";var r=e.data.waitingReasonCode?e.data.waitingReasonCode:"-1";A.waitingCode=r;var i=e.data&&e.data.waitingNum?e.data.waitingNum:0,o=e.data&&e.data.position?e.data.position:1;A.waitingNumber=i,A.position=o,"1000"===r?A.message="system is distributing agent":"1001"===r?A.message="no available agent was found":"1002"===r?A.message="the designated agent of the invitation is not logged in":"1003"===r?A.message="the current state of the specified agent is not available":"1004"===r&&(A.message="disconnect when the specified agent rings")}else"connecting"===n?(A.code="403",A.message="agent connecting"):"accepted"===n?(A.code="405",A.message="agent accepted"):"scenariodisabled"===n?(A.code="408",A.message="scenario disabled"):"outofquota"===n?(A.code="409",A.message="outofquota"):"agentrejected"===n?(A.code="410",A.message="agentrejected"):"otherCustomerAccept"===n?(A.code="411",A.message="otherCustomerAccept"):"multiCustomerForbidAI"===n&&(A.code="412",A.message="multiCustomerForbidAI");t(A)}))}function Ee(e,t,n,A,r){var i=J(e);if("ok"==i)if("string"==typeof t||t.instructionName)e.cancelInstruction(t,n,(function(e,i,o){if("ok"===e)A(o);else{m.a.info("send cancel Instruction message: ".concat(t,",to ").concat(n," failed,reason:").concat(i,",msgId ").concat(o,",").concat(new Date));var s=new C.a("5012",i);r(s)}}));else{var o=new C.a("1001","data parameter is error");r(o)}else r(i)}function Se(e,t){var n=J(e);"ok"==n?e.onCancelInstruction((function(e){t(e)})):m.a.warning("onCancelInstruction error,".concat(JSON.stringify(n)))}}).call(this,n(16))},function(e,t){function n(e,t,n,A,r,i,o){try{var s=e[i](o),a=s.value}catch(e){return void n(e)}s.done?t(a):Promise.resolve(a).then(A,r)}e.exports=function(e){return function(){var t=this,A=arguments;return new Promise((function(r,i){var o=e.apply(t,A);function s(e){n(o,r,i,s,a,"next",e)}function a(e){n(o,r,i,s,a,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"h",(function(){return g})),n.d(t,"b",(function(){return w})),n.d(t,"g",(function(){return B}));var A=n(5),r=n.n(A),i=n(14),o=n.n(i),s=n(2),a=n.n(s),c=n(8);function u(){if("undefined"!=typeof navigator){var e={},t=navigator.userAgent.toLowerCase().match(/(msie|firefox|chrome|opera|version).*?([\d.]+)/);try{e.type=t[1].replace(/version/,"safari"),e.version=t[2]}catch(t){e.type="unknown",e.version="unknown"}return e}return{type:"robot",version:"0.1"}}function l(e,t){try{for(var n=0;n<e.length;n++)if(e[n].id==t)return e.splice(n,1),e}catch(t){return e}}function f(e){var t;switch(o()(e)){case"undefined":break;case"string":t=e+"";break;case"number":t=e-0;break;case"boolean":t=e;break;case"object":if(null===e)t=null;else if(e instanceof Array){t=[];for(var n=0,A=e.length;n<A;n++)t.push(f(e[n]))}else for(var r in t={},e)t[r]=f(e[r]);break;default:t=e}return t}function h(e){if("string"!=typeof e)return!1;try{return JSON.parse(e),!0}catch(e){return!1}}function d(e){return null==e||"object"!=o()(e)}function p(e){return"string"!=typeof e||null==e||null==e||0==e.length}function g(e){var t,n=[];for(var A in e)try{if("function"==typeof e[A])t='""'+A+'"":function(){<em>[native code]</em>}';else if("[object Array]"===Object.prototype.toString.call(e[A])){var r,i=[];for(var s in e[A])r=isNaN(e[A][s])?'"'+e[A][s]+'"':""+e[A][s],i.push(r);t='""'+A+'"":['+i.join(",")+"]"}else t="object"==o()(e[A])?'""'+A+'"":'+g(e[A]):isNaN(e[A])?'""'+A+'"":"'+e[A]+'"':'""'+A+'"":'+e[A];n.push(t),t=""}catch(e){return""}return"{"+n.join(", ")+"}"}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e,n){var A=t&&t[0],r=t&&t[1],i=t&&t[2];Object(c.s)(A,r,i).then((function(t){e(t)})).catch((function(e){n(e)}))}))}function w(e){return m.apply(this,arguments)}function m(){return(m=r()(a.a.mark((function e(t){var n,A,r,i,s,c,u,l,f,d,p,g=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=g.length,A=new Array(n>1?n-1:0),r=1;r<n;r++)A[r-1]=g[r];if("string"!=typeof t){e.next=11;break}if(i="ivcs-js-sdk-debug:".concat((new Date).toISOString(),",errorMsg:").concat(t),s=A&&A[0]&&A[0].url?A[0].url:void 0,c=A&&A.length>1?A[1]:void 0,e.t0=s&&c,!e.t0){e.next=9;break}return e.next=9,v(s,c,i);case 9:e.next=28;break;case 11:if(!h(t)){e.next=21;break}if(u="ivcs-js-sdk-debug:".concat((new Date).toISOString(),",json,errorMsg:").concat(JSON.stringify(t)),l=A&&A[0]&&A[0].url?A[0].url:void 0,f=A&&A.length>1?A[1]:void 0,e.t1=l&&f,!e.t1){e.next=19;break}return e.next=19,v(l,f,u);case 19:e.next=28;break;case 21:if("object"!==o()(t)){e.next=28;break}if(d=A&&A[0]&&A[0].url?A[0].url:void 0,p=A&&A.length>1?A[1]:void 0,e.t2=d&&p,!e.t2){e.next=28;break}return e.next=28,v(d,p,t);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){var e=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,n=window.WebSocket;return!!e&&!!t&&!!n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"b",(function(){return d}));var A=n(0),r=n(9),i=n.n(r),o=n(11),s=n.n(o),a=new(function(){function e(){i()(this,e),this.listeners={}}return s()(e,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],A=0,r=n.length;A<r;A++)if(n[A]===t)return n.splice(A,1),this.removeEventListener(e,t)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners)for(var t=this.listeners[e.type],n=0,A=t.length;n<A;n++)t[n]&&t[n].call(this,e)}}]),e}());function c(e,t){var n=function(n){A.a.info("event with name",e,"&data,",n,new Date),t(n)};return a.addEventListener(e,n),n}function u(e,t,n){var r={type:e};t&&(r.code=t),n&&(r.data=n),A.a.info("dispatch event",e,t,n),a.dispatchEvent(r)}function l(e,t){A.a.info("removeEventListener event ",e,t),a.removeEventListener(e,t)}var f={publishLocalFailed:1001,subscribeStreamFailed:1002,localStreamEnd:1003,subscribeStreamEnd:1004,zmsServerDisconnected:1005,amsSocketIoError:1006,ccsSocketIoError:1007},h="systemError",d="ccsError"},function(e,t,n){"use strict";n.d(t,"s",(function(){return S})),n.d(t,"c",(function(){return T})),n.d(t,"o",(function(){return M})),n.d(t,"l",(function(){return P})),n.d(t,"p",(function(){return N})),n.d(t,"r",(function(){return V})),n.d(t,"q",(function(){return W})),n.d(t,"g",(function(){return J})),n.d(t,"d",(function(){return X})),n.d(t,"m",(function(){return z})),n.d(t,"k",(function(){return ee})),n.d(t,"h",(function(){return ne})),n.d(t,"i",(function(){return re})),n.d(t,"j",(function(){return oe})),n.d(t,"e",(function(){return ae})),n.d(t,"f",(function(){return ue})),n.d(t,"a",(function(){return ge})),n.d(t,"b",(function(){return we})),n.d(t,"n",(function(){return Be}));var A=n(5),r=n.n(A),i=n(2),o=n.n(i),s=n(55),a=n.n(s),c=n(0),u=n(1),l=n(3),f=n(18),h=n.n(f),d=n(33),p=n.n(d),g=n(6),v=a.a.create({httpsAgent:new h.a.Agent({rejectUnauthorized:!1,keepAlive:!0}),httpAgent:new p.a.Agent({keepAlive:!0})}),w=!1,m=[],B=void 0,y=void 0,b=void 0;v.interceptors.response.use((function(e){if(-1!=e.config.url.indexOf("ivcs/api/v1/auth/logon")){b=e.data&&e.data.data&&e.data.data.accessToken?e.data.data.accessToken:"";var t=e.data&&e.data.data&&e.data.data.tokenData?e.data.data.tokenData:null;B=t?t.data.id:void 0,y=e.data&&e.data.data&&e.data.data.ticket?e.data.data.ticket:""}return e}),(function(e){if(e.response&&401===e.response.status&&e.response.data&&"1101"===e.response.data.code){var t={userId:B,ticket:y},n=e.response.config;return w?new Promise((function(e){m.push((function(t){n.headers["x-access-token"]=t,e(v.request(n))}))})):(w=!0,E(t).then((function(t){return console.log("refresh token success",t),b=t.data.accessToken,e.response.config.headers["x-access-token"]=b,m.forEach((function(e){return e(b)})),m=[],v.request(e.response.config)})).catch((function(e){return console.log("refersh ticket error",e,e.response),Promise.reject(e)})).finally((function(){w=!1})))}return Promise.reject(e)}));var C=function(e,t){return v.post(e+"/ivcs/api/v1/auth/logon",t,{headers:{"Content-Type":"application/json"}})},k=function(e,t){return v.post(e+"/ivcs/api/v1/auth/register/openid",t,{headers:{"Content-Type":"application/json"}})},E=function(e,t){return v.post(e+"/ivcs/api/v1/auth/refresh-token",t,{headers:{"Content-Type":"application/json"}})},S=function(e,t,n){return v.post(e+"/ivcs/clc/session/"+t,n,{headers:{"Content-Type":"text/plain"}})},Q=function(e,t,n){return v.post(e+"/ivcs/api/v1/oneTimeToken",{validityTime:n},{headers:{"x-access-token":t}})},U=function(e,t){return v.get(e+"/ivcs/api/v1/user/groups",{headers:{"x-access-token":t}})},I=function(e,t,n,A){return v.post(e+"/ivcs/api/v1/rooms/"+t+"/streams/"+n+"/patch",[{op:"add",path:"/info/inViews",value:"common"}],{headers:{"Content-Type":"application/json","x-access-token":A}})},F=function(e,t,n,A,r){var i=e+"/ivcs/api/v1/private/rooms/"+t+"/recordings",o={container:"auto",media:{audio:!!n&&{from:n,format:{codec:"aac",sampleRate:48e3,channelNum:2}},video:!!A&&{from:A,format:{codec:"h264",profile:"CB"}}}};return v.post(i,o,{headers:{"Content-Type":"application/json","x-access-token":r}})},O=function(e,t,n,A){return v.delete(e+"/ivcs/api/v1/rooms/"+t+"/recordings/"+n,{headers:{"x-access-token":A}})},R=function(e,t,n){return v.post(e+"/ivcs/api/v1/upload",t,{headers:{"Content-Type":"multipart/form-data","x-access-token":n}})},x=function(e,t,n){var A=e+"/ivcs/api/v1/rooms/"+t+"/streaming-outs";return v.post(A,n,{headers:{"Content-Type":"application/json"}})},_=function(e,t,n){var A=e+"/ivcs/api/v1/rooms/"+t+"/streams/"+(t+"-common")+"/pictures";return v.post(A,n,{headers:{"Content-Type":"application/json"}})},D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",A=t+"-common",r=e+"/ivcs/api/v1/rooms/"+t+"/streams/"+A+"/pictures/"+n;return v.delete(r,{headers:{"Content-Type":"application/json"}})};function T(e,t,n,A){return L.apply(this,arguments)}function L(){return(L=r()(o.a.mark((function e(t,n,A,r){var i,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>4&&void 0!==s[4]&&s[4],e.next=3,new Promise((function(e,o){var s=t+"/ivcs/api/v1/rooms/"+n+"/streams/"+A;I(t,n,A,r).then((function(t){de(s,t,null,!0),e()})).catch((function(t){if(de(s,null,t,!0),i){var n=new u.a(he(t.response||t),de(s,null,t,!1));o(n)}else e()}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t,n,A,r,i){return H.apply(this,arguments)}function H(){return(H=r()(o.a.mark((function e(t,n,A,r,i,s){var a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>6&&void 0!==a[6]&&a[6],e.next=3,new Promise((function(e,t){e("ok")}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,n,A,r){return j.apply(this,arguments)}function j(){return(j=r()(o.a.mark((function e(t,n,A,r,i){var s,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.length>5&&void 0!==a[5]&&a[5],e.next=3,new Promise((function(e,o){var a=t+"/ivcs/api/v1/rooms/"+n+"/recordings";F(t,n,A,r,i).then((function(t){if(de(a,t,null,!0),t.data&&t.data.recordingId)e(t.data.recordingId);else if(s){var n=new u.a(l.b.ERROR_REQUEST_API_FAILED,de(a,t,null,!1));o(n)}else e(null)})).catch((function(t){if(de(a,null,t,!0),s){var n=new u.a(he(t.response||t),de(a,null,t,!1));o(n)}else e(null)}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,n,A){return K.apply(this,arguments)}function K(){return(K=r()(o.a.mark((function e(t,n,A,r){var i,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>4&&void 0!==s[4]&&s[4],e.next=3,new Promise((function(e,o){var s=t+"/ivcs/api/v1/rooms/"+n+"/recordings/"+A;O(t,n,A,r).then((function(t){de(s,t,null,!0),e(t)})).catch((function(t){if(de(s,null,t,!0),i){var n=new u.a(he(t.response||t),de(s,null,t,!1));o(n)}else e(null)}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t,n){return G.apply(this,arguments)}function G(){return(G=r()(o.a.mark((function e(t,n,A){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){var i=t+"/ivcs/api/v1/upload";R(t,n,A).then((function(t){if(de(i,t,null,!0),t.data&&200==t.data.code){var n=t.data.data;e(n)}else{var A=new u.a(l.b.ERROR_REQUEST_API_FAILED,de(i,t,null,!1));r(A)}})).catch((function(e){de(i,null,e,!0);var t=new u.a(he(e.response||e),de(i,null,e,!1));r(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t,n,A,r){return q.apply(this,arguments)}function q(){return(q=r()(o.a.mark((function e(t,n,A,r,i){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,o){var s=t+"/ivcs/api/v1/rooms/"+n+"/streaming-outs";x(t,n,{media:{audio:!!A&&{from:A},video:!!r&&{from:r}},url:i}).then((function(t){if(de(s,t,null,!0),t.data)e(t);else{var n=new u.a(l.b.ERROR_REQUEST_API_FAILED,de(s,t,null,!1));o(n)}})).catch((function(e){de(s,null,e,!0);var t=new u.a(he(e.response||e),de(s,null,e,!1));o(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t,n){return Y.apply(this,arguments)}function Y(){return(Y=r()(o.a.mark((function e(t,n,A){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){var i=t+"/ivcs/api/v1/oneTimeToken";Q(t,n,A).then((function(t){if(de(i,t,null,!0),t.data&&t.data.token)e(t.data.token);else{var n=new u.a(l.b.ERROR_REQUEST_API_FAILED,de(i,t,null,!1));r(n)}})).catch((function(e){de(i,null,e,!0);var t=new u.a(he(e.response||e),de(i,null,e,!1));r(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t,n,A){return Z.apply(this,arguments)}function Z(){return(Z=r()(o.a.mark((function e(t,n,A,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,i){var o={userName:n,pwd:A,role:"agent",org:r};c.a.info("request body",o);var s=t+"/ivcs/api/v1/auth/logon";C(t,o).then((function(t){de(s,t,null,!0),e(t)})).catch((function(e){var t;c.a.info("agent login failed,".concat(e.response,",at,").concat(new Date)),e.response?t=fe(e.response):(c.a.info("agent login error",e),t=new u.a(he(e.response||e),JSON.stringify(e.message))),de(s,null,e,!0),i(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t,n){return $.apply(this,arguments)}function $(){return($=r()(o.a.mark((function e(t,n,A){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){var i={userId:n,ticket:A};c.a.info("request body",i);var o=t+"/ivcs/api/v1/auth/refresh-token";E(t,i).then((function(t){de(o,t,null,!0),e(t.data)})).catch((function(e){de(o,null,e,!0);var t=new u.a(he(e.response||e),de(o,null,e,!1));r(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=r()(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,A){var r=t+"/ivcs/api/v1/user/groups";U(t,n).then((function(t){var n=[];t.data&&t.data.length>0&&t.data.forEach((function(e){n.push(e.group)})),e(n),de(r,t,null,!0)})).catch((function(e){de(r,null,e,!0);var t=new u.a(he(e.response||e),de(r,null,e,!1));A(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t,n,A){return Ae.apply(this,arguments)}function Ae(){return(Ae=r()(o.a.mark((function e(t,n,A,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,i){var o={userName:n,pwd:A,role:"customer",org:r};c.a.info("request body",o);var s=t+"/ivcs/api/v1/auth/logon";C(t,o).then((function(t){de(s,t,null,!0),e(t)})).catch((function(e){de(s,null,e,!0);var t=new u.a(he(e.response||e),de(s,null,e,!1));i(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t,n){return ie.apply(this,arguments)}function ie(){return(ie=r()(o.a.mark((function e(t,n,A){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){var i={openId:n,org:A};c.a.info("request body",i);var o=t+"/ivcs/api/v1/auth/register/openid";k(t,i).then((function(t){de(o,t,null,!0),e(t)})).catch((function(e){de(o,null,e,!0);var t=new u.a(he(e.response||e),de(o,null,e,!1));r(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t,n,A,r){return se.apply(this,arguments)}function se(){return(se=r()(o.a.mark((function e(t,n,A,r,i){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,o){var s={userName:n,pwd:A,role:"agent",org:r};"chinaums"==i&&(s.loginUms=!0),c.a.info("request body",s);var a=t+"/ivcs/api/v1/auth/logon";C(t,s).then((function(t){de(a,t,null,!0),e(t)})).catch((function(e){de(a,null,e,!0);var t=new u.a(he(e.response||e),de(a,null,e,!1));o(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t,n,A,r){return ce.apply(this,arguments)}function ce(){return(ce=r()(o.a.mark((function e(t,n,A,r,i){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,o){var s={userName:n,pwd:A,role:"agent",org:r,encrypt:i};c.a.info("request body",s);var a=t+"/ivcs/api/v1/auth/logon";C(t,s).then((function(t){de(a,t,null,!0),e(t)})).catch((function(e){var t;c.a.info("agent login failed,".concat(e.response,",at,").concat(new Date)),e.response?t=fe(e.response):(c.a.info("agent login error",e),t=new u.a(he(e.response||e),JSON.stringify(e.message))),de(a,null,e,!0),o(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t){return le.apply(this,arguments)}function le(){return(le=r()(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,A){var r={ticketId:n};c.a.info("request body",r);var i=t+"/ivcs/api/v1/auth/logon";C(t,r).then((function(t){de(i,t,null,!0),e(t)})).catch((function(e){de(i,null,e,!0);var t=new u.a(he(e.response||e),de(i,null,e,!1));A(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){if(e&&e.data){var t=e.data.code?e.data.code:l.b.ERROR_REQUEST_API_FAILED,n=e.data.message?e.data.message:e.data;return new u.a(t,n)}return new u.a(l.b.ERROR_REQUEST_API_FAILED,e)}function he(e){return e&&401===e.status?"401":e&&e.data&&e.data.code?e.data.code:"500"}function de(e,t,n,A){var r="time:".concat(new Date,",requestUrl:").concat(e," ");if(t)if(r+="response status:".concat(t.status," "),t.data&&t.data.code&&(r+="code:".concat(t.data.code," ")),Object(g.e)(t))r+="data:".concat(JSON.stringify(t));else if(t.data&&Object(g.e)(t.data))r+="data:".concat(JSON.stringify(t.data));else if(t.data&&t.data.data&&Object(g.e)(t.data.data))r+="data:".concat(JSON.stringify(t.data.data));else if(t.data&&t.data.data){var i=t.data.data;r=r+"data:"+Object(g.h)(i)+" "}else if(t.data&&!t.data.data){var o=t.data;r=r+"data:"+Object(g.h)(o)+" "}else Object(g.d)(t)||(r+="data:".concat(t));return n&&(Object(g.e)(n)?r+="error:".concat(JSON.stringify(n)):r+="error:".concat(n)),A&&c.a.debug(r),r}var pe=function(e,t){return v.post(e+"/ivcs/api/v1/sessions/".concat(t.sessionId,"/streams/").concat(t.streamId,"/agentName"),{agentName:t.agentName},{headers:{"x-access-token":t.token}})};function ge(e,t,n,A,r){return ve.apply(this,arguments)}function ve(){return(ve=r()(o.a.mark((function e(t,n,A,r,i){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,o){var s={sessionId:n,streamId:A,agentName:r,token:i};c.a.info("request body",s);var a=t+"/ivcs/api/v1/sessions/".concat(s.sessionId,"/streams/").concat(s.streamId,"/agentName");pe(t,s).then((function(t){de(a,t,null,!0),e(t)})).catch((function(e){de(a,null,e,!0);var t=new u.a(he(e.response||e),de(a,null,e,!1));o(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,t,n){return me.apply(this,arguments)}function me(){return(me=r()(o.a.mark((function e(t,n,A){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){c.a.info("addBase64ImgToMixStream request body",A);var i=t+"/ivcs/api/v1/rooms/"+n+"/streams/"+(n+"-common")+"/pictures";_(t,n,A).then((function(t){de(i,t,null,!0),e(t.data)})).catch((function(e){de(i,null,e,!0);var t=new u.a(he(e.response||e),de(i,null,e,!1));r(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t,n){return ye.apply(this,arguments)}function ye(){return(ye=r()(o.a.mark((function e(t,n,A){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){var i=t+"/ivcs/api/v1/rooms/"+n+"/streams/"+(n+"-common")+"/pictures/"+A;D(t,n,A).then((function(t){de(i,t,null,!0),e(t.data)})).catch((function(e){de(i,null,e,!0);var t=new u.a(he(e.response||e),de(i,null,e,!1));r(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return M})),n.d(t,"f",(function(){return H})),n.d(t,"h",(function(){return P})),n.d(t,"g",(function(){return j})),n.d(t,"i",(function(){return N})),n.d(t,"c",(function(){return K})),n.d(t,"e",(function(){return G})),n.d(t,"b",(function(){return q})),n.d(t,"d",(function(){return J}));var A=n(5),r=n.n(A),i=n(9),o=n.n(i),s=n(11),a=n.n(s),c=n(23),u=n.n(c),l=n(24),f=n.n(l),h=n(17),d=n.n(h),p=n(2),g=n.n(p),v=n(0),w=n(29),m=n.n(w),B=n(7),y=n(1),b=n(18),C=n.n(b),k=n(30),E=n(3);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,A=d()(e);if(t){var r=d()(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return f()(this,n)}}var Q=n(26),U=n(28),I=100,F=101,O=103,R=105,x="refreshTicketFailed",_="resumeConnectionFailed",D="ams_socket_disConnected",T="socketIoReconnectFailed",L="amsSocketIoReconnectFailed",M=function(t){u()(A,t);var n=S(A);function A(){var e;return o()(this,A),(e=n.call(this)).connected=!1,e.isReconnected=!1,e.isReconnecting=!1,e}return a()(A,[{key:"connect",value:function(t,n,A,r){var i=this,o=t,s=t.indexOf("?"),a={};if(-1!==s){o=t.substr(0,s);for(var c=t.substr(s+1).split("&"),u=0;u<c.length;u++){var l=c[u],f=l.indexOf("=");if(-1!==f){var h=l.substr(0,f),d=l.substr(f+1);a[h]=d}}}var p,g={reconnect:!0,secure:!1,reconnectionAttempts:12,"force new connection":!0,transports:["websocket"]};0==t.indexOf("https://")&&(g.agent=C.a.globalAgent),v.a.info("agent connect ams options,".concat(JSON.stringify(g))),a.token=n,a.servicePath="_ivcs_ams",g.query=a,U&&U.parse?(p=U.parse(o),1==e.env.ivcsAgentMode&&(C.a.globalAgent.options.rejectUnauthorized=!1)):p=U&&new U(o)?new U(o):new k.a(o).getUrlParams(),p.pathname&&"/"!==p.pathname&&(g.path=p.pathname,p.pathname="",o=U&&U.format?U.format(p):p.toString()),this.socket=m.a.connect(o,g),this.socket.on("connect",(function(e){v.a.info(new Date,"-ams-connect:"+e),i.connected=!0,i.reconnectTimes=0,i.isReconnecting=!1,A(),i.emit("onConnectStatus","connect")})),this.socket.on("connect_error",(function(e){v.a.warning(new Date,e+"-ams-connect_error"),r("connect_error")})),this.socket.on("connect_timeout",(function(e){v.a.warning(new Date,e+"-ams-connect_timeout"),r("connect_timeout")})),this.socket.on("error",(function(e){v.a.warning(new Date,JSON.stringify(e)+"-ams-connect-error"),r(e)})),this.socket.on("disconnect",(function(e){v.a.warning(new Date,e+"-ams-disconnect")})),this.socket.on("reconnect",(function(e){v.a.warning(new Date,e+"-ams-reconnect")})),this.socket.on("reconnect_attempt",(function(e){v.a.warning(new Date,e+"-ams-reconnect_attempt"),i.isReconnecting=!0})),this.socket.on("reconnecting",(function(e){v.a.info("".concat(new Date,",ams-reconnecting times:").concat(e)),i.reconnectTimes++,i.emit("onConnectStatus","reconnecting")})),this.socket.on("reconnect_error",(function(e){v.a.warning(new Date,e+"-ams-reconnect_error"),this.connected=!1})),this.socket.on("reconnect_failed",(function(e){v.a.warning(new Date,e+"-ams-reconnect_failed"),i.isReconnecting=!1,i.emit("onConnectStatus","reconnect_failed")}))}},{key:"onConnectStatus",value:function(e){this.on("onConnectStatus",(function(t){e(t)}))}},{key:"disconnect",value:function(){this.socket.disconnect()}},{key:"onConnectError",value:function(e){this.receive("connect_error",(function(t){e(t)})),this.receive("error",(function(t){e(t)})),this.receive("reconnect",(function(t){e(t)}))}},{key:"onDisconnect",value:function(e){var t=this;this.receive("disconnect",(function(n){t.connected&&t.reconnectTimes>=12&&(Object(B.c)(D,O,"ams socket io disconnected"),e(n))}))}},{key:"onReconnectFailed",value:function(e){var t=this;this.receive("reconnect_failed",(function(n){t.reconnectTimes>=12&&(Object(B.c)(L,R,"ams socket io reconnect_failed"),e(n))}))}},{key:"receive",value:function(e,t){this.socket?this.socket.on(e,t):(v.a.error("There is no socket connect"),t("error","socket io on event,".concat(e," error:there is no socket connect")))}},{key:"send",value:function(e,t,n){if(this.isReconnecting)n("reconnecting","ams socketio is reconnecting.");else if(this.connected)if(this.socket&&(this.socket.connected||this.connected)){var A=setTimeout((function(){n("timeout","send message with event:".concat(e," timeout"))}),6e4);t?this.socket.emit(e,t,(function(e,t){clearTimeout(A),A=null,n(e,t)})):this.socket.emit(e,(function(e,t){clearTimeout(A),A=null,n(e,t)}))}else v.a.error("There is no socket connect while send message with Name",e,"&and data,",t),n("error","There is no socket connect while send message with Name:"+e+"&and data:",t);else v.a.error("ams socketio disconnected with event:".concat(e)),n("error","ams socketio disconnected with event:".concat(e))}},{key:"onConnect",value:function(e){this.receive("connect",(function(){e()}))}},{key:"login",value:function(e,t){this.send("agent-login",e,(function(e,n){t(e,n)}))}},{key:"logout",value:function(e){this.send("agent-logout",null,(function(t,n){e(t,n)}))}},{key:"checkIn",value:function(e,t){this.send("agent-checkIn",e,(function(e,n){t(e,n)}))}},{key:"checkOut",value:function(e,t){this.send("agent-checkOut",e,(function(e,n){t(e,n)}))}},{key:"refreshTicket",value:function(e){this.send("refresh-ticket",null,(function(t,n){e(t,n)}))}},{key:"resumeConnection",value:function(e,t){this.send("resume-connection",e,(function(e,n){v.a.info(new Date,"resumeConnection result",e,n),t(e,n)}))}},{key:"onRing",value:function(e){this.receive("ring",(function(t,n){n("ok"),v.a.info("ring origin data",t);var A={};A.sessionId=t.session.id,A.url=t.session.url,A.userData=t.userData,A.bizScenarioId=t.session.bizScenarioId,A.group=t.session.group,A.room=t.session.room,A.invitationId=t.invitationId,e(A)}))}},{key:"onStopRinging",value:function(e){this.receive("stop-ringing",(function(){e()}))}},{key:"onError",value:function(e){this.receive("error",(function(t){e(t)}))}},{key:"onDrop",value:function(e){this.receive("drop",(function(){e()}))}},{key:"onReplaced",value:function(e){this.receive("replaced",(function(){e()}))}},{key:"ready",value:function(e){this.send("agent-ready",null,(function(t,n){e(t,n)}))}},{key:"unReady",value:function(e){this.send("agent-unready",null,(function(t,n){e(t,n)}))}},{key:"answerCall",value:function(e){this.send("agent-answer",null,(function(t,n){e(t,n)}))}},{key:"rejectCall",value:function(e){this.send("agent-reject",null,(function(t,n){e(t,n)}))}},{key:"hangup",value:function(e){this.send("agent-hangup",null,(function(t,n){e(t,n)}))}},{key:"appoint",value:function(e,t){this.send("agent-appoint",e,(function(e,n){t(e,n)}))}},{key:"otherWork",value:function(e,t){this.send("agent-otherWork",e,(function(e,n){t(e,n)}))}},{key:"setOtherWorkReason",value:function(e,t){this.send("set-otherwork-reason",e,(function(e,n){t(e,n)}))}}]),A}(Q);function H(e,t,n){var A=Math.pow(2,31)-1,r=t>A?A:t;r<100&&(r=100),e.refreshTicketInterval=setInterval((function(){e.refreshTicket((function(t,A){"ok"===t?(v.a.debug("ams refreshTicket success",A,new Date),e.ticket=A.ticket):"timeout"===t?v.a.debug("ams refreshTicket timeout",A,new Date):(v.a.error("ams refreshTicket error",t,A,new Date),clearInterval(e.refreshTicketInterval),e.refreshTicketInterval=null,Object(B.c)(x,I,"ams sio refreshTicketFailed"),n(A))}))}),r)}function P(e,t){t?e.resumeConnection(t,(function(t,n){"ok"===t?(v.a.debug("resume ams connection success",n),e.ticket=n.ticket,H(e,e.refersh_ticket_time,(function(){}))):(v.a.warning("resume ams connection failed",n),Object(B.c)(_,F,n))})):v.a.debug("ticket is empty,ams not login don't need to resume ams connection,at:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds()))}function j(e){e&&(e.accessToken=null,e.connected=!1,e.ticket=null,e.disconnect(),clearInterval(e.refreshTicketInterval),e.refreshTicketInterval=null,v.a.info("release ams client,".concat(new Date,"}")))}function N(e){return e?e.accessToken?e.connected?"ok":(v.a.warning("ams socket io is disconnected"),new y.a(E.b.ERROR_AMS_DISCONNECT,"ams socket io is disconnected")):(v.a.warning("ams accessToken is undefined or invalid"),new y.a(E.b.ERROR_AMS_TOKEN_UNDEFINED,"ams accessToken is undefined or invalid")):(v.a.warning("ams client is undefined"),new y.a(E.b.ERROR_AMS_UNDEFINED,"ams client is undefined"))}function K(e){return V.apply(this,arguments)}function V(){return(V=r()(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){t.answerCall((function(t,A){if("ok"===t)v.a.info("answer call success,".concat(A,",").concat(new Date)),e();else{v.a.warning("answer call failed,".concat(A,",").concat(new Date));var r=new y.a(E.b.ERROR_AMS_API_FAILED,"answer call failed,".concat(A));n(r)}}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return W.apply(this,arguments)}function W(){return(W=r()(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){t.hangup((function(t,A){if("ok"===t)v.a.info("hangup call success,".concat(A,",").concat(new Date)),e();else{v.a.warning("hangup call failed,".concat(A,",").concat(new Date));var r=new y.a(E.b.ERROR_AMS_API_FAILED,"hangup call failed,".concat(A));n(r)}}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){var t=Object(B.a)(_,(function(n){Object(B.d)(_,t),e(n)})),n=Object(B.a)(D,(function(t){Object(B.d)(D,n),e(t)})),A=Object(B.a)(T,(function(t){Object(B.d)(T,A),e(t)}))}function J(e,t,n){return Y.apply(this,arguments)}function Y(){return(Y=r()(g.a.mark((function e(t,n,A){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){t.connect(n,A,(function(){}),(function(e){v.a.warning("ams connect error",e);var t=new y.a(E.b.ERROR_AMS_CONNECT_FAILED,"ams connect error:"+e);r(t)})),t.onConnect((function(n){v.a.debug("connect to ams at",new Date,"at:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),t.isReconnected?(t.refreshTicketInterval&&(v.a.debug("remove refresh ticket timing task while resume ams connect"),clearInterval(t.refreshTicketInterval),t.refreshTicketInterval=null),P(t,t.ticket)):(t.isReconnected=!0,e(n)),t.accessToken=A,t.connected=!0})),t.onDisconnect((function(e){v.a.warning("ams socket is disconnected,",e,new Date,"at:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),t.connected=!1,t.refreshTicketInterval&&(v.a.info("remove refresh ticket timing task with reason ",e),clearInterval(t.refreshTicketInterval),t.refreshTicketInterval=null)})),t.onReconnectFailed((function(e){v.a.warning("ams socket reconnect failed,",e,new Date,"at:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),t.connected=!1,t.refreshTicketInterval&&(v.a.info("remove refresh ticket timing task with reason ",e),clearInterval(t.refreshTicketInterval),t.refreshTicketInterval=null)})),t.onConnectError((function(e){v.a.warning("ams socket is connect-error,",e,new Date,"at:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),t.refreshTicketInterval&&(v.a.info("remove refresh ticket timing task with reason",e),clearInterval(t.refreshTicketInterval),t.refreshTicketInterval=null)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(16))},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var A=t[n];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(e,A.key,A)}}e.exports=function(e,t,A){return t&&n(e.prototype,t),A&&n(e,A),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var A=n(61),r=n(62),i=n(34),o=n(63);e.exports=function(e){return A(e)||r(e)||i(e)||o()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var A=n(46),r=Object.prototype.toString;function i(e){return"[object Array]"===r.call(e)}function o(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function a(e){return"[object Function]"===r.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,A=e.length;n<A;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:o,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:a,isStream:function(e){return s(e)&&a(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function n(n,A){"object"==typeof t[A]&&"object"==typeof n?t[A]=e(t[A],n):t[A]=n}for(var A=0,r=arguments.length;A<r;A++)c(arguments[A],n);return t},deepMerge:function e(){var t={};function n(n,A){"object"==typeof t[A]&&"object"==typeof n?t[A]=e(t[A],n):t[A]="object"==typeof n?e({},n):n}for(var A=0,r=arguments.length;A<r;A++)c(arguments[A],n);return t},extend:function(e,t,n){return c(t,(function(t,r){e[r]=n&&"function"==typeof t?A(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n,A,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{A="function"==typeof clearTimeout?clearTimeout:o}catch(e){A=o}}();var a,c=[],u=!1,l=-1;function f(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&h())}function h(){if(!u){var e=s(f);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(A===clearTimeout)return clearTimeout(e);if((A===o||!A)&&clearTimeout)return A=clearTimeout,clearTimeout(e);try{A(e)}catch(t){try{return A.call(null,e)}catch(t){return A.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||u||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var A=n(33),r=n(28),i=e.exports;for(var o in A)A.hasOwnProperty(o)&&(i[o]=A[o]);function s(e){if("string"==typeof e&&(e=r.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}i.request=function(e,t){return e=s(e),A.request.call(this,e,t)},i.get=function(e,t){return e=s(e),A.get.call(this,e,t)}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var A=n(67),r=n(68),i=n(69);function o(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=a.prototype:(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,n)}function c(e,t,n,A){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,A){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(A||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===A?new Uint8Array(t):void 0===A?new Uint8Array(t,n):new Uint8Array(t,n,A);a.TYPED_ARRAY_SUPPORT?(e=t).__proto__=a.prototype:e=f(e,t);return e}(e,t,n,A):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var A=0|d(t,n),r=(e=s(e,A)).write(t,n);r!==A&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(a.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(A=t.length)!=A?s(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}var A;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var A=0;A<n;A+=1)e[A]=255&t[A];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function d(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var A=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return P(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(A)return P(e).length;t=(""+t).toLowerCase(),A=!0}}function p(e,t,n){var A=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return Q(this,t,n);case"latin1":case"binary":return U(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(A)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),A=!0}}function g(e,t,n){var A=e[t];e[t]=e[n],e[n]=A}function v(e,t,n,A,r){if(0===e.length)return-1;if("string"==typeof n?(A=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=a.from(t,A)),a.isBuffer(t))return 0===t.length?-1:w(e,t,n,A,r);if("number"==typeof t)return t&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,A,r);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,A,r){var i,o=1,s=e.length,a=t.length;if(void 0!==A&&("ucs2"===(A=String(A).toLowerCase())||"ucs-2"===A||"utf16le"===A||"utf-16le"===A)){if(e.length<2||t.length<2)return-1;o=2,s/=2,a/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var u=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===a)return u*o}else-1!==u&&(i-=i-u),u=-1}else for(n+a>s&&(n=s-a),i=n;i>=0;i--){for(var l=!0,f=0;f<a;f++)if(c(e,i+f)!==c(t,f)){l=!1;break}if(l)return i}return-1}function m(e,t,n,A){n=Number(n)||0;var r=e.length-n;A?(A=Number(A))>r&&(A=r):A=r;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");A>i/2&&(A=i/2);for(var o=0;o<A;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function B(e,t,n,A){return N(P(t,e.length-n),e,n,A)}function y(e,t,n,A){return N(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,A)}function b(e,t,n,A){return y(e,t,n,A)}function C(e,t,n,A){return N(j(t),e,n,A)}function k(e,t,n,A){return N(function(e,t){for(var n,A,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),A=n>>8,r=n%256,i.push(r),i.push(A);return i}(t,e.length-n),e,n,A)}function E(e,t,n){return 0===t&&n===e.length?A.fromByteArray(e):A.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var A=[],r=t;r<n;){var i,o,s,a,c=e[r],u=null,l=c>239?4:c>223?3:c>191?2:1;if(r+l<=n)switch(l){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[r+1]))&&(a=(31&c)<<6|63&i)>127&&(u=a);break;case 3:i=e[r+1],o=e[r+2],128==(192&i)&&128==(192&o)&&(a=(15&c)<<12|(63&i)<<6|63&o)>2047&&(a<55296||a>57343)&&(u=a);break;case 4:i=e[r+1],o=e[r+2],s=e[r+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&(a=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&a<1114112&&(u=a)}null===u?(u=65533,l=1):u>65535&&(u-=65536,A.push(u>>>10&1023|55296),u=56320|1023&u),A.push(u),r+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",A=0;for(;A<t;)n+=String.fromCharCode.apply(String,e.slice(A,A+=4096));return n}(A)}t.Buffer=a,t.SlowBuffer=function(e){+e!=e&&(e=0);return a.alloc(+e)},t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,n){return c(null,e,t,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,n){return function(e,t,n,A){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof A?s(e,t).fill(n,A):s(e,t).fill(n):s(e,t)}(null,e,t,n)},a.allocUnsafe=function(e){return l(null,e)},a.allocUnsafeSlow=function(e){return l(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,A=t.length,r=0,i=Math.min(n,A);r<i;++r)if(e[r]!==t[r]){n=e[r],A=t[r];break}return n<A?-1:A<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var A=a.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(A,r),r+=o.length}return A},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):p.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,A,r){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===A&&(A=0),void 0===r&&(r=this.length),t<0||n>e.length||A<0||r>this.length)throw new RangeError("out of range index");if(A>=r&&t>=n)return 0;if(A>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(r>>>=0)-(A>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(i,o),c=this.slice(A,r),u=e.slice(t,n),l=0;l<s;++l)if(c[l]!==u[l]){i=c[l],o=u[l];break}return i<o?-1:o<i?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},a.prototype.write=function(e,t,n,A){if(void 0===t)A="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)A=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===A&&(A="utf8")):(A=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");for(var i=!1;;)switch(A){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return B(this,e,t,n);case"ascii":return y(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Q(e,t,n){var A="";n=Math.min(e.length,n);for(var r=t;r<n;++r)A+=String.fromCharCode(127&e[r]);return A}function U(e,t,n){var A="";n=Math.min(e.length,n);for(var r=t;r<n;++r)A+=String.fromCharCode(e[r]);return A}function I(e,t,n){var A=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>A)&&(n=A);for(var r="",i=t;i<n;++i)r+=H(e[i]);return r}function F(e,t,n){for(var A=e.slice(t,n),r="",i=0;i<A.length;i+=2)r+=String.fromCharCode(A[i]+256*A[i+1]);return r}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,A,r,i){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<i)throw new RangeError('"value" argument is out of bounds');if(n+A>e.length)throw new RangeError("Index out of range")}function x(e,t,n,A){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-n,2);r<i;++r)e[n+r]=(t&255<<8*(A?r:1-r))>>>8*(A?r:1-r)}function _(e,t,n,A){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-n,4);r<i;++r)e[n+r]=t>>>8*(A?r:3-r)&255}function D(e,t,n,A,r,i){if(n+A>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(e,t,n,A,i){return i||D(e,0,n,4),r.write(e,t,n,A,23,4),n+4}function L(e,t,n,A,i){return i||D(e,0,n,8),r.write(e,t,n,A,52,8),n+8}a.prototype.slice=function(e,t){var n,A=this.length;if((e=~~e)<0?(e+=A)<0&&(e=0):e>A&&(e=A),(t=void 0===t?A:~~t)<0?(t+=A)<0&&(t=0):t>A&&(t=A),t<e&&(t=e),a.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=a.prototype;else{var r=t-e;n=new a(r,void 0);for(var i=0;i<r;++i)n[i]=this[i+e]}return n},a.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var A=this[e],r=1,i=0;++i<t&&(r*=256);)A+=this[e+i]*r;return A},a.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var A=this[e+--t],r=1;t>0&&(r*=256);)A+=this[e+--t]*r;return A},a.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var A=this[e],r=1,i=0;++i<t&&(r*=256);)A+=this[e+i]*r;return A>=(r*=128)&&(A-=Math.pow(2,8*t)),A},a.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var A=t,r=1,i=this[e+--A];A>0&&(r*=256);)i+=this[e+--A]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,A){(e=+e,t|=0,n|=0,A)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,i=0;for(this[t]=255&e;++i<n&&(r*=256);)this[t+i]=e/r&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,A){(e=+e,t|=0,n|=0,A)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):_(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,n,A){if(e=+e,t|=0,!A){var r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},a.prototype.writeIntBE=function(e,t,n,A){if(e=+e,t|=0,!A){var r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):_(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,n){return T(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return T(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,A){if(n||(n=0),A||0===A||(A=this.length),t>=e.length&&(t=e.length),t||(t=0),A>0&&A<n&&(A=n),A===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),e.length-t<A-n&&(A=e.length-t+n);var r,i=A-n;if(this===e&&n<t&&t<A)for(r=i-1;r>=0;--r)e[r+t]=this[r+n];else if(i<1e3||!a.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},a.prototype.fill=function(e,t,n,A){if("string"==typeof e){if("string"==typeof t?(A=t,t=0,n=this.length):"string"==typeof n&&(A=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==A&&"string"!=typeof A)throw new TypeError("encoding must be a string");if("string"==typeof A&&!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=a.isBuffer(e)?e:P(new a(e,A).toString()),s=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function P(e,t){var n;t=t||1/0;for(var A=e.length,r=null,i=[],o=0;o<A;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===A){(t-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function j(e){return A.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,n,A){for(var r=0;r<A&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(15))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){var A=n(58),r=n(59),i=n(34),o=n(60);e.exports=function(e,t){return A(e)||r(e,t)||i(e,t)||o()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var A=n(27),r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var i=Object.create(n(25));i.inherits=n(20);var o=n(40),s=n(43);i.inherits(l,o);for(var a=r(s.prototype),c=0;c<a.length;c++){var u=a[c];l.prototype[u]||(l.prototype[u]=s.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||A.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(e,t){this.push(null),this.end(),A.nextTick(t,e)}},function(e,t,n){var A=n(65);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var A=n(14).default,r=n(66);e.exports=function(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?r(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(19).Buffer)},function(e,t,n){"use strict";var A,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};A=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,A){function r(n){e.removeListener(t,i),A(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}v(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,r,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,A){var r,i,o,s;if(c(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),void 0===o)o=i[t]=n,++e._eventsCount;else if("function"==typeof o?o=i[t]=A?[n,o]:[o,n]:A?o.unshift(n):o.push(n),(r=u(e))>0&&o.length>r&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,s=a,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var A={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=f.bind(A);return r.listener=n,A.wrapFn=r,r}function d(e,t,n){var A=e._events;if(void 0===A)return[];var r=A[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),A=0;A<t;++A)n[A]=e[A];return n}function v(e,t,n,A){if("function"==typeof e.on)A.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(i){A.once&&e.removeEventListener(t,r),n(i)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var A="error"===e,r=this._events;if(void 0!==r)A=A&&void 0===r.error;else if(!A)return!1;if(A){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=r[e];if(void 0===a)return!1;if("function"==typeof a)i(a,this,t);else{var c=a.length,u=g(a,c);for(n=0;n<c;++n)i(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,A,r,i,o;if(c(t),void 0===(A=this._events))return this;if(void 0===(n=A[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete A[e],A.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){o=n[i].listener,r=i;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(A[e]=n[0]),void 0!==A.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,A;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,i=Object.keys(n);for(A=0;A<i.length;++A)"removeListener"!==(r=i[A])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(A=t.length-1;A>=0;A--)this.removeListener(e,t[A]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?A(this._events):[]}},function(e,t,n){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,A,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,A)}));case 4:return t.nextTick((function(){e.call(null,n,A,r)}));default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return t.nextTick((function(){e.apply(null,i)}))}}}:e.exports=t}).call(this,n(16))},function(e,t,n){"use strict";var A=n(83),r=n(84);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=m,t.resolve=function(e,t){return m(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?m(e,!1,!0).resolveObject(t):t},t.format=function(e){r.isString(e)&&(e=m(e));return e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),l=["%","/","?",";","#"].concat(u),f=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=n(85);function m(e,t,n){if(e&&r.isObject(e)&&e instanceof i)return e;var A=new i;return A.parse(e,t,n),A}i.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var m=e=c.join(s);if(m=m.trim(),!n&&1===e.split("#").length){var B=a.exec(m);if(B)return this.path=m,this.href=m,this.pathname=B[1],B[2]?(this.search=B[2],this.query=t?w.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var y=o.exec(m);if(y){var b=(y=y[0]).toLowerCase();this.protocol=b,m=m.substr(y.length)}if(n||y||m.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===m.substr(0,2);!C||y&&g[y]||(m=m.substr(2),this.slashes=!0)}if(!g[y]&&(C||y&&!v[y])){for(var k,E,S=-1,Q=0;Q<f.length;Q++){-1!==(U=m.indexOf(f[Q]))&&(-1===S||U<S)&&(S=U)}-1!==(E=-1===S?m.lastIndexOf("@"):m.lastIndexOf("@",S))&&(k=m.slice(0,E),m=m.slice(E+1),this.auth=decodeURIComponent(k)),S=-1;for(Q=0;Q<l.length;Q++){var U;-1!==(U=m.indexOf(l[Q]))&&(-1===S||U<S)&&(S=U)}-1===S&&(S=m.length),this.host=m.slice(0,S),m=m.slice(S),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var F=this.hostname.split(/\./),O=(Q=0,F.length);Q<O;Q++){var R=F[Q];if(R&&!R.match(h)){for(var x="",_=0,D=R.length;_<D;_++)R.charCodeAt(_)>127?x+="x":x+=R[_];if(!x.match(h)){var T=F.slice(0,Q),L=F.slice(Q+1),M=R.match(d);M&&(T.push(M[1]),L.unshift(M[2])),L.length&&(m="/"+L.join(".")+m),this.hostname=T.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=A.toASCII(this.hostname));var H=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+H,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==m[0]&&(m="/"+m))}if(!p[b])for(Q=0,O=u.length;Q<O;Q++){var j=u[Q];if(-1!==m.indexOf(j)){var N=encodeURIComponent(j);N===j&&(N=escape(j)),m=m.split(j).join(N)}}var K=m.indexOf("#");-1!==K&&(this.hash=m.substr(K),m=m.slice(0,K));var V=m.indexOf("?");if(-1!==V?(this.search=m.substr(V),this.query=m.substr(V+1),t&&(this.query=w.parse(this.query)),m=m.slice(0,V)):t&&(this.search="",this.query={}),m&&(this.pathname=m),v[b]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){H=this.pathname||"";var G=this.search||"";this.path=H+G}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",A=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=w.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),A&&"#"!==A.charAt(0)&&(A="#"+A),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+A},i.prototype.resolve=function(e){return this.resolveObject(m(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(r.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,A=Object.keys(this),o=0;o<A.length;o++){var s=A[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),c=0;c<a.length;c++){var u=a[c];"protocol"!==u&&(n[u]=e[u])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var l=Object.keys(e),f=0;f<l.length;f++){var h=l[f];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var p=n.pathname||"",w=n.search||"";n.path=p+w}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),B=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=B||m||n.host&&e.pathname,b=y,C=n.pathname&&n.pathname.split("/")||[],k=(d=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),y=y&&(""===d[0]||""===C[0])),B)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=d;else if(d.length)C||(C=[]),C.pop(),C=C.concat(d),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search)){if(k)n.hostname=n.host=C.shift(),(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift());return n.search=e.search,n.query=e.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!C.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var E=C.slice(-1)[0],S=(n.host||e.host||C.length>1)&&("."===E||".."===E)||""===E,Q=0,U=C.length;U>=0;U--)"."===(E=C[U])?C.splice(U,1):".."===E?(C.splice(U,1),Q++):Q&&(C.splice(U,1),Q--);if(!y&&!b)for(;Q--;Q)C.unshift("..");!y||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),S&&"/"!==C.join("/").substr(-1)&&C.push("");var I,F=""===C[0]||C[0]&&"/"===C[0].charAt(0);k&&(n.hostname=n.host=F?"":C.length?C.shift():"",(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift()));return(y=y||n.host&&C.length)&&!F&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){(function(e,A){var r,i,o,s,a=n(14);
/*!
 * Socket.IO v2.3.0
 * (c) 2014-2019 Guillermo Rauch
 * Released under the MIT License.
 */
s=function(){return function(e){var t={};function n(A){if(t[A])return t[A].exports;var r=t[A]={exports:{},id:A,loaded:!1};return e[A].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){var A=n(1),r=n(7),i=n(15),o=n(3)("socket.io-client");e.exports=t=c;var s=t.managers={};function c(e,t){"object"===a(e)&&(t=e,e=void 0),t=t||{};var n,r=A(e),c=r.source,u=r.id,l=r.path,f=s[u]&&l in s[u].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||f?(o("ignoring socket cache for %s",c),n=i(c,t)):(s[u]||(o("new io instance for %s",c),s[u]=i(c,t)),n=s[u]),r.query&&!t.query&&(t.query=r.query),n.socket(r.path,t)}t.protocol=r.protocol,t.connect=c,t.Manager=n(15),t.Socket=n(39)},function(e,t,n){var A=n(2),r=n(3)("socket.io-client:url");e.exports=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(r("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),r("parse %s",e),n=A(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port,n.href=n.protocol+"://"+i+(t&&t.port===n.port?"":":"+n.port),n}},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,A=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,r=e.indexOf("["),i=e.indexOf("]");-1!=r&&-1!=i&&(e=e.substring(0,r)+e.substring(r,i).replace(/:/g,";")+e.substring(i,e.length));for(var o=n.exec(e||""),s={},a=14;a--;)s[A[a]]=o[a]||"";return-1!=r&&-1!=i&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t,n){(function(A){"use strict";var r="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)};t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":r(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var A=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(A++,"%c"===e&&(r=A))})),t.splice(r,0,n)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e=void 0;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==A&&"env"in A&&(e=A.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(5)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(t,n(4))},function(e,t){var n,A,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{A="function"==typeof clearTimeout?clearTimeout:o}catch(e){A=o}}();var a,c=[],u=!1,l=-1;function f(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&h())}function h(){if(!u){var e=s(f);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(A===clearTimeout)return clearTimeout(e);if((A===o||!A)&&clearTimeout)return A=clearTimeout,clearTimeout(e);try{A(e)}catch(t){try{return A.call(null,e)}catch(t){return A.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||u||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";function A(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n=void 0;function A(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(A.enabled){var o=A,s=Number(new Date),a=s-(n||s);o.diff=a,o.prev=n,o.curr=s,n=s,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;c++;var A=r.formatters[n];if("function"==typeof A){var i=t[c];e=A.call(o,i),t.splice(c,1),c--}return e})),r.formatArgs.call(o,t);var u=o.log||r.log;u.apply(o,t)}}return A.namespace=e,A.enabled=r.enabled(e),A.useColors=r.useColors(),A.color=t(e),A.destroy=i,A.extend=o,"function"==typeof r.init&&r.init(A),r.instances.push(A),A}function i(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){var n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){var e=[].concat(A(r.names.map(s)),A(r.skips.map(s).map((function(e){return"-"+e})))).join(",");return r.enable(""),e},r.enable=function(e){r.save(e),r.names=[],r.skips=[];var t=void 0,n=("string"==typeof e?e:"").split(/[\s,]+/),A=n.length;for(t=0;t<A;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var i=r.instances[t];i.enabled=r.enabled(i.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t=void 0,n=void 0;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(6),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){var n=1e3,A=6e4,r=60*A,i=24*r;function o(e,t,n,A){var r=t>=1.5*n;return Math.round(e/n)+" "+A+(r?"s":"")}e.exports=function(e,t){t=t||{};var s,c,u=a(e);if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*i;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*A;case"seconds":case"second":case"secs":case"sec":case"s":return o*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===u&&isFinite(e))return t.long?(s=e,(c=Math.abs(s))>=i?o(s,c,i,"day"):c>=r?o(s,c,r,"hour"):c>=A?o(s,c,A,"minute"):c>=n?o(s,c,n,"second"):s+" ms"):function(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+"d":t>=r?Math.round(e/r)+"h":t>=A?Math.round(e/A)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var A=n(8)("socket.io-parser"),r=n(11),i=n(12),o=n(13),s=n(14);function a(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=a,t.Decoder=l;var c=t.ERROR+'"encode error"';function u(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var r=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===r)return c;n+=r}return A("encoded %j as %s",e,n),n}function l(){this.reconstructor=null}function f(e){this.reconPack=e,this.buffers=[]}function h(e){return{type:t.ERROR,data:"parser error: "+e}}a.prototype.encode=function(e,n){A("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type?function(e,t){i.removeBlobs(e,(function(e){var n=i.deconstructPacket(e),A=u(n.packet),r=n.buffers;r.unshift(A),t(r)}))}(e,n):n([u(e)])},r(l.prototype),l.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n=0,r={type:Number(e.charAt(0))};if(null==t.types[r.type])return h("unknown packet type "+r.type);if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var i="";"-"!==e.charAt(++n)&&(i+=e.charAt(n),n!=e.length););if(i!=Number(i)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(n+1))for(r.nsp="";++n&&","!==(a=e.charAt(n))&&(r.nsp+=a,n!==e.length););else r.nsp="/";var s=e.charAt(n+1);if(""!==s&&Number(s)==s){for(r.id="";++n;){var a;if(null==(a=e.charAt(n))||Number(a)!=a){--n;break}if(r.id+=e.charAt(n),n===e.length)break}r.id=Number(r.id)}if(e.charAt(++n)){var c=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(n));if(!1===c||r.type!==t.ERROR&&!o(c))return h("invalid payload");r.data=c}return A("decoded %s as %j",e,r),r}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new f(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},l.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){(function(A){"use strict";var r="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)};function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==A&&"env"in A&&(e=A.env.DEBUG),e}(t=e.exports=n(9)).log=function(){return"object"===("undefined"==typeof console?"undefined":r(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var A="color: "+this.color;e.splice(1,0,A,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(i=r))})),e.splice(i,0,A)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())}).call(t,n(4))},function(e,t,n){"use strict";function A(e){var n;function A(){if(A.enabled){var e=A,r=+new Date,i=r-(n||r);e.diff=i,e.prev=n,e.curr=r,n=r;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var a=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(n,A){if("%%"===n)return n;a++;var r=t.formatters[A];if("function"==typeof r){var i=o[a];n=r.call(e,i),o.splice(a,1),a--}return n})),t.formatArgs.call(e,o);var c=A.log||t.log||console.log.bind(console);c.apply(e,o)}}return A.namespace=e,A.enabled=t.enabled(e),A.useColors=t.useColors(),A.color=function(e){var n,A=0;for(n in e)A=(A<<5)-A+e.charCodeAt(n),A|=0;return t.colors[Math.abs(A)%t.colors.length]}(e),A.destroy=r,"function"==typeof t.init&&t.init(A),t.instances.push(A),A}function r(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=A.debug=A.default=A).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var A=("string"==typeof e?e:"").split(/[\s,]+/),r=A.length;for(n=0;n<r;n++)A[n]&&("-"===(e=A[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var i=t.instances[n];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,A;for(n=0,A=t.skips.length;n<A;n++)if(t.skips[n].test(e))return!1;for(n=0,A=t.names.length;n<A;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(10),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,A=6e4,r=60*A,i=24*r;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var s,c=a(e);if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"days":case"day":case"d":return o*i;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*A;case"seconds":case"second":case"secs":case"sec":case"s":return o*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===c&&!1===isNaN(e))return t.long?o(s=e,i,"day")||o(s,r,"hour")||o(s,A,"minute")||o(s,n,"second")||s+" ms":function(e){return e>=i?Math.round(e/i)+"d":e>=r?Math.round(e/r)+"h":e>=A?Math.round(e/A)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){function A(e){if(e)return function(e){for(var t in A.prototype)e[t]=A.prototype[t];return e}(e)}e.exports=A,A.prototype.on=A.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},A.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},A.prototype.off=A.prototype.removeListener=A.prototype.removeAllListeners=A.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,A=this._callbacks["$"+e];if(!A)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<A.length;r++)if((n=A[r])===t||n.fn===t){A.splice(r,1);break}return this},A.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var A=0,r=(n=n.slice(0)).length;A<r;++A)n[A].apply(this,t);return this},A.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},A.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var A=n(13),r=n(14),i=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);t.deconstructPacket=function(e){var t=[],n=e.data,i=e;return i.data=function e(t,n){if(!t)return t;if(r(t)){var i={_placeholder:!0,num:n.length};return n.push(t),i}if(A(t)){for(var o=new Array(t.length),s=0;s<t.length;s++)o[s]=e(t[s],n);return o}if("object"===a(t)&&!(t instanceof Date)){for(var c in o={},t)o[c]=e(t[c],n);return o}return t}(n,t),i.attachments=t.length,{packet:i,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(A(t))for(var r=0;r<t.length;r++)t[r]=e(t[r],n);else if("object"===a(t))for(var i in t)t[i]=e(t[i],n);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,i=e;!function e(c,u,l){if(!c)return c;if(o&&c instanceof Blob||s&&c instanceof File){n++;var f=new FileReader;f.onload=function(){l?l[u]=this.result:i=this.result,--n||t(i)},f.readAsArrayBuffer(c)}else if(A(c))for(var h=0;h<c.length;h++)e(c[h],h,c);else if("object"===a(c)&&!r(c))for(var d in c)e(c[d],d,c)}(i),n||t(i)}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(t,n){t.exports=function(t){return A&&e.isBuffer(t)||r&&(t instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(t))};var A="function"==typeof e&&"function"==typeof e.isBuffer,r="function"==typeof ArrayBuffer},function(e,t,n){var A=n(16),r=n(39),i=n(11),o=n(7),s=n(41),c=n(42),u=n(3)("socket.io-client:manager"),l=n(38),f=n(43),h=Object.prototype.hasOwnProperty;function d(e,t){if(!(this instanceof d))return new d(e,t);e&&"object"===a(e)&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||o;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=d,d.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},d.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},d.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},i(d.prototype),d.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},d.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},d.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=A(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=s(n,"open",(function(){r.onopen(),e&&e()})),o=s(n,"error",(function(t){if(u("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var a=this._timeout;u("connect attempt will timeout after %d",a);var c=setTimeout((function(){u("connect attempt timed out after %d",a),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",a)}),a);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(i),this.subs.push(o),this},d.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",c(this,"ondata"))),this.subs.push(s(e,"ping",c(this,"onping"))),this.subs.push(s(e,"pong",c(this,"onpong"))),this.subs.push(s(e,"error",c(this,"onerror"))),this.subs.push(s(e,"close",c(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",c(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(e){this.decoder.add(e)},d.prototype.ondecoded=function(e){this.emit("packet",e)},d.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},d.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new r(this,e,t),this.nsps[e]=n;var A=this;n.on("connecting",i),n.on("connect",(function(){n.id=A.generateId(e)})),this.autoConnect&&i()}function i(){~l(A.connecting,n)||A.connecting.push(n)}return n},d.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},d.prototype.packet=function(e){u("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var A=0;A<n.length;A++)t.engine.write(n[A],e.options);t.encoding=!1,t.processPacketQueue()})))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},d.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},d.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(17),e.exports.parser=n(24)},function(e,t,n){var A=n(18),r=n(11),i=n(3)("engine.io-client:socket"),o=n(38),s=n(24),c=n(2),u=n(32);function l(e,t){if(!(this instanceof l))return new l(e,t);t=t||{},e&&"object"===a(e)&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=l,l.priorWebsocketSuccess=!1,r(l.prototype),l.protocol=s.protocol,l.Socket=l,l.Transport=n(23),l.transports=n(18),l.parser=n(24),l.prototype.createTransport=function(e){i('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new A[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},l.prototype.open=function(){var e;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},l.prototype.setTransport=function(e){i("setting transport %s",e.name);var t=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},l.prototype.probe=function(e){i('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,A=this;function r(){if(A.onlyBinaryUpgrades){var r=!this.supportsBinary&&A.transport.supportsBinary;n=n||r}n||(i('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(r){if(!n)if("pong"===r.type&&"probe"===r.data){if(i('probe transport "%s" pong',e),A.upgrading=!0,A.emit("upgrading",t),!t)return;l.priorWebsocketSuccess="websocket"===t.name,i('pausing current transport "%s"',A.transport.name),A.transport.pause((function(){n||"closed"!==A.readyState&&(i("changing transport and sending upgrade packet"),f(),A.setTransport(t),t.send([{type:"upgrade"}]),A.emit("upgrade",t),t=null,A.upgrading=!1,A.flush())}))}else{i('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,A.emit("upgradeError",o)}})))}function o(){n||(n=!0,f(),t.close(),t=null)}function s(n){var r=new Error("probe error: "+n);r.transport=t.name,o(),i('probe transport "%s" failed because of error: %s',e,n),A.emit("upgradeError",r)}function a(){s("transport closed")}function c(){s("socket closed")}function u(e){t&&e.name!==t.name&&(i('"%s" works - aborting "%s"',e.name,t.name),o())}function f(){t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",a),A.removeListener("close",c),A.removeListener("upgrading",u)}l.priorWebsocketSuccess=!1,t.once("open",r),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",u),t.open()},l.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},l.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(i('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else i('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},l.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){i("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},l.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},l.prototype.sendPacket=function(e,t,n,A){if("function"==typeof t&&(A=t,t=void 0),"function"==typeof n&&(A=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:e,data:t,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),A&&this.once("flush",A),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?A():t()})):this.upgrading?A():t()}function t(){e.onClose("forced close"),i("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function A(){e.once("upgrade",n),e.once("upgradeError",n)}return this},l.prototype.onError=function(e){i("socket error %j",e),l.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},l.prototype.onClose=function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(i('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},l.prototype.filterUpgrades=function(e){for(var t=[],n=0,A=e.length;n<A;n++)~o(this.transports,e[n])&&t.push(e[n]);return t}},function(e,t,n){var A=n(19),r=n(21),i=n(35),o=n(36);t.polling=function(e){var t=!1,n=!1,o=!1!==e.jsonp;if("undefined"!=typeof location){var s="https:"===location.protocol,a=location.port;a||(a=s?443:80),t=e.hostname!==location.hostname||a!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new A(e)&&!e.forceJSONP)return new r(e);if(!o)throw new Error("JSONP disabled");return new i(e)},t.websocket=o},function(e,t,n){var A=n(20);e.exports=function(e){var t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||A))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(e){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){var A=n(19),r=n(22),i=n(11),o=n(33),s=n(3)("engine.io-client:polling-xhr");function a(){}function c(e){if(r.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function u(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=c,e.exports.Request=u,o(c,r),c.prototype.supportsBinary=!0,c.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new u(e)},c.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,A=this.request({method:"POST",data:e,isBinary:n}),r=this;A.on("success",t),A.on("error",(function(e){r.onError("xhr post error",e)})),this.sendXhr=A},c.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},i(u.prototype),u.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new A(e),n=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var r in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(r)&&t.setRequestHeader(r,this.extraHeaders[r])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof t.status?t.status:0)}),0))},s("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((function(){n.onError(e)}),0)}"undefined"!=typeof document&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},u.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},u.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=a:this.xhr.onreadystatechange=a,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},u.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",f);else if("function"==typeof addEventListener){var l="onpagehide"in self?"pagehide":"unload";addEventListener(l,f,!1)}function f(){for(var e in u.requests)u.requests.hasOwnProperty(e)&&u.requests[e].abort()}},function(e,t,n){var A=n(23),r=n(32),i=n(24),o=n(33),s=n(34),a=n(3)("engine.io-client:polling");e.exports=u;var c=null!=new(n(19))({xdomain:!1}).responseType;function u(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),A.call(this,e)}o(u,A),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(e){var t=this;function n(){a("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var A=0;this.polling&&(a("we are currently polling - waiting to pause"),A++,this.once("pollComplete",(function(){a("pre-pause polling complete"),--A||n()}))),this.writable||(a("we are currently writing - waiting to pause"),A++,this.once("drain",(function(){a("pre-pause writing complete"),--A||n()})))}else n()},u.prototype.poll=function(){a("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(e){var t=this;a("polling got data %s",e),i.decodePayload(e,this.socket.binaryType,(function(e,n,A){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():a('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var e=this;function t(){a("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(a("transport open - closing"),t()):(a("transport not open - deferring close"),this.once("open",t))},u.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};i.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=r.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){var A=n(24),r=n(11);function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=i,r(i.prototype),i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=A.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){var A,r=n(25),i=n(26),o=n(27),s=n(28),a=n(29);"undefined"!=typeof ArrayBuffer&&(A=n(30));var c="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),l=c||u;t.protocol=3;var f=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=r(f),d={type:"error",data:"parser error"},p=n(31);function g(e,t,n){for(var A=new Array(e.length),r=s(e.length,n),i=function(e,n,r){t(n,(function(t,n){A[e]=n,r(t,A)}))},o=0;o<e.length;o++)i(o,e[o],r)}t.encodePacket=function(e,n,A,r){"function"==typeof n&&(r=n,n=!1),"function"==typeof A&&(r=A,A=null);var i=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer)return function(e,n,A){if(!n)return t.encodeBase64Packet(e,A);var r=e.data,i=new Uint8Array(r),o=new Uint8Array(1+r.byteLength);o[0]=f[e.type];for(var s=0;s<i.length;s++)o[s+1]=i[s];return A(o.buffer)}(e,n,r);if(void 0!==p&&i instanceof p)return function(e,n,A){if(!n)return t.encodeBase64Packet(e,A);if(l)return function(e,n,A){if(!n)return t.encodeBase64Packet(e,A);var r=new FileReader;return r.onload=function(){t.encodePacket({type:e.type,data:r.result},n,!0,A)},r.readAsArrayBuffer(e.data)}(e,n,A);var r=new Uint8Array(1);r[0]=f[e.type];var i=new p([r.buffer,e.data]);return A(i)}(e,n,r);if(i&&i.base64)return function(e,n){var A="b"+t.packets[e.type]+e.data.data;return n(A)}(e,r);var o=f[e.type];return void 0!==e.data&&(o+=A?a.encode(String(e.data),{strict:!1}):String(e.data)),r(""+o)},t.encodeBase64Packet=function(e,n){var A,r="b"+t.packets[e.type];if(void 0!==p&&e.data instanceof p){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];n(r+e)},i.readAsDataURL(e.data)}try{A=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var o=new Uint8Array(e.data),s=new Array(o.length),a=0;a<o.length;a++)s[a]=o[a];A=String.fromCharCode.apply(null,s)}return r+=btoa(A),n(r)},t.decodePacket=function(e,n,A){if(void 0===e)return d;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(A&&!1===(e=function(e){try{e=a.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return d;var r=e.charAt(0);return Number(r)==r&&h[r]?e.length>1?{type:h[r],data:e.substring(1)}:{type:h[r]}:d}r=new Uint8Array(e)[0];var i=o(e,1);return p&&"blob"===n&&(i=new p([i])),{type:h[r],data:i}},t.decodeBase64Packet=function(e,t){var n=h[e.charAt(0)];if(!A)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=A.decode(e.substr(1));return"blob"===t&&p&&(r=new p([r])),{type:n,data:r}},t.encodePayload=function(e,n,A){"function"==typeof n&&(A=n,n=null);var r=i(e);return n&&r?p&&!l?t.encodePayloadAsBlob(e,A):t.encodePayloadAsArrayBuffer(e,A):e.length?void g(e,(function(e,A){t.encodePacket(e,!!r&&n,!1,(function(e){A(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return A(t.join(""))})):A("0:")},t.decodePayload=function(e,n,A){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,A);var r;if("function"==typeof n&&(A=n,n=null),""===e)return A(d,0,1);for(var i,o,s="",a=0,c=e.length;a<c;a++){var u=e.charAt(a);if(":"===u){if(""===s||s!=(i=Number(s)))return A(d,0,1);if(s!=(o=e.substr(a+1,i)).length)return A(d,0,1);if(o.length){if(r=t.decodePacket(o,n,!1),d.type===r.type&&d.data===r.data)return A(d,0,1);if(!1===A(r,a+i,c))return}a+=i,s=""}else s+=u}return""!==s?A(d,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var A=t.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),r=new Uint8Array(A),i=0;return t.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var A=new Uint8Array(e.length),o=0;o<e.length;o++)A[o]=e.charCodeAt(o);n=A.buffer}r[i++]=t?0:1;var s=n.byteLength.toString();for(o=0;o<s.length;o++)r[i++]=parseInt(s[o]);for(r[i++]=255,A=new Uint8Array(n),o=0;o<A.length;o++)r[i++]=A[o]})),n(r.buffer)}))},t.encodePayloadAsBlob=function(e,n){g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var A=new Uint8Array(e.length),r=0;r<e.length;r++)A[r]=e.charCodeAt(r);e=A.buffer,t[0]=0}var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),o=new Uint8Array(i.length+1);for(r=0;r<i.length;r++)o[r]=parseInt(i[r]);if(o[i.length]=255,p){var s=new p([t.buffer,o.buffer,e]);n(null,s)}}))}),(function(e,t){return n(new p(t))}))},t.decodePayloadAsBinary=function(e,n,A){"function"==typeof n&&(A=n,n=null);for(var r=e,i=[];r.byteLength>0;){for(var s=new Uint8Array(r),a=0===s[0],c="",u=1;255!==s[u];u++){if(c.length>310)return A(d,0,1);c+=s[u]}r=o(r,2+c.length),c=parseInt(c);var l=o(r,0,c);if(a)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(e){var f=new Uint8Array(l);for(l="",u=0;u<f.length;u++)l+=String.fromCharCode(f[u])}i.push(l),r=o(r,c)}var h=i.length;i.forEach((function(e,r){A(t.decodePacket(e,n,!0),r,h)}))}},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var A in e)n.call(e,A)&&t.push(A);return t}},function(t,n,A){var r=A(13),i=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);t.exports=function t(n){if(!n||"object"!==a(n))return!1;if(r(n)){for(var A=0,i=n.length;A<i;A++)if(t(n[A]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||o&&n instanceof Blob||s&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return t(n.toJSON(),!0);for(var c in n)if(Object.prototype.hasOwnProperty.call(n,c)&&t(n[c]))return!0;return!1}},function(e,t){e.exports=function(e,t,n){var A=e.byteLength;if(t=t||0,n=n||A,e.slice)return e.slice(t,n);if(t<0&&(t+=A),n<0&&(n+=A),n>A&&(n=A),t>=A||t>=n||0===A)return new ArrayBuffer(0);for(var r=new Uint8Array(e),i=new Uint8Array(n-t),o=t,s=0;o<n;o++,s++)i[s]=r[o];return i.buffer}},function(e,t){function n(){}e.exports=function(e,t,A){var r=!1;return A=A||n,i.count=e,0===e?t():i;function i(e,n){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(r=!0,t(e),t=A):0!==i.count||r||t(null,n)}}},function(e,t){
/*! https://mths.be/utf8js v2.1.2 by @mathias */
var n,A,r,i=String.fromCharCode;function o(e){for(var t,n,A=[],r=0,i=e.length;r<i;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<i?56320==(64512&(n=e.charCodeAt(r++)))?A.push(((1023&t)<<10)+(1023&n)+65536):(A.push(t),r--):A.push(t);return A}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function a(e,t){return i(e>>t&63|128)}function c(e,t){if(0==(4294967168&e))return i(e);var n="";return 0==(4294965248&e)?n=i(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),n=i(e>>12&15|224),n+=a(e,6)):0==(4292870144&e)&&(n=i(e>>18&7|240),n+=a(e,12),n+=a(e,6)),n+=i(63&e|128)}function u(){if(r>=A)throw Error("Invalid byte index");var e=255&n[r];if(r++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function l(e){var t,i;if(r>A)throw Error("Invalid byte index");if(r==A)return!1;if(t=255&n[r],r++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|u())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|u()<<6|u())>=2048)return s(i,e)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(i=(7&t)<<18|u()<<12|u()<<6|u())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,A=o(e),r=A.length,i=-1,s="";++i<r;)s+=c(A[i],n);return s},decode:function(e,t){var s=!1!==(t=t||{}).strict;n=o(e),A=n.length,r=0;for(var a,c=[];!1!==(a=l(s));)c.push(a);return function(e){for(var t,n=e.length,A=-1,r="";++A<n;)(t=e[A])>65535&&(r+=i((t-=65536)>>>10&1023|55296),t=56320|1023&t),r+=i(t);return r}(c)}}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),A=0;A<e.length;A++)n[e.charCodeAt(A)]=A;t.encode=function(t){var n,A=new Uint8Array(t),r=A.length,i="";for(n=0;n<r;n+=3)i+=e[A[n]>>2],i+=e[(3&A[n])<<4|A[n+1]>>4],i+=e[(15&A[n+1])<<2|A[n+2]>>6],i+=e[63&A[n+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){var t,A,r,i,o,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new ArrayBuffer(s),l=new Uint8Array(u);for(t=0;t<a;t+=4)A=n[e.charCodeAt(t)],r=n[e.charCodeAt(t+1)],i=n[e.charCodeAt(t+2)],o=n[e.charCodeAt(t+3)],l[c++]=A<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return u}}()},function(e,t){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,A=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),r=A&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),i=n&&n.prototype.append&&n.prototype.getBlob;function o(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function s(e,t){t=t||{};var A=new n;return o(e).forEach((function(e){A.append(e)})),t.type?A.getBlob(t.type):A.getBlob()}function a(e,t){return new Blob(o(e),t||{})}"undefined"!=typeof Blob&&(s.prototype=Blob.prototype,a.prototype=Blob.prototype),e.exports=A?r?Blob:a:i?s:void 0},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),A=0,r=n.length;A<r;A++){var i=n[A].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){"use strict";var n,A="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),r={},i=0,o=0;function s(e){var t="";do{t=A[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function a(){var e=s(+new Date);return e!==n?(i=0,n=e):e+"."+s(i++)}for(;o<64;o++)r[A[o]]=o;a.encode=s,a.decode=function(e){var t=0;for(o=0;o<e.length;o++)t=64*t+r[e.charAt(o)];return t},e.exports=a},function(e,t,n){(function(t){var A=n(22),r=n(33);e.exports=u;var i,o=/\n/g,s=/\\n/g;function a(){}function c(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{}}function u(e){if(A.call(this,e),this.query=this.query||{},!i){var t=c();i=t.___eio=t.___eio||[]}this.index=i.length;var n=this;i.push((function(e){n.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=a)}),!1)}r(u,A),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),A.prototype.doClose.call(this)},u.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},u.prototype.doWrite=function(e,t){var n=this;if(!this.form){var A,r=document.createElement("form"),i=document.createElement("textarea"),a=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=a,r.method="POST",r.setAttribute("accept-charset","utf-8"),i.name="d",r.appendChild(i),document.body.appendChild(r),this.form=r,this.area=i}function c(){u(),t()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';A=document.createElement(e)}catch(e){(A=document.createElement("iframe")).name=n.iframeId,A.src="javascript:0"}A.id=n.iframeId,n.form.appendChild(A),n.iframe=A}this.form.action=this.uri(),u(),e=e.replace(s,"\\\n"),this.area.value=e.replace(o,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&c()}:this.iframe.onload=c}}).call(t,function(){return this}())},function(t,n,A){var r,i,o=A(23),s=A(24),a=A(32),c=A(33),u=A(34),l=A(3)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{i=A(37)}catch(e){}var f=r||i;function h(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(f=i),o.call(this,e)}t.exports=h,c(h,o),h.prototype.name="websocket",h.prototype.supportsBinary=!0,h.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new f(e,t):new f(e):new f(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},h.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},h.prototype.write=function(t){var n=this;this.writable=!1;for(var A=t.length,r=0,i=A;r<i;r++)!function(t){s.encodePacket(t,n.supportsBinary,(function(r){if(!n.usingBrowserWebSocket){var i={};t.options&&(i.compress=t.options.compress),n.perMessageDeflate&&("string"==typeof r?e.byteLength(r):r.length)<n.perMessageDeflate.threshold&&(i.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(r):n.ws.send(r,i)}catch(e){l("websocket closed before onclose event")}--A||(n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0))}))}(t[r])},h.prototype.onClose=function(){o.prototype.onClose.call(this)},h.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},h.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},h.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===h.prototype.name)}},function(e,t){},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var A=0;A<e.length;++A)if(e[A]===t)return A;return-1}},function(e,t,n){var A=n(7),r=n(11),i=n(40),o=n(41),s=n(42),c=n(3)("socket.io-client:socket"),u=n(32),l=n(26);e.exports=d;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=r.prototype.emit;function d(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}r(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,"open",s(this,"onopen")),o(e,"packet",s(this,"onpacket")),o(e,"close",s(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},d.prototype.send=function(){var e=i(arguments);return e.unshift("message"),this.emit.apply(this,e),this},d.prototype.emit=function(e){if(f.hasOwnProperty(e))return h.apply(this,arguments),this;var t=i(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:l(t))?A.BINARY_EVENT:A.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},d.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},d.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===a(this.query)?u.encode(this.query):this.query;c("sending connect packet with query %s",e),this.packet({type:A.CONNECT,query:e})}else this.packet({type:A.CONNECT})},d.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},d.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===A.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case A.CONNECT:this.onconnect();break;case A.EVENT:case A.BINARY_EVENT:this.onevent(e);break;case A.ACK:case A.BINARY_ACK:this.onack(e);break;case A.DISCONNECT:this.ondisconnect();break;case A.ERROR:this.emit("error",e.data)}},d.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},d.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=i(arguments);c("sending ack %j",r),t.packet({type:l(r)?A.BINARY_ACK:A.ACK,id:e,data:r})}}},d.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},d.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:A.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},d.prototype.compress=function(e){return this.flags.compress=e,this},d.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t){for(var n=[],A=(t=t||0)||0;A<e.length;A++)n[A-t]=e[A];return n}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var A=n.call(arguments,2);return function(){return t.apply(e,A.concat(n.call(arguments)))}}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}}])},"object"===a(t)&&"object"===a(A)?A.exports=s():(i=[],void 0===(o="function"==typeof(r=s)?r.apply(t,i):r)||(A.exports=o))}).call(this,n(19).Buffer,n(36)(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var A=n(9),r=n.n(A),i=n(11),o=n.n(i),s=function(){function e(t){r()(this,e),this.url=t||window.location.href,this.reg=/(([^:]+:)\/\/(([^:\/\?#]+)(:\d+)?))(\/[^?#]*)?(\?[^#]*)?(#.*)?/,this.argKey=["href","origin","protocol","host","hostname","port","pathname","search","hash"]}return o()(e,[{key:"getUrlParams",value:function(){var e,t={},n=this.argKey.length,A=this.reg.exec(this.url);if(A)for(e=n-1;e>=0;--e)t[this.argKey[e]]=A[e]?A[e]:"";return t}}]),e}()},function(e,t){e.exports=function(e){throw new TypeError('"'+e+'" is read-only')},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var A=n(19),r=A.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=A:(i(A,t),t.Buffer=o),i(r,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var A=r(e);return void 0!==t?"string"==typeof n?A.fill(t,n):A.fill(t):A.fill(0),A},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return A.SlowBuffer(e)}},function(e,t,n){(function(e){var A=n(70),r=n(38),i=n(81),o=n(82),s=n(28),a=t;a.request=function(t,n){t="string"==typeof t?s.parse(t):i(t);var r=-1===e.location.protocol.search(/^https?:$/)?"http:":"",o=t.protocol||r,a=t.hostname||t.host,c=t.port,u=t.path||"/";a&&-1!==a.indexOf(":")&&(a="["+a+"]"),t.url=(a?o+"//"+a:"")+(c?":"+c:"")+u,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var l=new A(t);return n&&l.on("response",n),l},a.get=function(e,t){var n=a.request(e,t);return n.end(),n},a.ClientRequest=A,a.IncomingMessage=r.IncomingMessage,a.Agent=function(){},a.Agent.defaultMaxSockets=4,a.globalAgent=new a.Agent,a.STATUS_CODES=o,a.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n(15))},function(e,t,n){var A=n(35);e.exports=function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,A=new Array(t);n<t;n++)A[n]=e[n];return A},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(e){t.fetch=s(e.fetch)&&s(e.ReadableStream),t.writableStream=s(e.WritableStream),t.abortController=s(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var n;function A(){if(void 0!==n)return n;if(e.XMLHttpRequest){n=new e.XMLHttpRequest;try{n.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){n=null}}else n=null;return n}function r(e){var t=A();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}var i=void 0!==e.ArrayBuffer,o=i&&s(e.ArrayBuffer.prototype.slice);function s(e){return"function"==typeof e}t.arraybuffer=t.fetch||i&&r("arraybuffer"),t.msstream=!t.fetch&&o&&r("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&i&&r("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!A()&&s(A().overrideMimeType),t.vbArray=s(e.VBArray),n=null}).call(this,n(15))},function(e,t,n){(function(e,A,r){var i=n(37),o=n(20),s=n(39),a=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=t.IncomingMessage=function(t,n,o,a){var c=this;if(s.Readable.call(c),c._mode=o,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){e.nextTick((function(){c.emit("close")}))})),"fetch"===o){if(c._fetchResponse=n,c.url=n.url,c.statusCode=n.status,c.statusMessage=n.statusText,n.headers.forEach((function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)})),i.writableStream){var u=new WritableStream({write:function(e){return new Promise((function(t,n){c._destroyed?n():c.push(new A(e))?t():c._resumeFetch=t}))},close:function(){r.clearTimeout(a),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{return void n.body.pipeTo(u).catch((function(e){r.clearTimeout(a),c._destroyed||c.emit("error",e)}))}catch(e){}}var l=n.body.getReader();!function e(){l.read().then((function(t){if(!c._destroyed){if(t.done)return r.clearTimeout(a),void c.push(null);c.push(new A(t.value)),e()}})).catch((function(e){r.clearTimeout(a),c._destroyed||c.emit("error",e)}))}()}else{if(c._xhr=t,c._pos=0,c.url=t.responseURL,c.statusCode=t.status,c.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===c.headers[n]&&(c.headers[n]=[]),c.headers[n].push(t[2])):void 0!==c.headers[n]?c.headers[n]+=", "+t[2]:c.headers[n]=t[2],c.rawHeaders.push(t[1],t[2])}})),c._charset="x-user-defined",!i.overrideMimeType){var f=c.rawHeaders["mime-type"];if(f){var h=f.match(/;\s*charset=([^;])(;|$)/);h&&(c._charset=h[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};o(c,s.Readable),c.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},c.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==a.DONE)break;try{n=new r.VBArray(t.responseBody).toArray()}catch(e){}if(null!==n){e.push(new A(n));break}case"text":try{n=t.responseText}catch(t){e._mode="text:vbarray";break}if(n.length>e._pos){var i=n.substr(e._pos);if("x-user-defined"===e._charset){for(var o=new A(i.length),s=0;s<i.length;s++)o[s]=255&i.charCodeAt(s);e.push(o)}else e.push(i,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==a.DONE||!t.response)break;n=t.response,e.push(new A(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==a.LOADING||!n)break;e.push(new A(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==a.LOADING)break;var c=new r.MSStreamReader;c.onprogress=function(){c.result.byteLength>e._pos&&(e.push(new A(new Uint8Array(c.result.slice(e._pos)))),e._pos=c.result.byteLength)},c.onload=function(){e.push(null)},c.readAsArrayBuffer(n)}e._xhr.readyState===a.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,n(16),n(19).Buffer,n(15))},function(e,t,n){(t=e.exports=n(40)).Stream=t,t.Readable=t,t.Writable=n(43),t.Duplex=n(22),t.Transform=n(45),t.PassThrough=n(79)},function(e,t,n){"use strict";(function(t,A){var r=n(27);e.exports=m;var i,o=n(71);m.ReadableState=w;n(26).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=n(41),c=n(32).Buffer,u=t.Uint8Array||function(){};var l=Object.create(n(25));l.inherits=n(20);var f=n(72),h=void 0;h=f&&f.debuglog?f.debuglog("stream"):function(){};var d,p=n(73),g=n(42);l.inherits(m,a);var v=["error","close","destroy","pause","resume"];function w(e,t){e=e||{};var A=t instanceof(i=i||n(22));this.objectMode=!!e.objectMode,A&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:A&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n(44).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function m(e){if(i=i||n(22),!(this instanceof m))return new m(e);this._readableState=new w(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function B(e,t,n,A,r){var i,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,C(e)}(e,o)):(r||(i=function(e,t){var n;A=t,c.isBuffer(A)||A instanceof u||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var A;return n}(o,t)),i?e.emit("error",i):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),A?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):y(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?y(e,o,t,!1):E(e,o)):y(e,o,t,!1))):A||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function y(e,t,n,A){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,A?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&C(e)),E(e,t)}Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),m.prototype.destroy=g.destroy,m.prototype._undestroy=g.undestroy,m.prototype._destroy=function(e,t){this.push(null),t(e)},m.prototype.push=function(e,t){var n,A=this._readableState;return A.objectMode?n=!0:"string"==typeof e&&((t=t||A.defaultEncoding)!==A.encoding&&(e=c.from(e,t),t=""),n=!0),B(this,e,t,!1,n)},m.prototype.unshift=function(e){return B(this,e,null,!0,!1)},m.prototype.isPaused=function(){return!1===this._readableState.flowing},m.prototype.setEncoding=function(e){return d||(d=n(44).StringDecoder),this._readableState.decoder=new d(e),this._readableState.encoding=e,this};function b(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(k,e):k(e))}function k(e){h("emit readable"),e.emit("readable"),I(e)}function E(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(S,e,t))}function S(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function Q(e){h("readable nexttick read 0"),e.read(0)}function U(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function F(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var A;e<t.head.data.length?(A=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):A=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,A=1,r=n.data;e-=r.length;for(;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++A,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(o));break}++A}return t.length-=A,r}(e,t):function(e,t){var n=c.allocUnsafe(e),A=t.head,r=1;A.data.copy(n),e-=A.data.length;for(;A=A.next;){var i=A.data,o=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,o),0===(e-=o)){o===i.length?(++r,A.next?t.head=A.next:t.head=t.tail=null):(t.head=A,A.data=i.slice(o));break}++r}return t.length-=r,n}(e,t);return A}(e,t.buffer,t.decoder),n);var n}function O(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function x(e,t){for(var n=0,A=e.length;n<A;n++)if(e[n]===t)return n;return-1}m.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?O(this):C(this),null;if(0===(e=b(e,t))&&t.ended)return 0===t.length&&O(this),null;var A,r=t.needReadable;return h("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",r=!0),t.ended||t.reading?h("reading or ended",r=!1):r&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=b(n,t))),null===(A=e>0?F(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&O(this)),null!==A&&this.emit("data",A),A},m.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==A.stdout&&e!==A.stderr?u:m;function c(t,A){h("onunpipe"),t===n&&A&&!1===A.hasUnpiped&&(A.hasUnpiped=!0,h("cleanup"),e.removeListener("close",v),e.removeListener("finish",w),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",c),n.removeListener("end",u),n.removeListener("end",m),n.removeListener("data",p),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){h("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",c);var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,I(e))}}(n);e.on("drain",l);var f=!1;var d=!1;function p(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==x(i.pipes,e))&&!f&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function g(t){h("onerror",t),m(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",w),m()}function w(){h("onfinish"),e.removeListener("close",v),m()}function m(){h("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",v),e.once("finish",w),e.emit("pipe",n),i.flowing||(h("pipe resume"),n.resume()),e},m.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var A=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)A[i].emit("unpipe",this,n);return this}var o=x(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},m.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var A=this._readableState;A.endEmitted||A.readableListening||(A.readableListening=A.needReadable=!0,A.emittedReadable=!1,A.reading?A.length&&C(this):r.nextTick(Q,this))}return n},m.prototype.addListener=m.prototype.on,m.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(U,e,t))}(this,e)),this},m.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},m.prototype.wrap=function(e){var t=this,n=this._readableState,A=!1;for(var r in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){(h("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r)||(n.objectMode||r&&r.length)&&(t.push(r)||(A=!0,e.pause()))})),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var i=0;i<v.length;i++)e.on(v[i],this.emit.bind(this,v[i]));return this._read=function(t){h("wrapped _read",t),A&&(A=!1,e.resume())},this},Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),m._fromList=F}).call(this,n(15),n(16))},function(e,t,n){e.exports=n(26).EventEmitter},function(e,t,n){"use strict";var A=n(27);function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return i||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||A.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(A.nextTick(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";(function(t,A,r){var i=n(27);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var A=e.entry;e.entry=null;for(;A;){var r=A.callback;t.pendingcb--,r(n),A=A.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=w;var s,a=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?A:i.nextTick;w.WritableState=v;var c=Object.create(n(25));c.inherits=n(20);var u={deprecate:n(77)},l=n(41),f=n(32).Buffer,h=r.Uint8Array||function(){};var d,p=n(42);function g(){}function v(e,t){s=s||n(22),e=e||{};var A=t instanceof s;this.objectMode=!!e.objectMode,A&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,c=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:A&&(c||0===c)?c:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===e.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,A=n.sync,r=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,A,r){--t.pendingcb,n?(i.nextTick(r,A),i.nextTick(k,e,t),e._writableState.errorEmitted=!0,e.emit("error",A)):(r(A),e._writableState.errorEmitted=!0,e.emit("error",A),k(e,t))}(e,n,A,t,r);else{var o=b(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||y(e,n),A?a(B,e,n,o,r):B(e,n,o,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function w(e){if(s=s||n(22),!(d.call(w,this)||this instanceof s))return new w(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function m(e,t,n,A,r,i,o){t.writelen=A,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,i,t.onwrite),t.sync=!1}function B(e,t,n,A){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,A(),k(e,t)}function y(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var A=t.bufferedRequestCount,r=new Array(A),i=t.corkedRequestsFree;i.entry=n;for(var s=0,a=!0;n;)r[s]=n,n.isBuf||(a=!1),n=n.next,s+=1;r.allBuffers=a,m(e,t,!0,t.length,r,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,l=n.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,u,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function b(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),k(e,t)}))}function k(e,t){var n=b(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(w,l),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===w&&(e&&e._writableState instanceof v)}})):d=function(e){return e instanceof this},w.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},w.prototype.write=function(e,t,n){var A,r=this._writableState,o=!1,s=!r.objectMode&&(A=e,f.isBuffer(A)||A instanceof h);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=g),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),i.nextTick(t,n)}(this,n):(s||function(e,t,n,A){var r=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),i.nextTick(A,o),r=!1),r}(this,r,e,n))&&(r.pendingcb++,o=function(e,t,n,A,r,i){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n));return t}(t,A,r);A!==o&&(n=!0,r="buffer",A=o)}var s=t.objectMode?1:A.length;t.length+=s;var a=t.length<t.highWaterMark;a||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:A,encoding:r,isBuf:n,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,A,r,i);return a}(this,r,s,e,t,n)),o},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||y(this,e))},w.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),w.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},w.prototype._writev=null,w.prototype.end=function(e,t,n){var A=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),A.corked&&(A.corked=1,this.uncork()),A.ending||A.finished||function(e,t,n){t.ending=!0,k(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,A,n)},Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),w.prototype.destroy=p.destroy,w.prototype._undestroy=p.undestroy,w.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(16),n(75).setImmediate,n(15))},function(e,t,n){"use strict";var A=n(78).Buffer,r=A.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(A.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=a,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=l,t=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=A.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function a(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var A=n.charCodeAt(n.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},i.prototype.text=function(e,t){var n=function(e,t,n){var A=t.length-1;if(A<n)return 0;var r=o(t[A]);if(r>=0)return r>0&&(e.lastNeed=r-1),r;if(--A<n||-2===r)return 0;if((r=o(t[A]))>=0)return r>0&&(e.lastNeed=r-2),r;if(--A<n||-2===r)return 0;if((r=o(t[A]))>=0)return r>0&&(2===r?r=0:e.lastNeed=r-3),r;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var A=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,A),e.toString("utf8",t,A)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=o;var A=n(22),r=Object.create(n(25));function i(e,t){var n=this._transformState;n.transforming=!1;var A=n.writecb;if(!A)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),A(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);A.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){a(e,t,n)})):a(this,null,null)}function a(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=n(20),r.inherits(o,A),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,A.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var A=this._transformState;if(A.writecb=n,A.writechunk=e,A.writeencoding=t,!A.transforming){var r=this._readableState;(A.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;A.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),A=0;A<n.length;A++)n[A]=arguments[A];return e.apply(t,n)}}},function(e,t,n){"use strict";var A=n(13);function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(A.isURLSearchParams(t))i=t.toString();else{var o=[];A.forEach(t,(function(e,t){null!=e&&(A.isArray(e)?t+="[]":e=[e],A.forEach(e,(function(e){A.isDate(e)?e=e.toISOString():A.isObject(e)&&(e=JSON.stringify(e)),o.push(r(t)+"="+r(e))})))})),i=o.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var A=n(13),r=n(93),i={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!A.isUndefined(e)&&A.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,a={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(s=n(50)),s),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),A.isFormData(e)||A.isArrayBuffer(e)||A.isBuffer(e)||A.isStream(e)||A.isFile(e)||A.isBlob(e)?e:A.isArrayBufferView(e)?e.buffer:A.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):A.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},A.forEach(["delete","get","head"],(function(e){a.headers[e]={}})),A.forEach(["post","put","patch"],(function(e){a.headers[e]=A.merge(i)})),e.exports=a}).call(this,n(16))},function(e,t,n){"use strict";var A=n(13),r=n(94),i=n(47),o=n(96),s=n(99),a=n(100),c=n(51);e.exports=function(e){return new Promise((function(t,u){var l=e.data,f=e.headers;A.isFormData(l)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",p=e.auth.password||"";f.Authorization="Basic "+btoa(d+":"+p)}var g=o(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),i(g,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,A={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};r(t,u,A),h=null}},h.onabort=function(){h&&(u(c("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){u(c("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),u(c(t,e,"ECONNABORTED",h)),h=null},A.isStandardBrowserEnv()){var v=n(102),w=(e.withCredentials||a(g))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;w&&(f[e.xsrfHeaderName]=w)}if("setRequestHeader"in h&&A.forEach(f,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete f[t]:h.setRequestHeader(t,e)})),A.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),u(e),h=null)})),void 0===l&&(l=null),h.send(l)}))}},function(e,t,n){"use strict";var A=n(95);e.exports=function(e,t,n,r,i){var o=new Error(e);return A(o,t,n,r,i)}},function(e,t,n){"use strict";var A=n(13);e.exports=function(e,t){t=t||{};var n={},r=["url","method","params","data"],i=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];A.forEach(r,(function(e){void 0!==t[e]&&(n[e]=t[e])})),A.forEach(i,(function(r){A.isObject(t[r])?n[r]=A.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:A.isObject(e[r])?n[r]=A.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])})),A.forEach(o,(function(A){void 0!==t[A]?n[A]=t[A]:void 0!==e[A]&&(n[A]=e[A])}));var s=r.concat(i).concat(o),a=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return A.forEach(a,(function(A){void 0!==t[A]?n[A]=t[A]:void 0!==e[A]&&(n[A]=e[A])})),n}},function(e,t,n){"use strict";function A(e){this.message=e}A.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},A.prototype.__CANCEL__=!0,e.exports=A},function(e,t,n){var A,r,i,o,s=n(14);o=function(){return function e(t,n,A){function r(o,s){if(!n[o]){if(!t[o]){if(i)return i(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){return r(t[o][1][e]||e)}),c,c.exports,e,t,n,A)}return n[o].exports}for(var i=!1,o=0;o<A.length;o++)r(A[o]);return r}({1:[function(e,t,n){t.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},t.exports.__esModule=!0,t.exports.default=t.exports},{}],2:[function(e,t,n){t.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},{}],3:[function(e,t,n){var A=e("./setPrototypeOf.js"),r=e("./isNativeReflectConstruct.js");function i(e,n,o){return r()?(t.exports=i=Reflect.construct.bind(),t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=i=function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&A(i,n.prototype),i},t.exports.__esModule=!0,t.exports.default=t.exports),i.apply(null,arguments)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},{"./isNativeReflectConstruct.js":9,"./setPrototypeOf.js":11}],4:[function(e,t,n){function A(e,t){for(var n=0;n<t.length;n++){var A=t[n];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(e,A.key,A)}}t.exports=function(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},t.exports.__esModule=!0,t.exports.default=t.exports},{}],5:[function(e,t,n){function A(e){return t.exports=A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},t.exports.__esModule=!0,t.exports.default=t.exports,A(e)}t.exports=A,t.exports.__esModule=!0,t.exports.default=t.exports},{}],6:[function(e,t,n){var A=e("./setPrototypeOf.js");t.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./setPrototypeOf.js":11}],7:[function(e,t,n){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],8:[function(e,t,n){t.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},t.exports.__esModule=!0,t.exports.default=t.exports},{}],9:[function(e,t,n){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],10:[function(e,t,n){var A=e("./typeof.js").default,r=e("./assertThisInitialized.js");t.exports=function(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./assertThisInitialized.js":1,"./typeof.js":12}],11:[function(e,t,n){function A(e,n){return t.exports=A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},t.exports.__esModule=!0,t.exports.default=t.exports,A(e,n)}t.exports=A,t.exports.__esModule=!0,t.exports.default=t.exports},{}],12:[function(e,t,n){function A(e){return t.exports=A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,A(e)}t.exports=A,t.exports.__esModule=!0,t.exports.default=t.exports},{}],13:[function(e,t,n){var A=e("./getPrototypeOf.js"),r=e("./setPrototypeOf.js"),i=e("./isNativeFunction.js"),o=e("./construct.js");function s(e){var n="function"==typeof Map?new Map:void 0;return t.exports=s=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,A(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports,s(e)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},{"./construct.js":3,"./getPrototypeOf.js":5,"./isNativeFunction.js":8,"./setPrototypeOf.js":11}],14:[function(e,t,n){"use strict";var A,r,i=e("@babel/runtime/helpers/interopRequireDefault")(e("@babel/runtime/helpers/typeof"));A=void 0,r=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==(0,i.default)(Symbol.iterator)?function(e){return(0,i.default)(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":(0,i.default)(e)})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var A=t[n];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(e,A.key,A)}}function A(e,t,A){return t&&n(e.prototype,t),A&&n(e,A),e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&(e[A]=n[A])}return e}).apply(this,arguments)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,n){return(u=c()?Reflect.construct:function(e,t,n){var A=[null];A.push.apply(A,t);var r=new(Function.bind.apply(e,A));return n&&a(r,n.prototype),r}).apply(null,arguments)}function l(e){var t="function"==typeof Map?new Map:void 0;return(l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,A)}function A(){return u(e,arguments,s(this).constructor)}return A.prototype=Object.create(e.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),a(A,e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){var t=c();return function(){var n,A=s(e);if(t){var r=s(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return function(e,t){if(t&&("object"==(0,i.default)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,n)}}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var A=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(A){var r=Object.getOwnPropertyDescriptor(A,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,A=new Array(t);n<t;n++)A[n]=e[n];return A}function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var A=0,r=function(){};return{s:r,n:function(){return A>=e.length?{done:!0}:{done:!1,value:e[A++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}var v=Object.create(null);v.open="0",v.close="1",v.ping="2",v.pong="3",v.message="4",v.upgrade="5",v.noop="6";var w=Object.create(null);Object.keys(v).forEach((function(e){w[v[e]]=e}));for(var m={type:"error",data:"parser error"},B="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),y="function"==typeof ArrayBuffer,b=function(e,t,n){var A,r=e.type,i=e.data;return B&&i instanceof Blob?t?n(i):C(i,n):y&&(i instanceof ArrayBuffer||(A=i,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(A):A&&A.buffer instanceof ArrayBuffer))?t?n(i):C(new Blob([i]),n):n(v[r]+(i||""))},C=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)},k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E="undefined"==typeof Uint8Array?[]:new Uint8Array(256),S=0;S<k.length;S++)E[k.charCodeAt(S)]=S;var Q="function"==typeof ArrayBuffer,U=function(e,t){if("string"!=typeof e)return{type:"message",data:F(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:I(e.substring(1),t)}:w[n]?e.length>1?{type:w[n],data:e.substring(1)}:{type:w[n]}:m},I=function(e,t){if(Q){var n=function(e){var t,n,A,r,i,o=.75*e.length,s=e.length,a=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c=new ArrayBuffer(o),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=E[e.charCodeAt(t)],A=E[e.charCodeAt(t+1)],r=E[e.charCodeAt(t+2)],i=E[e.charCodeAt(t+3)],u[a++]=n<<2|A>>4,u[a++]=(15&A)<<4|r>>2,u[a++]=(3&r)<<6|63&i;return c}(e);return F(n,t)}return{base64:!0,data:e}},F=function(e,t){return"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e},O=String.fromCharCode(30);function R(e){if(e)return function(e){for(var t in R.prototype)e[t]=R.prototype[t];return e}(e)}R.prototype.on=R.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},R.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},R.prototype.off=R.prototype.removeListener=R.prototype.removeAllListeners=R.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,A=this._callbacks["$"+e];if(!A)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<A.length;r++)if((n=A[r])===t||n.fn===t){A.splice(r,1);break}return 0===A.length&&delete this._callbacks["$"+e],this},R.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],A=1;A<arguments.length;A++)t[A-1]=arguments[A];if(n){A=0;for(var r=(n=n.slice(0)).length;A<r;++A)n[A].apply(this,t)}return this},R.prototype.emitReserved=R.prototype.emit,R.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},R.prototype.hasListeners=function(e){return!!this.listeners(e).length};var x="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function _(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),A=1;A<t;A++)n[A-1]=arguments[A];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}var D=setTimeout,T=clearTimeout;function L(e,t){t.useNativeTimers?(e.setTimeoutFn=D.bind(x),e.clearTimeoutFn=T.bind(x)):(e.setTimeoutFn=setTimeout.bind(x),e.clearTimeoutFn=clearTimeout.bind(x))}var M,H=function(e){o(A,l(Error));var n=h(A);function A(e,r,i){var o;return t(this,A),(o=n.call(this,e)).description=r,o.context=i,o.type="TransportError",o}return A}(),P=function(e){o(r,R);var n=h(r);function r(e){var A;return t(this,r),(A=n.call(this)).writable=!1,L(f(A),e),A.opts=e,A.query=e.query,A.readyState="",A.socket=e.socket,A}return A(r,[{key:"onError",value:function(e,t,n){return d(s(r.prototype),"emitReserved",this).call(this,"error",new H(e,t,n)),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,d(s(r.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(e){var t=U(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){d(s(r.prototype),"emitReserved",this).call(this,"packet",e)}},{key:"onClose",value:function(e){this.readyState="closed",d(s(r.prototype),"emitReserved",this).call(this,"close",e)}}]),r}(),j="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),N={},K=0,V=0;function G(e){var t="";do{t=j[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function W(){var e=G(+new Date);return e!==M?(K=0,M=e):e+"."+G(K++)}for(;V<64;V++)N[j[V]]=V;function q(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}var J=!1;try{J="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}var Y=J;function X(e){var t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Y))return new XMLHttpRequest}catch(e){}if(!t)try{return new(x[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function Z(){}var z=null!=new X({xdomain:!1}).responseType,$=function(e){o(i,P);var n=h(i);function i(e){var A;if(t(this,i),(A=n.call(this,e)).polling=!1,"undefined"!=typeof location){var r="https:"===location.protocol,o=location.port;o||(o=r?"443":"80"),A.xd="undefined"!=typeof location&&e.hostname!==location.hostname||o!==e.port,A.xs=e.secure!==r}var s=e&&e.forceBase64;return A.supportsBinary=z&&!s,A}return A(i,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){t.readyState="paused",e()};if(this.polling||!this.writable){var A=0;this.polling&&(A++,this.once("pollComplete",(function(){--A||n()}))),this.writable||(A++,this.once("drain",(function(){--A||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(e){var t=this;(function(e,t){for(var n=e.split(O),A=[],r=0;r<n.length;r++){var i=U(n[r],t);if(A.push(i),"error"===i.type)break}return A})(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose({description:"transport closed by the server"}),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,function(e,t){var n=e.length,A=new Array(n),r=0;e.forEach((function(e,i){b(e,!1,(function(e){A[i]=e,++r===n&&t(A.join(O))}))}))}(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emitReserved("drain")}))}))}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=W()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);var A=q(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(A.length?"?"+A:"")}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(e,{xd:this.xd,xs:this.xs},this.opts),new ee(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,A=this.request({method:"POST",data:e});A.on("success",t),A.on("error",(function(e,t){n.onError("xhr post error",e,t)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t,n){e.onError("xhr poll error",t,n)})),this.pollXhr=t}}]),i}(),ee=function(e){o(r,R);var n=h(r);function r(e,A){var i;return t(this,r),L(f(i=n.call(this)),A),i.opts=A,i.method=A.method||"GET",i.uri=e,i.async=!1!==A.async,i.data=void 0!==A.data?A.data:null,i.create(),i}return A(r,[{key:"create",value:function(){var e=this,t=_(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;var n=this.xhr=new X(t);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var A in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(A)&&n.setRequestHeader(A,this.opts.extraHeaders[A])}catch(e){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?e.onLoad():e.setTimeoutFn((function(){e.onError("number"==typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(t){return void this.setTimeoutFn((function(){e.onError(t)}),0)}"undefined"!=typeof document&&(this.index=r.requestsCount++,r.requests[this.index]=this)}},{key:"onError",value:function(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Z,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete r.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}]),r}();function te(){for(var e in ee.requests)ee.requests.hasOwnProperty(e)&&ee.requests[e].abort()}ee.requestsCount=0,ee.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",te):"function"==typeof addEventListener&&addEventListener("onpagehide"in x?"pagehide":"unload",te,!1));var ne="function"==typeof Promise&&"function"==typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},Ae=x.WebSocket||x.MozWebSocket,re="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),ie={websocket:function(e){o(r,P);var n=h(r);function r(e){var A;return t(this,r),(A=n.call(this,e)).supportsBinary=!e.forceBase64,A}return A(r,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=re?{}:_(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=re?new Ae(e,t,n):t?new Ae(e,t):new Ae(e)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=function(t){return e.onClose({description:"websocket connection closed",context:t})},this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(n){var A=e[n],r=n===e.length-1;b(A,t.supportsBinary,(function(e){try{t.ws.send(e)}catch(e){}r&&ne((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},A=0;A<e.length;A++)n(A)}},{key:"doClose",value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=W()),this.supportsBinary||(e.b64=1);var A=q(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(A.length?"?"+A:"")}},{key:"check",value:function(){return!(!Ae||"__initialize"in Ae&&this.name===r.prototype.name)}}]),r}(),polling:$},oe=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,se=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ae(e){var t=e,n=e.indexOf("["),A=e.indexOf("]");-1!=n&&-1!=A&&(e=e.substring(0,n)+e.substring(n,A).replace(/:/g,";")+e.substring(A,e.length));for(var r,i,o=oe.exec(e||""),s={},a=14;a--;)s[se[a]]=o[a]||"";return-1!=n&&-1!=A&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){var n=t.replace(/\/{2,9}/g,"/").split("/");return"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1),"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1),n}(0,s.path),s.queryKey=(r=s.query,i={},r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(i[t]=n)})),i),s}var ce=function(n){o(s,R);var i=h(s);function s(n){var A,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t(this,s),A=i.call(this),n&&"object"===e(n)&&(o=n,n=null),n?(n=ae(n),o.hostname=n.host,o.secure="https"===n.protocol||"wss"===n.protocol,o.port=n.port,n.query&&(o.query=n.query)):o.host&&(o.hostname=ae(o.host).host),L(f(A),o),A.secure=null!=o.secure?o.secure:"undefined"!=typeof location&&"https:"===location.protocol,o.hostname&&!o.port&&(o.port=A.secure?"443":"80"),A.hostname=o.hostname||("undefined"!=typeof location?location.hostname:"localhost"),A.port=o.port||("undefined"!=typeof location&&location.port?location.port:A.secure?"443":"80"),A.transports=o.transports||["polling","websocket"],A.readyState="",A.writeBuffer=[],A.prevBufferLen=0,A.opts=r({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},o),A.opts.path=A.opts.path.replace(/\/$/,"")+"/","string"==typeof A.opts.query&&(A.opts.query=function(e){for(var t={},n=e.split("&"),A=0,r=n.length;A<r;A++){var i=n[A].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}(A.opts.query)),A.id=null,A.upgrades=null,A.pingInterval=null,A.pingTimeout=null,A.pingTimeoutTimer=null,"function"==typeof addEventListener&&(A.opts.closeOnBeforeunload&&addEventListener("beforeunload",(function(){A.transport&&(A.transport.removeAllListeners(),A.transport.close())}),!1),"localhost"!==A.hostname&&(A.offlineEventListener=function(){A.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",A.offlineEventListener,!1))),A.open(),A}return A(s,[{key:"createTransport",value:function(e){var t=r({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);var n=r({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new ie[e](n)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&s.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){t.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(e){return t.onClose("transport close",e)}))}},{key:"probe",value:function(e){var t=this,n=this.createTransport(e),A=!1;s.priorWebsocketSuccess=!1;var r=function(){A||(n.send([{type:"ping",data:"probe"}]),n.once("packet",(function(e){if(!A)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",n),!n)return;s.priorWebsocketSuccess="websocket"===n.name,t.transport.pause((function(){A||"closed"!==t.readyState&&(l(),t.setTransport(n),n.send([{type:"upgrade"}]),t.emitReserved("upgrade",n),n=null,t.upgrading=!1,t.flush())}))}else{var r=new Error("probe error");r.transport=n.name,t.emitReserved("upgradeError",r)}})))};function i(){A||(A=!0,l(),n.close(),n=null)}var o=function(e){var A=new Error("probe error: "+e);A.transport=n.name,i(),t.emitReserved("upgradeError",A)};function a(){o("transport closed")}function c(){o("socket closed")}function u(e){n&&e.name!==n.name&&i()}var l=function(){n.removeListener("open",r),n.removeListener("error",o),n.removeListener("close",a),t.off("close",c),t.off("upgrading",u)};n.once("open",r),n.once("error",o),n.once("close",a),this.once("close",c),this.once("upgrading",u),n.open()}},{key:"onOpen",value:function(){if(this.readyState="open",s.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var e,t=1,n=0;n<this.writeBuffer.length;n++){var A=this.writeBuffer[n].data;if(A&&(t+="string"==typeof(e=A)?function(e){for(var t=0,n=0,A=0,r=e.length;A<r;A++)(t=e.charCodeAt(A))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(A++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,A){if("function"==typeof t&&(A=t,t=void 0),"function"==typeof n&&(A=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:e,data:t,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),A&&this.once("flush",A),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),e.transport.close()},n=function n(){e.off("upgrade",n),e.off("upgradeError",n),t()},A=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?A():t()})):this.upgrading?A():t()),this}},{key:"onError",value:function(e){s.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,A=e.length;n<A;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),s}();ce.protocol=4;var ue,le="function"==typeof ArrayBuffer,fe=Object.prototype.toString,he="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===fe.call(Blob),de="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===fe.call(File);function pe(e){return le&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))||he&&e instanceof Blob||de&&e instanceof File}function ge(t,n){if(!t||"object"!==e(t))return!1;if(Array.isArray(t)){for(var A=0,r=t.length;A<r;A++)if(ge(t[A]))return!0;return!1}if(pe(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return ge(t.toJSON(),!0);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&ge(t[i]))return!0;return!1}function ve(t,n){if(!t)return t;if(pe(t)){var A={_placeholder:!0,num:n.length};return n.push(t),A}if(Array.isArray(t)){for(var r=new Array(t.length),i=0;i<t.length;i++)r[i]=ve(t[i],n);return r}if("object"===e(t)&&!(t instanceof Date)){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(o[s]=ve(t[s],n));return o}return t}function we(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(Array.isArray(t))for(var A=0;A<t.length;A++)t[A]=we(t[A],n);else if("object"===e(t))for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=we(t[r],n));return t}!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(ue||(ue={}));var me=function(){function e(n){t(this,e),this.replacer=n}return A(e,[{key:"encode",value:function(e){return e.type!==ue.EVENT&&e.type!==ue.ACK||!ge(e)?[this.encodeAsString(e)]:(e.type=e.type===ue.EVENT?ue.BINARY_EVENT:ue.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==ue.BINARY_EVENT&&e.type!==ue.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}},{key:"encodeAsBinary",value:function(e){var t=function(e){var t=[],n=e.data,A=e;return A.data=ve(n,t),A.attachments=t.length,{packet:A,buffers:t}}(e),n=this.encodeAsString(t.packet),A=t.buffers;return A.unshift(n),A}}]),e}(),Be=function(n){o(i,R);var r=h(i);function i(e){var n;return t(this,i),(n=r.call(this)).reviver=e,n}return A(i,[{key:"add",value:function(e){var t;if("string"==typeof e)(t=this.decodeString(e)).type===ue.BINARY_EVENT||t.type===ue.BINARY_ACK?(this.reconstructor=new ye(t),0===t.attachments&&d(s(i.prototype),"emitReserved",this).call(this,"decoded",t)):d(s(i.prototype),"emitReserved",this).call(this,"decoded",t);else{if(!pe(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,d(s(i.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,n={type:Number(e.charAt(0))};if(void 0===ue[n.type])throw new Error("unknown packet type "+n.type);if(n.type===ue.BINARY_EVENT||n.type===ue.BINARY_ACK){for(var A=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var r=e.substring(A,t);if(r!=Number(r)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===e.charAt(t+1)){for(var o=t+1;++t&&","!==e.charAt(t)&&t!==e.length;);n.nsp=e.substring(o,t)}else n.nsp="/";var s=e.charAt(t+1);if(""!==s&&Number(s)==s){for(var a=t+1;++t;){var c=e.charAt(t);if(null==c||Number(c)!=c){--t;break}if(t===e.length)break}n.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){var u=this.tryParse(e.substr(t));if(!i.isPayloadValid(n.type,u))throw new Error("invalid payload");n.data=u}return n}},{key:"tryParse",value:function(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(t,n){switch(t){case ue.CONNECT:return"object"===e(n);case ue.DISCONNECT:return void 0===n;case ue.CONNECT_ERROR:return"string"==typeof n||"object"===e(n);case ue.EVENT:case ue.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case ue.ACK:case ue.BINARY_ACK:return Array.isArray(n)}}}]),i}(),ye=function(){function e(n){t(this,e),this.packet=n,this.buffers=[],this.reconPack=n}return A(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=function(e,t){return e.data=we(e.data,t),e.attachments=void 0,e}(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}(),be=Object.freeze({__proto__:null,protocol:5,get PacketType(){return ue},Encoder:me,Decoder:Be});function Ce(e,t,n){return e.on(t,n),function(){e.off(t,n)}}var ke=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Ee=function(e){o(r,R);var n=h(r);function r(e,A,i){var o;return t(this,r),(o=n.call(this)).connected=!1,o.receiveBuffer=[],o.sendBuffer=[],o.ids=0,o.acks={},o.flags={},o.io=e,o.nsp=A,i&&i.auth&&(o.auth=i.auth),o.io._autoConnect&&o.open(),o}return A(r,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[Ce(e,"open",this.onopen.bind(this)),Ce(e,"packet",this.onpacket.bind(this)),Ce(e,"error",this.onerror.bind(this)),Ce(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(ke.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),A=1;A<t;A++)n[A-1]=arguments[A];n.unshift(e);var r={type:ue.EVENT,data:n,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]){var i=this.ids++,o=n.pop();this._registerAckCallback(i,o),r.id=i}var s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var n=this,A=this.flags.timeout;if(void 0!==A){var r=this.io.setTimeoutFn((function(){delete n.acks[e];for(var A=0;A<n.sendBuffer.length;A++)n.sendBuffer[A].id===e&&n.sendBuffer.splice(A,1);t.call(n,new Error("operation has timed out"))}),A);this.acks[e]=function(){n.io.clearTimeoutFn(r);for(var e=arguments.length,A=new Array(e),i=0;i<e;i++)A[i]=arguments[i];t.apply(n,[null].concat(A))}}else this.acks[e]=t}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e.packet({type:ue.CONNECT,data:t})})):this.packet({type:ue.CONNECT,data:this.auth})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case ue.CONNECT:if(e.data&&e.data.sid){var t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ue.EVENT:case ue.BINARY_EVENT:this.onevent(e);break;case ue.ACK:case ue.BINARY_ACK:this.onack(e);break;case ue.DISCONNECT:this.ondisconnect();break;case ue.CONNECT_ERROR:this.destroy();var n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,n=g(this._anyListeners.slice());try{for(n.s();!(t=n.n()).done;)t.value.apply(this,e)}catch(e){n.e(e)}finally{n.f()}}d(s(r.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var A=arguments.length,r=new Array(A),i=0;i<A;i++)r[i]=arguments[i];t.packet({type:ue.ACK,id:e,data:r})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){e.notifyOutgoingListeners(t),e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:ue.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}},{key:"prependAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}},{key:"offAnyOutgoing",value:function(e){if(!this._anyOutgoingListeners)return this;if(e){for(var t=this._anyOutgoingListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var t,n=g(this._anyOutgoingListeners.slice());try{for(n.s();!(t=n.n()).done;)t.value.apply(this,e.data)}catch(e){n.e(e)}finally{n.f()}}}}]),r}();function Se(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Se.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Se.prototype.reset=function(){this.attempts=0},Se.prototype.setMin=function(e){this.ms=e},Se.prototype.setMax=function(e){this.max=e},Se.prototype.setJitter=function(e){this.jitter=e};var Qe=function(n){o(i,R);var r=h(i);function i(n,A){var o,s;t(this,i),(o=r.call(this)).nsps={},o.subs=[],n&&"object"===e(n)&&(A=n,n=void 0),(A=A||{}).path=A.path||"/socket.io",o.opts=A,L(f(o),A),o.reconnection(!1!==A.reconnection),o.reconnectionAttempts(A.reconnectionAttempts||1/0),o.reconnectionDelay(A.reconnectionDelay||1e3),o.reconnectionDelayMax(A.reconnectionDelayMax||5e3),o.randomizationFactor(null!==(s=A.randomizationFactor)&&void 0!==s?s:.5),o.backoff=new Se({min:o.reconnectionDelay(),max:o.reconnectionDelayMax(),jitter:o.randomizationFactor()}),o.timeout(null==A.timeout?2e4:A.timeout),o._readyState="closed",o.uri=n;var a=A.parser||be;return o.encoder=new a.Encoder,o.decoder=new a.Decoder,o._autoConnect=!1!==A.autoConnect,o._autoConnect&&o.open(),o}return A(i,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new ce(this.uri,this.opts);var n=this.engine,A=this;this._readyState="opening",this.skipReconnect=!1;var r=Ce(n,"open",(function(){A.onopen(),e&&e()})),i=Ce(n,"error",(function(n){A.cleanup(),A._readyState="closed",t.emitReserved("error",n),e?e(n):A.maybeReconnectOnOpen()}));if(!1!==this._timeout){var o=this._timeout;0===o&&r();var s=this.setTimeoutFn((function(){r(),n.close(),n.emit("error",new Error("timeout"))}),o);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}return this.subs.push(r),this.subs.push(i),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(Ce(e,"ping",this.onping.bind(this)),Ce(e,"data",this.ondata.bind(this)),Ce(e,"error",this.onerror.bind(this)),Ce(e,"close",this.onclose.bind(this)),Ce(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){this.decoder.add(e)}},{key:"ondecoded",value:function(e){this.emitReserved("packet",e)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new Ee(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var A=n[t];if(this.nsps[A].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var A=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):t.onreconnect()})))}),n);this.opts.autoUnref&&A.unref(),this.subs.push((function(){clearTimeout(A)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),i}(),Ue={};function Ie(t,n){"object"===e(t)&&(n=t,t=void 0);var A,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,A=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),A=ae(e)),A.port||(/^(http|ws)$/.test(A.protocol)?A.port="80":/^(http|ws)s$/.test(A.protocol)&&(A.port="443")),A.path=A.path||"/";var r=-1!==A.host.indexOf(":")?"["+A.host+"]":A.host;return A.id=A.protocol+"://"+r+":"+A.port+t,A.href=A.protocol+"://"+r+(n&&n.port===A.port?"":":"+A.port),A}(t,(n=n||{}).path||"/socket.io"),i=r.source,o=r.id,s=r.path,a=Ue[o]&&s in Ue[o].nsps;return n.forceNew||n["force new connection"]||!1===n.multiplex||a?A=new Qe(i,n):(Ue[o]||(Ue[o]=new Qe(i,n)),A=Ue[o]),r.query&&!n.query&&(n.query=r.queryKey),A.socket(r.path,n)}return r(Ie,{Manager:Qe,Socket:Ee,io:Ie,connect:Ie}),Ie},"object"==(void 0===n?"undefined":(0,i.default)(n))&&void 0!==t?t.exports=r():(A="undefined"!=typeof globalThis?globalThis:A||self).io=r()},{"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/typeof":12}],15:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault"),r=A(e("@babel/runtime/helpers/assertThisInitialized")),i=A(e("@babel/runtime/helpers/inherits")),o=A(e("@babel/runtime/helpers/possibleConstructorReturn")),s=A(e("@babel/runtime/helpers/getPrototypeOf")),a=A(e("@babel/runtime/helpers/createClass")),c=A(e("@babel/runtime/helpers/classCallCheck")),u=A(e("@babel/runtime/helpers/typeof"));function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,A=(0,s.default)(e);if(t){var r=(0,s.default)(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return(0,o.default)(this,n)}}!function(e,A){if("object"==(void 0===n?"undefined":(0,u.default)(n))&&"object"==(void 0===t?"undefined":(0,u.default)(t)))t.exports=A();else{var r=A();for(var i in r)("object"==(void 0===n?"undefined":(0,u.default)(n))?n:e)[i]=r[i]}}(window,(function(){return function(e){var t={};function n(A){if(t[A])return t[A].exports;var r=t[A]={i:A,l:!1,exports:{}};return e[A].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,A){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:A})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==(0,u.default)(e)&&e&&e.__esModule)return e;var A=Object.create(null);if(n.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(A,r,function(t){return e[t]}.bind(null,r));return A},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(e,t){e.exports=function(){return function(){}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"==typeof window?"undefined":(0,u.default)(window))&&(n=window)}e.exports=n},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){function A(e){if(e)return function(e){for(var t in A.prototype)e[t]=A.prototype[t];return e}(e)}e.exports=A,A.prototype.on=A.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},A.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},A.prototype.off=A.prototype.removeListener=A.prototype.removeAllListeners=A.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,A=this._callbacks["$"+e];if(!A)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<A.length;r++)if((n=A[r])===t||n.fn===t){A.splice(r,1);break}return this},A.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var A=0,r=(n=n.slice(0)).length;A<r;++A)n[A].apply(this,t);return this},A.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},A.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var A=n(0)("socket.io-parser"),r=n(3),i=n(20),o=n(2),s=n(9);function a(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=a,t.Decoder=l;var c=t.ERROR+'"encode error"';function u(e){var n=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var r=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===r)return c;n+=r}return A("encoded %j as %s",e,n),n}function l(){this.reconstructor=null}function f(e){this.reconPack=e,this.buffers=[]}function h(e){return{type:t.ERROR,data:"parser error: "+e}}a.prototype.encode=function(e,n){A("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type?function(e,t){i.removeBlobs(e,(function(e){var n=i.deconstructPacket(e),A=u(n.packet),r=n.buffers;r.unshift(A),t(r)}))}(e,n):n([u(e)])},r(l.prototype),l.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n=0,r={type:Number(e.charAt(0))};if(null==t.types[r.type])return h("unknown packet type "+r.type);if(t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type){for(var i="";"-"!==e.charAt(++n)&&(i+=e.charAt(n),n!=e.length););if(i!=Number(i)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(n+1))for(r.nsp="";++n&&","!==(a=e.charAt(n))&&(r.nsp+=a,n!==e.length););else r.nsp="/";var s=e.charAt(n+1);if(""!==s&&Number(s)==s){for(r.id="";++n;){var a;if(null==(a=e.charAt(n))||Number(a)!=a){--n;break}if(r.id+=e.charAt(n),n===e.length)break}r.id=Number(r.id)}if(e.charAt(++n)){var c=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(n));if(!1===c||r.type!==t.ERROR&&!o(c))return h("invalid payload");r.data=c}return A("decoded %s as %j",e,r),r}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new f(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},l.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var A=n.call(arguments,2);return function(){return t.apply(e,A.concat(n.call(arguments)))}}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t,n){var A=n(4),r=n(3),i=n(18),o=n(6),s=n(5),a=n(0)("socket.io-client:socket"),c=n(17),l=n(16);e.exports=d;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=r.prototype.emit;function d(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}r(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,"open",s(this,"onopen")),o(e,"packet",s(this,"onpacket")),o(e,"close",s(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},d.prototype.send=function(){var e=i(arguments);return e.unshift("message"),this.emit.apply(this,e),this},d.prototype.emit=function(e){if(f.hasOwnProperty(e))return h.apply(this,arguments),this;var t=i(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:l(t))?A.BINARY_EVENT:A.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(a("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},d.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},d.prototype.onopen=function(){if(a("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==(0,u.default)(this.query)?c.encode(this.query):this.query;a("sending connect packet with query %s",e),this.packet({type:A.CONNECT,query:e})}else this.packet({type:A.CONNECT})},d.prototype.onclose=function(e){a("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},d.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===A.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case A.CONNECT:this.onconnect();break;case A.EVENT:case A.BINARY_EVENT:this.onevent(e);break;case A.ACK:case A.BINARY_ACK:this.onack(e);break;case A.DISCONNECT:this.ondisconnect();break;case A.ERROR:this.emit("error",e.data)}},d.prototype.onevent=function(e){var t=e.data||[];a("emitting event %j",t),null!=e.id&&(a("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},d.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=i(arguments);a("sending ack %j",r),t.packet({type:l(r)?A.BINARY_ACK:A.ACK,id:e,data:r})}}},d.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(a("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):a("bad ack %s",e.id)},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},d.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){a("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(a("performing disconnect (%s)",this.nsp),this.packet({type:A.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},d.prototype.compress=function(e){return this.flags.compress=e,this},d.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t,n){var A=n(19),r=n(7),i=n(3),o=n(4),s=n(6),a=n(5),c=n(0)("socket.io-client:manager"),l=n(11),f=n(10),h=Object.prototype.hasOwnProperty;function d(e,t){if(!(this instanceof d))return new d(e,t);e&&"object"==(0,u.default)(e)&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||o;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=d,d.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},d.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},d.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},i(d.prototype),d.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},d.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},d.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(e,t){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=A(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var i=s(n,"open",(function(){r.onopen(),e&&e()})),o=s(n,"error",(function(t){if(c("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var a=this._timeout;c("connect attempt will timeout after %d",a);var u=setTimeout((function(){c("connect attempt timed out after %d",a),i.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",a)}),a);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(i),this.subs.push(o),this},d.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",a(this,"ondata"))),this.subs.push(s(e,"ping",a(this,"onping"))),this.subs.push(s(e,"pong",a(this,"onpong"))),this.subs.push(s(e,"error",a(this,"onerror"))),this.subs.push(s(e,"close",a(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",a(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(e){this.decoder.add(e)},d.prototype.ondecoded=function(e){this.emit("packet",e)},d.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},d.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new r(this,e,t),this.nsps[e]=n;var A=this;n.on("connecting",i),n.on("connect",(function(){n.id=A.generateId(e)})),this.autoConnect&&i()}function i(){~l(A.connecting,n)||A.connecting.push(n)}return n},d.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},d.prototype.packet=function(e){c("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var A=0;A<n.length;A++)t.engine.write(n[A],e.options);t.encoding=!1,t.processPacketQueue()})))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},d.prototype.cleanup=function(){c("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},d.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){(function(t){e.exports=function(e){return n&&t.Buffer.isBuffer(e)||A&&(e instanceof t.ArrayBuffer||r(e))};var n="function"==typeof t.Buffer&&"function"==typeof t.Buffer.isBuffer,A="function"==typeof t.ArrayBuffer,r=A&&"function"==typeof t.ArrayBuffer.isView?t.ArrayBuffer.isView:function(e){return e.buffer instanceof t.ArrayBuffer}}).call(this,n(1))},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var A=0;A<e.length;++A)if(e[A]===t)return A;return-1}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){t.read=function(e,t,n,A,r){var i,o,s=8*r-A-1,a=(1<<s)-1,c=a>>1,u=-7,l=n?r-1:0,f=n?-1:1,h=e[t+l];for(l+=f,i=h&(1<<-u)-1,h>>=-u,u+=s;u>0;i=256*i+e[t+l],l+=f,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=A;u>0;o=256*o+e[t+l],l+=f,u-=8);if(0===i)i=1-c;else{if(i===a)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,A),i-=c}return(h?-1:1)*o*Math.pow(2,i-A)},t.write=function(e,t,n,A,r,i){var o,s,a,c=8*i-r-1,u=(1<<c)-1,l=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=A?0:i-1,d=A?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-o))<1&&(o--,a*=2),(t+=o+l>=1?f/a:f*Math.pow(2,1-l))*a>=2&&(o++,a/=2),o+l>=u?(s=0,o=u):o+l>=1?(s=(t*a-1)*Math.pow(2,r),o+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,r),o=0));r>=8;e[n+h]=255&s,h+=d,s/=256,r-=8);for(o=o<<r|s,c+=r;c>0;e[n+h]=255&o,h+=d,o/=256,c-=8);e[n+h-d]|=128*p}},function(e,t,n){t.byteLength=function(e){var t=c(e),n=t[0],A=t[1];return 3*(n+A)/4-A},t.toByteArray=function(e){for(var t,n=c(e),A=n[0],o=n[1],s=new i(3*(A+o)/4-o),a=0,u=o>0?A-4:A,l=0;l<u;l+=4)t=r[e.charCodeAt(l)]<<18|r[e.charCodeAt(l+1)]<<12|r[e.charCodeAt(l+2)]<<6|r[e.charCodeAt(l+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===o&&(t=r[e.charCodeAt(l)]<<2|r[e.charCodeAt(l+1)]>>4,s[a++]=255&t),1===o&&(t=r[e.charCodeAt(l)]<<10|r[e.charCodeAt(l+1)]<<4|r[e.charCodeAt(l+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(u(e,o,o+16383>s?s:o+16383));return 1===r?(t=e[n-1],i.push(A[t>>2]+A[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(A[t>>10]+A[t>>4&63]+A[t<<2&63]+"=")),i.join("")};for(var A=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)A[s]=o[s],r[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(A[(i=r)>>18&63]+A[i>>12&63]+A[i>>6&63]+A[63&i]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t,n){(function(e){var A=n(14),r=n(13),i=n(12);function o(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=a.prototype:(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,n)}function c(e,t,n,A){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,A){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(A||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===A?new Uint8Array(t):void 0===A?new Uint8Array(t,n):new Uint8Array(t,n,A),a.TYPED_ARRAY_SUPPORT?(e=t).__proto__=a.prototype:e=f(e,t),e}(e,t,n,A):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var A=0|d(t,n),r=(e=s(e,A)).write(t,n);return r!==A&&(e=e.slice(0,r)),e}(e,t,n):function(e,t){if(a.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(A=t.length)!=A?s(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}var A;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var A=0;A<n;A+=1)e[A]=255&t[A];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function d(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var A=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return P(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(A)return P(e).length;t=(""+t).toLowerCase(),A=!0}}function p(e,t,n){var A=e[t];e[t]=e[n],e[n]=A}function g(e,t,n,A,r){if(0===e.length)return-1;if("string"==typeof n?(A=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=a.from(t,A)),a.isBuffer(t))return 0===t.length?-1:v(e,t,n,A,r);if("number"==typeof t)return t&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,A,r);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,A,r){var i,o=1,s=e.length,a=t.length;if(void 0!==A&&("ucs2"===(A=String(A).toLowerCase())||"ucs-2"===A||"utf16le"===A||"utf-16le"===A)){if(e.length<2||t.length<2)return-1;o=2,s/=2,a/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var u=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===a)return u*o}else-1!==u&&(i-=i-u),u=-1}else for(n+a>s&&(n=s-a),i=n;i>=0;i--){for(var l=!0,f=0;f<a;f++)if(c(e,i+f)!==c(t,f)){l=!1;break}if(l)return i}return-1}function w(e,t,n,A){n=Number(n)||0;var r=e.length-n;A?(A=Number(A))>r&&(A=r):A=r;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");A>i/2&&(A=i/2);for(var o=0;o<A;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function m(e,t,n,A){return N(P(t,e.length-n),e,n,A)}function B(e,t,n,A){return N(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,A)}function y(e,t,n,A){return B(e,t,n,A)}function b(e,t,n,A){return N(j(t),e,n,A)}function C(e,t,n,A){return N(function(e,t){for(var n,A,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)A=(n=e.charCodeAt(o))>>8,r=n%256,i.push(r),i.push(A);return i}(t,e.length-n),e,n,A)}function k(e,t,n){return 0===t&&n===e.length?A.fromByteArray(e):A.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var A=[],r=t;r<n;){var i,o,s,a,c=e[r],u=null,l=c>239?4:c>223?3:c>191?2:1;if(r+l<=n)switch(l){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[r+1]))&&(a=(31&c)<<6|63&i)>127&&(u=a);break;case 3:i=e[r+1],o=e[r+2],128==(192&i)&&128==(192&o)&&(a=(15&c)<<12|(63&i)<<6|63&o)>2047&&(a<55296||a>57343)&&(u=a);break;case 4:i=e[r+1],o=e[r+2],s=e[r+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&(a=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&a<1114112&&(u=a)}null===u?(u=65533,l=1):u>65535&&(u-=65536,A.push(u>>>10&1023|55296),u=56320|1023&u),A.push(u),r+=l}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);for(var n="",A=0;A<t;)n+=String.fromCharCode.apply(String,e.slice(A,A+=S));return n}(A)}t.Buffer=a,t.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,n){return c(null,e,t,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,n){return function(e,t,n,A){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof A?s(e,t).fill(n,A):s(e,t).fill(n):s(e,t)}(null,e,t,n)},a.allocUnsafe=function(e){return l(null,e)},a.allocUnsafeSlow=function(e){return l(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,A=t.length,r=0,i=Math.min(n,A);r<i;++r)if(e[r]!==t[r]){n=e[r],A=t[r];break}return n<A?-1:A<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var A=a.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(A,r),r+=o.length}return A},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):function(e,t,n){var A=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return Q(this,t,n);case"latin1":case"binary":return U(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(A)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),A=!0}}.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,A,r){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===A&&(A=0),void 0===r&&(r=this.length),t<0||n>e.length||A<0||r>this.length)throw new RangeError("out of range index");if(A>=r&&t>=n)return 0;if(A>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(r>>>=0)-(A>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(i,o),c=this.slice(A,r),u=e.slice(t,n),l=0;l<s;++l)if(c[l]!==u[l]){i=c[l],o=u[l];break}return i<o?-1:o<i?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},a.prototype.write=function(e,t,n,A){if(void 0===t)A="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)A=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===A&&(A="utf8")):(A=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");for(var i=!1;;)switch(A){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return m(this,e,t,n);case"ascii":return B(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return b(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function Q(e,t,n){var A="";n=Math.min(e.length,n);for(var r=t;r<n;++r)A+=String.fromCharCode(127&e[r]);return A}function U(e,t,n){var A="";n=Math.min(e.length,n);for(var r=t;r<n;++r)A+=String.fromCharCode(e[r]);return A}function I(e,t,n){var A=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>A)&&(n=A);for(var r="",i=t;i<n;++i)r+=H(e[i]);return r}function F(e,t,n){for(var A=e.slice(t,n),r="",i=0;i<A.length;i+=2)r+=String.fromCharCode(A[i]+256*A[i+1]);return r}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,A,r,i){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<i)throw new RangeError('"value" argument is out of bounds');if(n+A>e.length)throw new RangeError("Index out of range")}function x(e,t,n,A){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-n,2);r<i;++r)e[n+r]=(t&255<<8*(A?r:1-r))>>>8*(A?r:1-r)}function _(e,t,n,A){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-n,4);r<i;++r)e[n+r]=t>>>8*(A?r:3-r)&255}function D(e,t,n,A,r,i){if(n+A>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(e,t,n,A,i){return i||D(e,0,n,4),r.write(e,t,n,A,23,4),n+4}function L(e,t,n,A,i){return i||D(e,0,n,8),r.write(e,t,n,A,52,8),n+8}a.prototype.slice=function(e,t){var n,A=this.length;if((e=~~e)<0?(e+=A)<0&&(e=0):e>A&&(e=A),(t=void 0===t?A:~~t)<0?(t+=A)<0&&(t=0):t>A&&(t=A),t<e&&(t=e),a.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=a.prototype;else{var r=t-e;n=new a(r,void 0);for(var i=0;i<r;++i)n[i]=this[i+e]}return n},a.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var A=this[e],r=1,i=0;++i<t&&(r*=256);)A+=this[e+i]*r;return A},a.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var A=this[e+--t],r=1;t>0&&(r*=256);)A+=this[e+--t]*r;return A},a.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var A=this[e],r=1,i=0;++i<t&&(r*=256);)A+=this[e+i]*r;return A>=(r*=128)&&(A-=Math.pow(2,8*t)),A},a.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var A=t,r=1,i=this[e+--A];A>0&&(r*=256);)i+=this[e+--A]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,A){e=+e,t|=0,n|=0,A||R(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,i=0;for(this[t]=255&e;++i<n&&(r*=256);)this[t+i]=e/r&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,A){e=+e,t|=0,n|=0,A||R(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):_(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,n,A){if(e=+e,t|=0,!A){var r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},a.prototype.writeIntBE=function(e,t,n,A){if(e=+e,t|=0,!A){var r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):_(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,n){return T(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return T(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,A){if(n||(n=0),A||0===A||(A=this.length),t>=e.length&&(t=e.length),t||(t=0),A>0&&A<n&&(A=n),A===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),e.length-t<A-n&&(A=e.length-t+n);var r,i=A-n;if(this===e&&n<t&&t<A)for(r=i-1;r>=0;--r)e[r+t]=this[r+n];else if(i<1e3||!a.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},a.prototype.fill=function(e,t,n,A){if("string"==typeof e){if("string"==typeof t?(A=t,t=0,n=this.length):"string"==typeof n&&(A=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==A&&"string"!=typeof A)throw new TypeError("encoding must be a string");if("string"==typeof A&&!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=a.isBuffer(e)?e:P(new a(e,A).toString()),s=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function P(e,t){var n;t=t||1/0;for(var A=e.length,r=null,i=[],o=0;o<A;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===A){(t-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function j(e){return A.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,n,A){for(var r=0;r<A&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(1))},function(e,t,n){(function(t){var A=n(2),r=Object.prototype.toString,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),o="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);e.exports=function e(n){if(!n||"object"!=(0,u.default)(n))return!1;if(A(n)){for(var r=0,s=n.length;r<s;r++)if(e(n[r]))return!0;return!1}if("function"==typeof t&&t.isBuffer&&t.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||i&&n instanceof Blob||o&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return e(n.toJSON(),!0);for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)&&e(n[a]))return!0;return!1}}).call(this,n(15).Buffer)},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),A=0,r=n.length;A<r;A++){var i=n[A].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},function(e,t){e.exports=function(e,t){for(var n=[],A=(t=t||0)||0;A<e.length;A++)n[A-t]=e[A];return n}},function(e,t,n){window,e.exports=function(e){var t={};function n(A){if(t[A])return t[A].exports;var r=t[A]={i:A,l:!1,exports:{}};return e[A].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,A){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:A})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==(0,u.default)(e)&&e&&e.__esModule)return e;var A=Object.create(null);if(n.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(A,r,function(t){return e[t]}.bind(null,r));return A},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=29)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"==typeof window?"undefined":(0,u.default)(window))&&(n=window)}e.exports=n},function(e,t,n){(function(e){var A,r=n(26),i=n(25),o=n(19),s=n(18),a=n(17);e&&e.ArrayBuffer&&(A=n(15));var c="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),l=c||u;t.protocol=3;var f=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=r(f),d={type:"error",data:"parser error"},p=n(14);function g(e,t,n){for(var A=new Array(e.length),r=s(e.length,n),i=function(e,n,r){t(n,(function(t,n){A[e]=n,r(t,A)}))},o=0;o<e.length;o++)i(o,e[o],r)}t.encodePacket=function(n,A,r,i){"function"==typeof A&&(i=A,A=!1),"function"==typeof r&&(i=r,r=null);var o=void 0===n.data?void 0:n.data.buffer||n.data;if(e.ArrayBuffer&&o instanceof ArrayBuffer)return function(e,n,A){if(!n)return t.encodeBase64Packet(e,A);var r=e.data,i=new Uint8Array(r),o=new Uint8Array(1+r.byteLength);o[0]=f[e.type];for(var s=0;s<i.length;s++)o[s+1]=i[s];return A(o.buffer)}(n,A,i);if(p&&o instanceof e.Blob)return function(e,n,A){if(!n)return t.encodeBase64Packet(e,A);if(l)return function(e,n,A){if(!n)return t.encodeBase64Packet(e,A);var r=new FileReader;return r.onload=function(){e.data=r.result,t.encodePacket(e,n,!0,A)},r.readAsArrayBuffer(e.data)}(e,n,A);var r=new Uint8Array(1);return r[0]=f[e.type],A(new p([r.buffer,e.data]))}(n,A,i);if(o&&o.base64)return function(e,n){return i("b"+t.packets[e.type]+e.data.data)}(n);var s=f[n.type];return void 0!==n.data&&(s+=r?a.encode(String(n.data),{strict:!1}):String(n.data)),i(""+s)},t.encodeBase64Packet=function(n,A){var r,i="b"+t.packets[n.type];if(p&&n.data instanceof e.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];A(i+e)},o.readAsDataURL(n.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(e){for(var s=new Uint8Array(n.data),a=new Array(s.length),c=0;c<s.length;c++)a[c]=s[c];r=String.fromCharCode.apply(null,a)}return i+=e.btoa(r),A(i)},t.decodePacket=function(e,n,A){if(void 0===e)return d;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(A&&!1===(e=function(e){try{e=a.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return d;var r=e.charAt(0);return Number(r)==r&&h[r]?e.length>1?{type:h[r],data:e.substring(1)}:{type:h[r]}:d}r=new Uint8Array(e)[0];var i=o(e,1);return p&&"blob"===n&&(i=new p([i])),{type:h[r],data:i}},t.decodeBase64Packet=function(e,t){var n=h[e.charAt(0)];if(!A)return{type:n,data:{base64:!0,data:e.substr(1)}};var r=A.decode(e.substr(1));return"blob"===t&&p&&(r=new p([r])),{type:n,data:r}},t.encodePayload=function(e,n,A){"function"==typeof n&&(A=n,n=null);var r=i(e);return n&&r?p&&!l?t.encodePayloadAsBlob(e,A):t.encodePayloadAsArrayBuffer(e,A):e.length?void g(e,(function(e,A){t.encodePacket(e,!!r&&n,!1,(function(e){A(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return A(t.join(""))})):A("0:")},t.decodePayload=function(e,n,A){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,A);var r;if("function"==typeof n&&(A=n,n=null),""===e)return A(d,0,1);for(var i,o,s="",a=0,c=e.length;a<c;a++){var u=e.charAt(a);if(":"===u){if(""===s||s!=(i=Number(s)))return A(d,0,1);if(s!=(o=e.substr(a+1,i)).length)return A(d,0,1);if(o.length){if(r=t.decodePacket(o,n,!1),d.type===r.type&&d.data===r.data)return A(d,0,1);if(!1===A(r,a+i,c))return}a+=i,s=""}else s+=u}return""!==s?A(d,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var A=t.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),r=new Uint8Array(A),i=0;return t.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var A=new Uint8Array(e.length),o=0;o<e.length;o++)A[o]=e.charCodeAt(o);n=A.buffer}r[i++]=t?0:1;var s=n.byteLength.toString();for(o=0;o<s.length;o++)r[i++]=parseInt(s[o]);for(r[i++]=255,A=new Uint8Array(n),o=0;o<A.length;o++)r[i++]=A[o]})),n(r.buffer)}))},t.encodePayloadAsBlob=function(e,n){g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var A=new Uint8Array(e.length),r=0;r<e.length;r++)A[r]=e.charCodeAt(r);e=A.buffer,t[0]=0}var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),o=new Uint8Array(i.length+1);for(r=0;r<i.length;r++)o[r]=parseInt(i[r]);if(o[i.length]=255,p){var s=new p([t.buffer,o.buffer,e]);n(null,s)}}))}),(function(e,t){return n(new p(t))}))},t.decodePayloadAsBinary=function(e,n,A){"function"==typeof n&&(A=n,n=null);for(var r=e,i=[];r.byteLength>0;){for(var s=new Uint8Array(r),a=0===s[0],c="",u=1;255!==s[u];u++){if(c.length>310)return A(d,0,1);c+=s[u]}r=o(r,2+c.length),c=parseInt(c);var l=o(r,0,c);if(a)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(e){var f=new Uint8Array(l);for(l="",u=0;u<f.length;u++)l+=String.fromCharCode(f[u])}i.push(l),r=o(r,c)}var h=i.length;i.forEach((function(e,r){A(t.decodePacket(e,n,!0),r,h)}))}}).call(this,n(0))},function(e,t){e.exports=function(){return function(){}}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),A=0,r=n.length;A<r;A++){var i=n[A].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},function(e,t,n){function A(e){if(e)return function(e){for(var t in A.prototype)e[t]=A.prototype[t];return e}(e)}e.exports=A,A.prototype.on=A.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},A.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},A.prototype.off=A.prototype.removeListener=A.prototype.removeAllListeners=A.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,A=this._callbacks["$"+e];if(!A)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<A.length;r++)if((n=A[r])===t||n.fn===t){A.splice(r,1);break}return this},A.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var A=0,r=(n=n.slice(0)).length;A<r;++A)n[A].apply(this,t);return this},A.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},A.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){var A=n(1),r=n(4);function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=i,r(i.prototype),i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=A.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){var A=n(27);t.websocket=A},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,A=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,r=e.indexOf("["),i=e.indexOf("]");-1!=r&&-1!=i&&(e=e.substring(0,r)+e.substring(r,i).replace(/:/g,";")+e.substring(i,e.length));for(var o=n.exec(e||""),s={},a=14;a--;)s[A[a]]=o[a]||"";return-1!=r&&-1!=i&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var A=0;A<e.length;++A)if(e[A]===t)return A;return-1}},function(e,t,n){var A=(0,a.default)((function e(t,n){(0,c.default)(this,e),this.target=n,this.type=t})),r=function(e){(0,i.default)(n,e);var t=l(n);function n(e,A){var r;return(0,c.default)(this,n),(r=t.call(this,"message",A)).data=e,r}return(0,a.default)(n)}(A),o=function(e){(0,i.default)(n,e);var t=l(n);function n(e,A,r){var i;return(0,c.default)(this,n),(i=t.call(this,"close",r)).wasClean=r._closeFrameReceived&&r._closeFrameSent,i.reason=A,i.code=e,i}return(0,a.default)(n)}(A),s=function(e){(0,i.default)(n,e);var t=l(n);function n(e){return(0,c.default)(this,n),t.call(this,"open",e)}return(0,a.default)(n)}(A),u=function(e){(0,i.default)(n,e);var t=l(n);function n(e,A){var r;return(0,c.default)(this,n),(r=t.call(this,"error",A)).message=e.message,r.error=e,r}return(0,a.default)(n)}(A),f={addEventListener:function(e,t){function n(e){t.call(this,new r(e,this))}function A(e,n){t.call(this,new o(e,n,this))}function i(e){t.call(this,new u(e,this))}function a(){t.call(this,new s(this))}"function"==typeof t&&("message"===e?(n._listener=t,this.on(e,n)):"close"===e?(A._listener=t,this.on(e,A)):"error"===e?(i._listener=t,this.on(e,i)):"open"===e?(a._listener=t,this.on(e,a)):this.on(e,t))},removeEventListener:function(e,t){for(var n=this.listeners(e),A=0;A<n.length;A++)n[A]!==t&&n[A]._listener!==t||this.removeListener(e,n[A])}};e.exports=f},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function A(e){return"function"==typeof e}function r(e){return"object"==(0,u.default)(e)&&null!==e}function i(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,s,a,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(i(n=this._events[e]))return!1;if(A(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(r(n))for(s=Array.prototype.slice.call(arguments,1),o=(c=n.slice()).length,a=0;a<o;a++)c[a].apply(this,s);return!0},n.prototype.addListener=function(e,t){var o;if(!A(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,A(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(o=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!A(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},n.prototype.removeListener=function(e,t){var n,i,o,s;if(!A(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,i=-1,n===t||A(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(A(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?A(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(A(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){var A=n(10),o=n(9),s=n(2)("weapp-socket:"),f=["CONNECTING","OPEN","CLOSING","CLOSED"],h=function(e){(0,i.default)(n,e);var t=l(n);function n(e,A,i){var o;return(0,c.default)(this,n),(o=t.call(this)).readyState=n.CONNECTING,o.protocol="",o._socket=null,null!==e&&(Array.isArray(A)?A=A.join(", "):"object"==(0,u.default)(A)&&null!==A&&(i=A,A=void 0),function(e,t,n){Object.assign(n,{url:e,header:{"content-type":"application/json"},protocols:t,method:"GET"}),this._socket=function(e){var t=wx.connectSocket(e);return s("socketTask: ",t),t||{onClose:wx.onSocketClose,onOpen:wx.onSocketOpen,onError:wx.onSocketError,onMessage:wx.onSocketMessage,send:wx.sendSocketMessage,close:wx.closeSocket}}(n),this.addSocketEventListeners()}.call((0,r.default)(o),e,A,i)),o}return(0,a.default)(n,[{key:"CONNECTING",get:function(){return n.CONNECTING}},{key:"CLOSING",get:function(){return n.CLOSING}},{key:"CLOSED",get:function(){return n.CLOSED}},{key:"OPEN",get:function(){return n.OPEN}},{key:"addSocketEventListeners",value:function(){var e=this;this._socket.onOpen((function(){e.readyState=n.OPEN,e.onopen()})),this._socket.onClose((function(t){s("onclose: ",t),e.readyState=n.CLOSED,e.onclose(t.code,t.reason)})),this._socket.onError((function(t){s("onerror: ",t),e.onerror(t)})),this._socket.onMessage((function(t){e.onmessage(t)}))}},{key:"send",value:function(e){s("send data: ",e,this.readyState),this.readyState===n.OPEN&&this._socket.send({data:e})}},{key:"close",value:function(e,t){s("close socket: ",e,t),this.readyState=n.CLOSING,this._socket.close({code:e,reason:t})}}]),n}(A);f.forEach((function(e,t){h[f[t]]=t})),["open","error","close","message"].forEach((function(e){Object.defineProperty(h.prototype,"on".concat(e),{get:function(){for(var t=this.listeners(e),n=0;n<t.length;n++)if(t[n]._listener)return t[n]._listener},set:function(t){for(var n=this.listeners(e),A=0;A<n.length;A++)n[A]._listener&&this.removeListener(e,n[A]);this.addEventListener(e,t)}})})),h.prototype.addEventListener=o.addEventListener,h.prototype.removeEventListener=o.removeEventListener,e.exports=h},function(e,t,n){var A,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i={},o=0,s=0;function a(e){var t="";do{t=r[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function c(){var e=a(+new Date);return e!==A?(o=0,A=e):e+"."+a(o++)}for(;s<64;s++)i[r[s]]=s;c.encode=a,c.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=64*t+i[e.charAt(s)];return t},e.exports=c},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(t){var n=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,A=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),r=A&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),i=n&&n.prototype.append&&n.prototype.getBlob;function o(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var A=n.buffer;if(n.byteLength!==A.byteLength){var r=new Uint8Array(n.byteLength);r.set(new Uint8Array(A,n.byteOffset,n.byteLength)),A=r.buffer}e[t]=A}}}e.exports=A?r?t.Blob:function(e,t){return o(e),new Blob(e,t||{})}:i?function(e,t){t=t||{};var A=new n;o(e);for(var r=0;r<e.length;r++)A.append(e[r]);return t.type?A.getBlob(t.type):A.getBlob()}:void 0}).call(this,n(0))},function(e,t){!function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),A=0;A<e.length;A++)n[e.charCodeAt(A)]=A;t.encode=function(t){var n,A=new Uint8Array(t),r=A.length,i="";for(n=0;n<r;n+=3)i+=e[A[n]>>2],i+=e[(3&A[n])<<4|A[n+1]>>4],i+=e[(15&A[n+1])<<2|A[n+2]>>6],i+=e[63&A[n+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(e){var t,A,r,i,o,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new ArrayBuffer(s),l=new Uint8Array(u);for(t=0;t<a;t+=4)A=n[e.charCodeAt(t)],r=n[e.charCodeAt(t+1)],i=n[e.charCodeAt(t+2)],o=n[e.charCodeAt(t+3)],l[c++]=A<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return u}}()},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(e,A){var r;!function(i){var o=("object"==(0,u.default)(e)&&e&&e.exports,"object"==(0,u.default)(A)&&A);o.global!==o&&o.window;var s,a,c,l=String.fromCharCode;function f(e){for(var t,n,A=[],r=0,i=e.length;r<i;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<i?56320==(64512&(n=e.charCodeAt(r++)))?A.push(((1023&t)<<10)+(1023&n)+65536):(A.push(t),r--):A.push(t);return A}function h(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function d(e,t){return l(e>>t&63|128)}function p(e,t){if(0==(4294967168&e))return l(e);var n="";return 0==(4294965248&e)?n=l(e>>6&31|192):0==(4294901760&e)?(h(e,t)||(e=65533),n=l(e>>12&15|224),n+=d(e,6)):0==(4292870144&e)&&(n=l(e>>18&7|240),n+=d(e,12),n+=d(e,6)),n+l(63&e|128)}function g(){if(c>=a)throw Error("Invalid byte index");var e=255&s[c];if(c++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function v(e){var t,n;if(c>a)throw Error("Invalid byte index");if(c==a)return!1;if(t=255&s[c],c++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|g())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|g()<<6|g())>=2048)return h(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|g()<<12|g()<<6|g())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}var w={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,A=f(e),r=A.length,i=-1,o="";++i<r;)o+=p(A[i],n);return o},decode:function(e,t){var n=!1!==(t=t||{}).strict;s=f(e),a=s.length,c=0;for(var A,r=[];!1!==(A=v(n));)r.push(A);return function(e){for(var t,n=e.length,A=-1,r="";++A<n;)(t=e[A])>65535&&(r+=l((t-=65536)>>>10&1023|55296),t=56320|1023&t),r+=l(t);return r}(r)}};void 0===(r=function(){return w}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n(16)(e),n(0))},function(e,t){function n(){}e.exports=function(e,t,A){var r=!1;return A=A||n,i.count=e,0===e?t():i;function i(e,n){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(r=!0,t(e),t=A):0!==i.count||r||t(null,n)}}},function(e,t){e.exports=function(e,t,n){var A=e.byteLength;if(t=t||0,n=n||A,e.slice)return e.slice(t,n);if(t<0&&(t+=A),n<0&&(n+=A),n>A&&(n=A),t>=A||t>=n||0===A)return new ArrayBuffer(0);for(var r=new Uint8Array(e),i=new Uint8Array(n-t),o=t,s=0;o<n;o++,s++)i[s]=r[o];return i.buffer}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){t.read=function(e,t,n,A,r){var i,o,s=8*r-A-1,a=(1<<s)-1,c=a>>1,u=-7,l=n?r-1:0,f=n?-1:1,h=e[t+l];for(l+=f,i=h&(1<<-u)-1,h>>=-u,u+=s;u>0;i=256*i+e[t+l],l+=f,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=A;u>0;o=256*o+e[t+l],l+=f,u-=8);if(0===i)i=1-c;else{if(i===a)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,A),i-=c}return(h?-1:1)*o*Math.pow(2,i-A)},t.write=function(e,t,n,A,r,i){var o,s,a,c=8*i-r-1,u=(1<<c)-1,l=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=A?0:i-1,d=A?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-o))<1&&(o--,a*=2),(t+=o+l>=1?f/a:f*Math.pow(2,1-l))*a>=2&&(o++,a/=2),o+l>=u?(s=0,o=u):o+l>=1?(s=(t*a-1)*Math.pow(2,r),o+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,r),o=0));r>=8;e[n+h]=255&s,h+=d,s/=256,r-=8);for(o=o<<r|s,c+=r;c>0;e[n+h]=255&o,h+=d,o/=256,c-=8);e[n+h-d]|=128*p}},function(e,t,n){t.byteLength=function(e){var t=c(e),n=t[0],A=t[1];return 3*(n+A)/4-A},t.toByteArray=function(e){for(var t,n=c(e),A=n[0],o=n[1],s=new i(NaN),a=0,u=o>0?A-4:A,l=0;l<u;l+=4)t=r[e.charCodeAt(l)]<<18|r[e.charCodeAt(l+1)]<<12|r[e.charCodeAt(l+2)]<<6|r[e.charCodeAt(l+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===o&&(t=r[e.charCodeAt(l)]<<2|r[e.charCodeAt(l+1)]>>4,s[a++]=255&t),1===o&&(t=r[e.charCodeAt(l)]<<10|r[e.charCodeAt(l+1)]<<4|r[e.charCodeAt(l+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(u(e,o,o+16383>s?s:o+16383));return 1===r?(t=e[n-1],i.push(A[t>>2]+A[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(A[t>>10]+A[t>>4&63]+A[t<<2&63]+"=")),i.join("")};for(var A=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)A[s]=o[s],r[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(A[(i=r)>>18&63]+A[i>>12&63]+A[i>>6&63]+A[63&i]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t,n){(function(e){var A=n(23),r=n(22),i=n(21);function o(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=a.prototype:(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,n)}function c(e,t,n,A){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,A){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(A||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===A?new Uint8Array(t):void 0===A?new Uint8Array(t,n):new Uint8Array(t,n,A),a.TYPED_ARRAY_SUPPORT?(e=t).__proto__=a.prototype:e=f(e,t),e}(e,t,n,A):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var A=0|d(t,n),r=(e=s(e,A)).write(t,n);return r!==A&&(e=e.slice(0,r)),e}(e,t,n):function(e,t){if(a.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(A=t.length)!=A?s(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}var A;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var A=0;A<n;A+=1)e[A]=255&t[A];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function d(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var A=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return P(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(A)return P(e).length;t=(""+t).toLowerCase(),A=!0}}function p(e,t,n){var A=e[t];e[t]=e[n],e[n]=A}function g(e,t,n,A,r){if(0===e.length)return-1;if("string"==typeof n?(A=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=a.from(t,A)),a.isBuffer(t))return 0===t.length?-1:v(e,t,n,A,r);if("number"==typeof t)return t&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,A,r);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,A,r){var i,o=1,s=e.length,a=t.length;if(void 0!==A&&("ucs2"===(A=String(A).toLowerCase())||"ucs-2"===A||"utf16le"===A||"utf-16le"===A)){if(e.length<2||t.length<2)return-1;o=2,s/=2,a/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var u=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===a)return u*o}else-1!==u&&(i-=i-u),u=-1}else for(n+a>s&&(n=s-a),i=n;i>=0;i--){for(var l=!0,f=0;f<a;f++)if(c(e,i+f)!==c(t,f)){l=!1;break}if(l)return i}return-1}function w(e,t,n,A){n=Number(n)||0;var r=e.length-n;A?(A=Number(A))>r&&(A=r):A=r;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");A>i/2&&(A=i/2);for(var o=0;o<A;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function m(e,t,n,A){return N(P(t,e.length-n),e,n,A)}function B(e,t,n,A){return N(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,A)}function y(e,t,n,A){return B(e,t,n,A)}function b(e,t,n,A){return N(j(t),e,n,A)}function C(e,t,n,A){return N(function(e,t){for(var n,A,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)A=(n=e.charCodeAt(o))>>8,r=n%256,i.push(r),i.push(A);return i}(t,e.length-n),e,n,A)}function k(e,t,n){return 0===t&&n===e.length?A.fromByteArray(e):A.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var A=[],r=t;r<n;){var i,o,s,a,c=e[r],u=null,l=c>239?4:c>223?3:c>191?2:1;if(r+l<=n)switch(l){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[r+1]))&&(a=(31&c)<<6|63&i)>127&&(u=a);break;case 3:i=e[r+1],o=e[r+2],128==(192&i)&&128==(192&o)&&(a=(15&c)<<12|(63&i)<<6|63&o)>2047&&(a<55296||a>57343)&&(u=a);break;case 4:i=e[r+1],o=e[r+2],s=e[r+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&(a=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&a<1114112&&(u=a)}null===u?(u=65533,l=1):u>65535&&(u-=65536,A.push(u>>>10&1023|55296),u=56320|1023&u),A.push(u),r+=l}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);for(var n="",A=0;A<t;)n+=String.fromCharCode.apply(String,e.slice(A,A+=S));return n}(A)}t.Buffer=a,t.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,n){return c(null,e,t,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,n){return function(e,t,n,A){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof A?s(e,t).fill(n,A):s(e,t).fill(n):s(e,t)}(null,e,t,n)},a.allocUnsafe=function(e){return l(null,e)},a.allocUnsafeSlow=function(e){return l(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,A=t.length,r=0,i=Math.min(n,A);r<i;++r)if(e[r]!==t[r]){n=e[r],A=t[r];break}return n<A?-1:A<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var A=a.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(A,r),r+=o.length}return A},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):function(e,t,n){var A=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return Q(this,t,n);case"latin1":case"binary":return U(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(A)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),A=!0}}.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,A,r){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===A&&(A=0),void 0===r&&(r=this.length),t<0||n>e.length||A<0||r>this.length)throw new RangeError("out of range index");if(A>=r&&t>=n)return 0;if(A>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(r>>>=0)-(A>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(i,o),c=this.slice(A,r),u=e.slice(t,n),l=0;l<s;++l)if(c[l]!==u[l]){i=c[l],o=u[l];break}return i<o?-1:o<i?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},a.prototype.write=function(e,t,n,A){if(void 0===t)A="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)A=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===A&&(A="utf8")):(A=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");for(var i=!1;;)switch(A){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return m(this,e,t,n);case"ascii":return B(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return b(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function Q(e,t,n){var A="";n=Math.min(e.length,n);for(var r=t;r<n;++r)A+=String.fromCharCode(127&e[r]);return A}function U(e,t,n){var A="";n=Math.min(e.length,n);for(var r=t;r<n;++r)A+=String.fromCharCode(e[r]);return A}function I(e,t,n){var A=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>A)&&(n=A);for(var r="",i=t;i<n;++i)r+=H(e[i]);return r}function F(e,t,n){for(var A=e.slice(t,n),r="",i=0;i<A.length;i+=2)r+=String.fromCharCode(A[i]+256*A[i+1]);return r}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,A,r,i){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<i)throw new RangeError('"value" argument is out of bounds');if(n+A>e.length)throw new RangeError("Index out of range")}function x(e,t,n,A){t<0&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-n,2);r<i;++r)e[n+r]=(t&255<<8*(A?r:1-r))>>>8*(A?r:1-r)}function _(e,t,n,A){t<0&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-n,4);r<i;++r)e[n+r]=t>>>8*(A?r:3-r)&255}function D(e,t,n,A,r,i){if(n+A>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(e,t,n,A,i){return i||D(e,0,n,4),r.write(e,t,n,A,23,4),n+4}function L(e,t,n,A,i){return i||D(e,0,n,8),r.write(e,t,n,A,52,8),n+8}a.prototype.slice=function(e,t){var n,A=this.length;if((e=~~e)<0?(e+=A)<0&&(e=0):e>A&&(e=A),(t=void 0===t?A:~~t)<0?(t+=A)<0&&(t=0):t>A&&(t=A),t<e&&(t=e),a.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=a.prototype;else{var r=t-e;n=new a(r,void 0);for(var i=0;i<r;++i)n[i]=this[i+e]}return n},a.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var A=this[e],r=1,i=0;++i<t&&(r*=256);)A+=this[e+i]*r;return A},a.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var A=this[e+--t],r=1;t>0&&(r*=256);)A+=this[e+--t]*r;return A},a.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var A=this[e],r=1,i=0;++i<t&&(r*=256);)A+=this[e+i]*r;return A>=(r*=128)&&(A-=Math.pow(2,8*t)),A},a.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var A=t,r=1,i=this[e+--A];A>0&&(r*=256);)i+=this[e+--A]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,A){e=+e,t|=0,n|=0,A||R(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,i=0;for(this[t]=255&e;++i<n&&(r*=256);)this[t+i]=e/r&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,A){e=+e,t|=0,n|=0,A||R(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,i=1;for(this[t+r]=255&e;--r>=0&&(i*=256);)this[t+r]=e/i&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):_(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,n,A){if(e=+e,t|=0,!A){var r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},a.prototype.writeIntBE=function(e,t,n,A){if(e=+e,t|=0,!A){var r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):_(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,n){return T(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return T(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,A){if(n||(n=0),A||0===A||(A=this.length),t>=e.length&&(t=e.length),t||(t=0),A>0&&A<n&&(A=n),A===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),e.length-t<A-n&&(A=e.length-t+n);var r,i=A-n;if(this===e&&n<t&&t<A)for(r=i-1;r>=0;--r)e[r+t]=this[r+n];else if(i<1e3||!a.TYPED_ARRAY_SUPPORT)for(r=0;r<i;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},a.prototype.fill=function(e,t,n,A){if("string"==typeof e){if("string"==typeof t?(A=t,t=0,n=this.length):"string"==typeof n&&(A=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==A&&"string"!=typeof A)throw new TypeError("encoding must be a string");if("string"==typeof A&&!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=a.isBuffer(e)?e:P(new a(e,A).toString()),s=o.length;for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function P(e,t){var n;t=t||1/0;for(var A=e.length,r=null,i=[],o=0;o<A;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===A){(t-=3)>-1&&i.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function j(e){return A.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,n,A){for(var r=0;r<A&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(0))},function(e,t,n){(function(t){var A=n(20),r=Object.prototype.toString,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),o="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);e.exports=function e(n){if(!n||"object"!=(0,u.default)(n))return!1;if(A(n)){for(var r=0,s=n.length;r<s;r++)if(e(n[r]))return!0;return!1}if("function"==typeof t&&t.isBuffer&&t.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||i&&n instanceof Blob||o&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return e(n.toJSON(),!0);for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)&&e(n[a]))return!0;return!1}}).call(this,n(24).Buffer)},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var A in e)n.call(e,A)&&t.push(A);return t}},function(e,t,n){(function(t){var A,r=n(5),i=n(1),o=n(3),s=n(13),a=n(12),c=n(2)("engine.io-client:websocket"),u=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{A=n(11)}catch(e){c("require error: ",e)}var l=u;function f(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=u&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(l=A),r.call(this,e)}l||"undefined"!=typeof window||(l=A),e.exports=f,s(f,r),f.prototype.name="websocket",f.prototype.supportsBinary=!0,f.prototype.doOpen=function(){if(c("wesocket do open: ",this.protocols),this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?t?new l(e,t):new l(e):new l(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},f.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},f.prototype.write=function(e){var t=this;this.writable=!1;for(var n,A=e.length,r=0,o=A;r<o;r++)n=e[r],i.encodePacket(n,t.supportsBinary,(function(e){try{t.ws.send(e)}catch(e){}--A||(t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0))}))},f.prototype.onClose=function(){r.prototype.onClose.call(this)},f.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},f.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||(e.b64=1),(e=o.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},f.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===f.prototype.name)}}).call(this,n(0))},function(e,t,n){(function(t){var A=n(6),r=n(4),i=n(2)("engine.io-client:socket"),o=n(8),s=n(1),a=n(7),c=n(3);function l(e,n){if(!(this instanceof l))return new l(e,n);n=n||{},e&&"object"==(0,u.default)(e)&&(n=e,e=null),e?(e=a(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=a(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var A="object"==(0,u.default)(t)&&t;A.global===A&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=l,l.priorWebsocketSuccess=!1,r(l.prototype),l.protocol=s.protocol,l.Socket=l,l.Transport=n(5),l.transports=n(6),l.parser=n(1),l.prototype.createTransport=function(e){i('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var n=this.transportOptions[e]||{};this.id&&(t.sid=this.id);var r=new A[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0});return i("transport: ",r),r},l.prototype.open=function(){var e;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},l.prototype.setTransport=function(e){i("setting transport %s",e.name);var t=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},l.prototype.probe=function(e){i('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,A=this;function r(){if(A.onlyBinaryUpgrades){var r=!this.supportsBinary&&A.transport.supportsBinary;n=n||r}n||(i('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(r){if(!n)if("pong"===r.type&&"probe"===r.data){if(i('probe transport "%s" pong',e),A.upgrading=!0,A.emit("upgrading",t),!t)return;l.priorWebsocketSuccess="websocket"===t.name,i('pausing current transport "%s"',A.transport.name),A.transport.pause((function(){n||"closed"!==A.readyState&&(i("changing transport and sending upgrade packet"),f(),A.setTransport(t),t.send([{type:"upgrade"}]),A.emit("upgrade",t),t=null,A.upgrading=!1,A.flush())}))}else{i('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,A.emit("upgradeError",o)}})))}function o(){n||(n=!0,f(),t.close(),t=null)}function s(n){var r=new Error("probe error: "+n);r.transport=t.name,o(),i('probe transport "%s" failed because of error: %s',e,n),A.emit("upgradeError",r)}function a(){s("transport closed")}function c(){s("socket closed")}function u(e){t&&e.name!==t.name&&(i('"%s" works - aborting "%s"',e.name,t.name),o())}function f(){t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",a),A.removeListener("close",c),A.removeListener("upgrading",u)}l.priorWebsocketSuccess=!1,t.once("open",r),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",u),t.open()},l.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},l.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(i('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else i('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},l.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){i("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},l.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},l.prototype.sendPacket=function(e,t,n,A){if("function"==typeof t&&(A=t,t=void 0),"function"==typeof n&&(A=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:e,data:t,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),A&&this.once("flush",A),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?A():t()})):this.upgrading?A():t()}function t(){e.onClose("forced close"),i("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function A(){e.once("upgrade",n),e.once("upgradeError",n)}return this},l.prototype.onError=function(e){i("socket error %j",e),l.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},l.prototype.onClose=function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(i('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},l.prototype.filterUpgrades=function(e){for(var t=[],n=0,A=e.length;n<A;n++)~o(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,n(0))},function(e,t,n){e.exports=n(28),e.exports.parser=n(1)}])},function(e,t,n){(function(e){var A=n(2),r=n(9),i=Object.prototype.toString,o="function"==typeof e.Blob||"[object BlobConstructor]"===i.call(e.Blob),s="function"==typeof e.File||"[object FileConstructor]"===i.call(e.File);t.deconstructPacket=function(e){var t=[],n=e.data,i=e;return i.data=function e(t,n){if(!t)return t;if(r(t)){var i={_placeholder:!0,num:n.length};return n.push(t),i}if(A(t)){for(var o=new Array(t.length),s=0;s<t.length;s++)o[s]=e(t[s],n);return o}if("object"==(0,u.default)(t)&&!(t instanceof Date)){for(var a in o={},t)o[a]=e(t[a],n);return o}return t}(n,t),i.attachments=t.length,{packet:i,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(A(t))for(var r=0;r<t.length;r++)t[r]=e(t[r],n);else if("object"==(0,u.default)(t))for(var i in t)t[i]=e(t[i],n);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,i=e;!function e(a,c,l){if(!a)return a;if(o&&a instanceof Blob||s&&a instanceof File){n++;var f=new FileReader;f.onload=function(){l?l[c]=this.result:i=this.result,--n||t(i)},f.readAsArrayBuffer(a)}else if(A(a))for(var h=0;h<a.length;h++)e(a[h],h,a);else if("object"==(0,u.default)(a)&&!r(a))for(var d in a)e(a[d],d,a)}(i),n||t(i)}}).call(this,n(1))},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,A=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,r=e.indexOf("["),i=e.indexOf("]");-1!=r&&-1!=i&&(e=e.substring(0,r)+e.substring(r,i).replace(/:/g,";")+e.substring(i,e.length));for(var o=n.exec(e||""),s={},a=14;a--;)s[A[a]]=o[a]||"";return-1!=r&&-1!=i&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t,n){(function(t){var A=n(21),r=n(0)("socket.io-client:url");e.exports=function(e,n){var i=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(r("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),r("parse %s",e),i=A(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var o=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+o+":"+i.port,i.href=i.protocol+"://"+o+(n&&n.port===i.port?"":":"+i.port),i}}).call(this,n(1))},function(e,t,n){var A=n(22),r=n(4),i=n(8),o=n(0)("socket.io-client");e.exports=t=a;var s=t.managers={};function a(e,t){"object"==(0,u.default)(e)&&(t=e,e=void 0),t=t||{};var n,r=A(e),a=r.source,c=r.id,l=r.path,f=s[c]&&l in s[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||f?(o("ignoring socket cache for %s",a),n=i(a,t)):(s[c]||(o("new io instance for %s",a),s[c]=i(a,t)),n=s[c]),r.query&&!t.query&&(t.query=r.query),n.socket(r.path,t)}t.protocol=r.protocol,t.connect=a,t.Manager=n(8),t.Socket=n(7)},function(e,t,n){e.exports=n(23)}])}))},{"@babel/runtime/helpers/assertThisInitialized":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/getPrototypeOf":5,"@babel/runtime/helpers/inherits":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/possibleConstructorReturn":10,"@babel/runtime/helpers/typeof":12}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Base64=void 0;var A=function(){var e,t,n,A=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],r=[];for(n=0;n<A.length;n+=1)r[A[n]]=n;var i=function(n){e=n,t=0},o=function(){if(!e)return-1;if(t>=e.length)return-1;var n=255&e.charCodeAt(t);return t+=1,n},s=function(){if(!e)return-1;for(;;){if(t>=e.length)return-1;var n=e.charAt(t);if(t+=1,r[n])return r[n];if("A"===n)return 0}},a=function(e){return 1===(e=e.toString(16)).length&&(e="0"+e),e="%"+e,unescape(e)};return{encodeBase64:function(e){var t,n;i(e),t="";var r=new Array(3);for(n=!1;!n&&-1!==(r[0]=o());)r[1]=o(),r[2]=o(),t+=A[r[0]>>2],-1!==r[1]?(t+=A[r[0]<<4&48|r[1]>>4],-1!==r[2]?(t+=A[r[1]<<2&60|r[2]>>6],t+=A[63&r[2]]):(t+=A[r[1]<<2&60],t+="=",n=!0)):(t+=A[r[0]<<4&48],t+="=",t+="=",n=!0);return t},decodeBase64:function(e){var t,n;i(e),t="";var A=new Array(4);for(n=!1;!n&&-1!==(A[0]=s())&&-1!==(A[1]=s());)A[2]=s(),A[3]=s(),t+=a(A[0]<<2&255|A[1]>>4),-1!==A[2]?(t+=a(A[1]<<4&255|A[2]>>2),-1!==A[3]?t+=a(A[2]<<6&255|A[3]):n=!0):n=!0;return t}}}();n.Base64=A},{}],17:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.VideoEncodingParameters=n.VideoCodecParameters=n.VideoCodec=n.AudioEncodingParameters=n.AudioCodecParameters=n.AudioCodec=void 0;var r=A(e("@babel/runtime/helpers/createClass")),i=A(e("@babel/runtime/helpers/classCallCheck"));n.AudioCodec={PCMU:"pcmu",PCMA:"pcma",OPUS:"opus",G722:"g722",ISAC:"iSAC",ILBC:"iLBC",AAC:"aac",AC3:"ac3",NELLYMOSER:"nellymoser"};var o=(0,r.default)((function e(t,n,A){(0,i.default)(this,e),this.name=t,this.channelCount=n,this.clockRate=A}));n.AudioCodecParameters=o;var s=(0,r.default)((function e(t,n,A){(0,i.default)(this,e),this.codec=t,this.minBitrate=A,this.maxBitrate=n,this.startBitrate=startBitrate}));n.AudioEncodingParameters=s,n.VideoCodec={VP8:"vp8",VP9:"vp9",H264:"h264",H265:"h265"};var a=(0,r.default)((function e(t,n){(0,i.default)(this,e),this.name=t,this.profile=n}));n.VideoCodecParameters=a;var c=(0,r.default)((function e(t,n,A,r){(0,i.default)(this,e),this.codec=t,this.minBitrate=A,this.maxBitrate=n,this.startBitrate=r}));n.VideoEncodingParameters=c},{"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/interopRequireDefault":7}],18:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.MuteEvent=n.MessageEvent=n.IRtcEvent=n.EventDispatcher=n.ErrorEvent=void 0;var r=A(e("@babel/runtime/helpers/inherits")),i=A(e("@babel/runtime/helpers/possibleConstructorReturn")),o=A(e("@babel/runtime/helpers/getPrototypeOf")),s=A(e("@babel/runtime/helpers/createClass")),a=A(e("@babel/runtime/helpers/classCallCheck"));function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,A=(0,o.default)(e);if(t){var r=(0,o.default)(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return(0,i.default)(this,n)}}n.EventDispatcher=function(){var e={dispatcher:{}};e.dispatcher.eventListeners={},this.addEventListener=function(t,n){void 0===e.dispatcher.eventListeners[t]&&(e.dispatcher.eventListeners[t]=[]),e.dispatcher.eventListeners[t].push(n)},this.removeEventListener=function(t,n){if(e.dispatcher.eventListeners[t]){var A=e.dispatcher.eventListeners[t].indexOf(n);-1!==A&&e.dispatcher.eventListeners[t].splice(A,1)}},this.clearEventListener=function(t){e.dispatcher.eventListeners[t]=[]},this.dispatchEvent=function(t){e.dispatcher.eventListeners[t.type]&&e.dispatcher.eventListeners[t.type].map((function(e){e(t)}))}};var u=(0,s.default)((function e(t){(0,a.default)(this,e),this.type=t}));n.IRtcEvent=u;var l=function(e){(0,r.default)(n,e);var t=c(n);function n(e,A){var r;return(0,a.default)(this,n),(r=t.call(this,e)).origin=A.origin,r.message=A.message,r.to=A.to,r}return(0,s.default)(n)}(u);n.MessageEvent=l;var f=function(e){(0,r.default)(n,e);var t=c(n);function n(e,A){var r;return(0,a.default)(this,n),(r=t.call(this,e)).error=A.error,r}return(0,s.default)(n)}(u);n.ErrorEvent=f;var h=function(e){(0,r.default)(n,e);var t=c(n);function n(e,A){var r;return(0,a.default)(this,n),(r=t.call(this,e)).kind=A.kind,r}return(0,s.default)(n)}(u);n.MuteEvent=h},{"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/getPrototypeOf":5,"@babel/runtime/helpers/inherits":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/possibleConstructorReturn":10}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var A=e("./mediastream-factory.js");Object.keys(A).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===A[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return A[e]}}))}));var r=e("./stream.js");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}));var i=e("./mediaformat.js");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===i[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=e("./recorder.js");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))}))},{"./mediaformat.js":21,"./mediastream-factory.js":22,"./recorder.js":24,"./stream.js":26}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var A=function(){var e=function(){},t={TRACE:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4,NONE:5},n=console||window.console;t.log=n.log.bind(n);var A=function(e){return"function"==typeof n[e]?n[e].bind(n):n.log.bind(n)},r=function(n){t.trace=n<=0?A("trace"):e,t.debug=n<=1?A("log"):e,t.info=n<=2?A("info"):e,t.warning=n<=3?A("warn"):e,t.error=n<=4?A("error"):e};return r(1),t.setLogLevel=r,t}();n.default=A},{}],21:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.VideoSourceInfo=n.TrackKind=n.ScreenType=n.Resolution=n.AudioSourceInfo=void 0;var r=A(e("@babel/runtime/helpers/createClass")),i=A(e("@babel/runtime/helpers/classCallCheck"));n.AudioSourceInfo={MIC:"mic",SCREENCAST:"screen-cast",FILE:"raw-file",MIXED:"mixed"},n.VideoSourceInfo={CAMERA:"camera",SCREENCAST:"screen-cast",FILE:"file",MIXED:"mixed"},n.TrackKind={AUDIO:"audio",VIDEO:"video",AUDIO_AND_VIDEO:"av"};var o=(0,r.default)((function e(t,n){(0,i.default)(this,e),this.width=t,this.height=n}));n.Resolution=o,n.ScreenType={SCREEN:"screen",WINDOW:"window",TAB:"tab"}},{"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/interopRequireDefault":7}],22:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof");Object.defineProperty(n,"__esModule",{value:!0}),n.VideoTrackConstraints=n.StreamConstraints=n.MediaStreamFactory=n.AudioTrackConstraints=void 0;var i=A(e("@babel/runtime/helpers/typeof")),o=A(e("@babel/runtime/helpers/createClass")),s=A(e("@babel/runtime/helpers/classCallCheck")),a=f(e("./utils.js")),c=A(e("./logger.js")),u=f(e("./mediaformat.js"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var A={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(A,o,s):A[o]=e[o]}return A.default=e,n&&n.set(e,A),A}var h=(0,o.default)((function e(t){if((0,s.default)(this,e),t!==u.AudioSourceInfo.MIC&&t!==u.AudioSourceInfo.SCREENCAST&&t!==u.AudioSourceInfo.FILE&&t!==u.AudioSourceInfo.MIXED)throw new TypeError("Invalid source.");this.source=t,this.deviceId=void 0,this.file=void 0,this.loop=void 0}));n.AudioTrackConstraints=h;var d=(0,o.default)((function e(t){if((0,s.default)(this,e),t!==u.VideoSourceInfo.CAMERA&&t!==u.VideoSourceInfo.SCREENCAST&&t!==u.VideoSourceInfo.FILE&&t!==u.VideoSourceInfo.MIXED)throw new TypeError("Invalid source.");this.source=t,this.deviceId=void 0,this.resolution=void 0,this.frameRate=void 0,this.allowScreenTypes=void 0}));n.VideoTrackConstraints=d;var p=(0,o.default)((function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,s.default)(this,e),this.audio=t,this.video=n}));function g(e){return"object"===(0,i.default)(e.video)&&e.video.source===u.VideoSourceInfo.SCREENCAST}n.StreamConstraints=p;var v=function(){function e(){(0,s.default)(this,e)}return(0,o.default)(e,null,[{key:"createMediaStream",value:function(e){if("object"!==(0,i.default)(e)||!e.audio&&!e.video)return Promise.reject(new TypeError("Invalid constrains"));if(!g(e)&&"object"===(0,i.default)(e.audio)&&e.audio.source===u.AudioSourceInfo.SCREENCAST)return Promise.reject(new TypeError("Cannot share screen without video."));if(g(e)&&a.isChrome()&&(!a.sysInfo().runtime.version||a.sysInfo().runtime.version<"72")&&(c.default.warning("Screen sharing can not support Chrome version prior to 72,need Extension while Chrome version is below 72"),c.default.info(a.sysInfo().runtime.version)),g(e)&&a.isFirefox()&&(!a.sysInfo().runtime.version||a.sysInfo().runtime.version<66))return Promise.reject(new TypeError("Screen sharing can not support Firefox version prior to 66"));if(g(e)&&a.isSafari()&&(!a.sysInfo().runtime.version||a.sysInfo().runtime.version<13))return Promise.reject(new TypeError("Screen sharing can not support Safari version prior to 13"));if(g(e)&&"object"===(0,i.default)(e.audio)&&e.audio.source!==u.AudioSourceInfo.SCREENCAST)return Promise.reject(new TypeError("Cannot capture video from screen cast while capture audio from other source."));if(!e.audio&&!e.video)return Promise.reject(new TypeError("At least one of audio and video must be requested."));var t=Object.create({});if("object"===(0,i.default)(e.audio)&&e.audio.source===u.AudioSourceInfo.MIC?(t.audio=Object.create({}),a.isEdge()?t.audio.deviceId=e.audio.deviceId:t.audio.deviceId={exact:e.audio.deviceId}):e.audio.source===u.AudioSourceInfo.SCREENCAST?t.audio=!0:e.audio.source===u.AudioSourceInfo.FILE?t.audio=!1:t.audio=e.audio,"object"===(0,i.default)(e.video)?(t.video=Object.create({}),"number"==typeof e.video.frameRate&&(t.video.frameRate=e.video.frameRate),e.video.resolution&&e.video.resolution.width&&e.video.resolution.height&&(e.video.source===u.VideoSourceInfo.SCREENCAST?(t.video.width=e.video.resolution.width,t.video.height=e.video.resolution.height):(t.video.width=Object.create({}),t.video.width.exact=e.video.resolution.width,t.video.height=Object.create({}),t.video.height.exact=e.video.resolution.height)),"string"==typeof e.video.deviceId&&(t.video.deviceId={exact:e.video.deviceId}),a.isFirefox()&&e.video.source===u.VideoSourceInfo.SCREENCAST&&(t.video.mediaSource="screen")):t.video=e.video,g(e)){if(c.default.info("screen share mediaConstraints",e),a.isChrome()&&"function"!=typeof navigator.mediaDevices.getDisplayMedia){if(!e.extensionId)return Promise.reject(new TypeError("Extension ID must be specified for screen sharing on Chrome."));var n=["screen","window","tab"];return e.audio&&n.push("audio"),new Promise((function(t,A){chrome.runtime.sendMessage(e.extensionId,{getStream:n},(function(n){if(void 0===n)return A(new Error(chrome.runtime.lastError.message));e.audio&&"object"!==(0,i.default)(n.options)&&c.default.warning("Desktop sharing with audio requires the latest Chrome extension. Your audio constraints will be ignored.");var r=Object.create({});e.audio&&"object"===(0,i.default)(n.options)&&(n.options.canRequestAudioTrack?r.audio={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:n.streamId}}:c.default.warning("Sharing screen with audio was not selected by user.")),r.video=Object.create({}),r.video.mandatory=Object.create({}),r.video.mandatory.chromeMediaSource="desktop",r.video.mandatory.chromeMediaSourceId=n.streamId,e.video.resolution&&(r.video.mandatory.maxHeight=r.video.mandatory.minHeight=e.video.resolution.height,r.video.mandatory.maxWidth=r.video.mandatory.minWidth=e.video.resolution.width),e.video.frameRate&&(r.video.mandatory.minFrameRate=e.video.frameRate,r.video.mandatory.maxFrameRate=e.video.frameRate),t(navigator.mediaDevices.getUserMedia(r))}))}))}return"function"==typeof navigator.mediaDevices.getDisplayMedia?e.video&&e.video.allowScreenTypes&&Array.isArray(e.video.allowScreenTypes)?new Promise((function(n,A){navigator.mediaDevices.getDisplayMedia(t).then((function(t){if(e.video.allowScreenTypes.includes(u.ScreenType.SCREEN)&&e.video.allowScreenTypes.includes(u.ScreenType.WINDOW)&&e.video.allowScreenTypes.includes(u.ScreenType.TAB))return n(t);if(t.getVideoTracks().length>0){var r=t.getVideoTracks()[0].label;return a.isChrome()||a.isEdge()?r.match(/^screen/g)&&e.video.allowScreenTypes.includes(u.ScreenType.SCREEN)||r.match(/^window/g)&&e.video.allowScreenTypes.includes(u.ScreenType.WINDOW)||r.match(/^web\-contents\-media\-stream/g)&&e.video.allowScreenTypes.includes(u.ScreenType.TAB)?n(t):(t.getTracks().forEach((function(e){e.stop()})),A("You do not have permission to create this type of media stream.")):a.isFirefox()?r.match(/^Primary Monitor/g)&&e.video.allowScreenTypes.includes(u.ScreenType.SCREEN)||!r.match(/^Primary Monitor/g)&&!r.match(/— Mozilla Firefox$/g)&&e.video.allowScreenTypes.includes(u.ScreenType.WINDOW)||r.match(/— Mozilla Firefox$/g)&&e.video.allowScreenTypes.includes(u.ScreenType.TAB)?n(t):(t.getTracks().forEach((function(e){e.stop()})),A("You do not have permission to create this type of media stream.")):a.isSafari()?r.match(/^Screen/g)&&e.video.allowScreenTypes.includes(u.ScreenType.SCREEN)?n(t):(t.getTracks().forEach((function(e){e.stop()})),A("You do not have permission to create this type of media stream.")):(c.default.warning("unsupported allowScreenTypes on this browser."),n(t))}return n(t)})).catch((function(e){return A(e)}))})):navigator.mediaDevices.getDisplayMedia(t):navigator.mediaDevices.getUserMedia(t)}var A=navigator.mediaDevices.getUserMedia(t);if(e.audio.source===u.AudioSourceInfo.FILE){c.default.debug("createMediaStream FILE");var r=window.AudioContext||window.webkitAudioContext||!1;if(r){var o=new r,s=o.createMediaStreamDestination(),l=o.createBufferSource(),f=s.stream,h=new FileReader;h.onload=function(t){o.decodeAudioData(t.target.result,(function(t){var n=t;l.buffer=n,l.connect(s),l.loop=e.audio.loop,l.start(0)}))},h.readAsArrayBuffer(e.audio.file),A.then((function(e){e.addTrack(f.getAudioTracks()[0])}))}}return A}}]),e}();n.MediaStreamFactory=v},{"./logger.js":20,"./mediaformat.js":21,"./utils.js":27,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/typeof":12}],23:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof");Object.defineProperty(n,"__esModule",{value:!0}),n.VideoPublicationSettings=n.PublishOptions=n.PublicationSettings=n.Publication=n.AudioPublicationSettings=void 0;var i=A(e("@babel/runtime/helpers/assertThisInitialized")),o=A(e("@babel/runtime/helpers/inherits")),s=A(e("@babel/runtime/helpers/possibleConstructorReturn")),a=A(e("@babel/runtime/helpers/getPrototypeOf")),c=A(e("@babel/runtime/helpers/createClass")),u=A(e("@babel/runtime/helpers/classCallCheck")),l=d(e("./utils.js")),f=(d(e("./mediaformat.js")),e("../base/event.js"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var A={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(A,o,s):A[o]=e[o]}return A.default=e,n&&n.set(e,A),A}var p=(0,c.default)((function e(t){(0,u.default)(this,e),this.codec=t}));n.AudioPublicationSettings=p;var g=(0,c.default)((function e(t,n,A,r,i){(0,u.default)(this,e),this.codec=t,this.resolution=n,this.frameRate=A,this.bitrate=r,this.keyFrameInterval=i}));n.VideoPublicationSettings=g;var v=(0,c.default)((function e(t,n){(0,u.default)(this,e),this.audio=t,this.video=n}));n.PublicationSettings=v;var w=function(e){(0,o.default)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,A=(0,a.default)(e);if(t){var r=(0,a.default)(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return(0,s.default)(this,n)}}(n);function n(e,A,r,o,s,a,c,f){var h;return(0,u.default)(this,n),h=t.call(this),Object.defineProperty((0,i.default)(h),"id",{configurable:!1,writable:!1,value:e||l.createUuid()}),h.stop=A,h.getStats=r,h.getConnectionStats=o,h.getPCSenders=s,h.mute=a,h.unmute=c,h.updateMedia=f,h}return(0,c.default)(n)}(f.EventDispatcher);n.Publication=w;var m=(0,c.default)((function e(t,n){(0,u.default)(this,e),this.audio=t,this.video=n}));n.PublishOptions=m},{"../base/event.js":18,"./mediaformat.js":21,"./utils.js":27,"@babel/runtime/helpers/assertThisInitialized":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/getPrototypeOf":5,"@babel/runtime/helpers/inherits":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/possibleConstructorReturn":10,"@babel/runtime/helpers/typeof":12}],24:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof");Object.defineProperty(n,"__esModule",{value:!0}),n.Recorder=n.RecordOptions=n.LocalRecorder=void 0;var i=A(e("@babel/runtime/helpers/assertThisInitialized")),o=A(e("@babel/runtime/helpers/inherits")),s=A(e("@babel/runtime/helpers/possibleConstructorReturn")),a=A(e("@babel/runtime/helpers/getPrototypeOf")),c=A(e("@babel/runtime/helpers/createClass")),u=A(e("@babel/runtime/helpers/classCallCheck")),l=A(e("./logger.js")),f=g(e("../base/event.js")),h=g(e("../base/stream.js")),d=e("./event.js");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var A={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(A,o,s):A[o]=e[o]}return A.default=e,n&&n.set(e,A),A}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,A=(0,a.default)(e);if(t){var r=(0,a.default)(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return(0,s.default)(this,n)}}var w=(0,c.default)((function e(t,n,A){(0,u.default)(this,e),this.mimeType=t,this.audioBitsPerSecond=n,this.videoBitsPerSecond=A}));n.RecordOptions=w;var m=function(e){(0,o.default)(n,e);var t=v(n);function n(e,A){var r;if((0,u.default)(this,n),r=t.call(this),!(e&&e instanceof h.Stream))throw new TypeError("Invalid stream.");if(!(A&&A instanceof w))throw new TypeError("Invalid options.");return Object.defineProperty((0,i.default)(r),"stream",{configurable:!1,writable:!0,value:e}),Object.defineProperty((0,i.default)(r),"options",{configurable:!1,writable:!1,value:A}),r.start=function(){r.blobs=[],void 0===r.mediaRecorder&&(r.mediaRecorder=new MediaRecorder(r.stream.mediaStream,r.options),r.mediaRecorder.ondataavailable=function(e){e.data&&e.data.size>0&&(r.blobs.push(e.data),l.default.trace("onstart recording..."))},r.mediaRecorder.onstart=function(){l.default.debug("onstart recording...");var e=new f.IRtcEvent("onstart");r.dispatchEvent(e)},r.mediaRecorder.onstop=function(e){l.default.debug("onstop recording:",e);var t=new f.IRtcEvent("onstop");r.dispatchEvent(t)},r.mediaRecorder.onpause=function(){l.default.debug("onpause recording...");var e=new f.IRtcEvent("onpause");r.dispatchEvent(e)},r.mediaRecorder.onresume=function(){l.default.debug("onresume recording...");var e=new f.IRtcEvent("onresume");r.dispatchEvent(e)},r.mediaRecorder.onerror=function(e){l.default.debug("onerror recording:",e);var t=new f.IRtcEvent("onerror");r.dispatchEvent(t)}),"recording"!==r.mediaRecorder.state&&"paused"!==r.mediaRecorder.state&&r.mediaRecorder.start()},r.pause=function(){r.mediaRecorder&&r.mediaRecorder.pause()},r.resume=function(){r.mediaRecorder&&"paused"===r.mediaRecorder.state&&r.mediaRecorder.resume()},r.stop=function(){r.mediaRecorder&&"inactive"!==r.mediaRecorder.state&&r.mediaRecorder.stop()},r.restart=function(){r.resume(),r.stop(),r.start()},r.download=function(e){var t=new Blob(r.blobs,{type:r.options.mimeType}),n=document.createElement("a");n.style.display="none";var A=URL.createObjectURL(t);n.href=A,n.download=Date.now()+e+".webm",document.body.appendChild(n),n.click(),setTimeout((function(){URL.revokeObjectURL(A),document.body.removeChild(n)}),100)},r}return(0,c.default)(n,null,[{key:"isTypeSupported",value:function(e){return MediaRecorder.isTypeSupported(e)}},{key:"getSupportedType",value:function(){return["video/webm","audio/webm","video/webm;codecs=vp8","video/webm;codecs=vp9","video/webm;codecs=daala","video/webm;codecs=h264","video/webm;codecs=avc1","audio/webm;codecs=opus","video/mpeg","video/webm;codecs=vp8,opus","video/webm;codecs=vp9,opus","video/webm;codecs=vp8,vp9,opus","video/webm;codecs=h264,opus","video/webm;codecs=h264,vp9,opus","video/x-matroska;codecs=avc1"].filter((function(e){return MediaRecorder.isTypeSupported(e)}))}}]),n}(d.EventDispatcher);n.LocalRecorder=m;var B=function(e){(0,o.default)(n,e);var t=v(n);function n(e,A,r){if((0,u.default)(this,n),!e&&!A)throw new TypeError("Invalid stream.");if(!(r&&r instanceof w))throw new TypeError("Invalid options.");var i=window.AudioContext||window.webkitAudioContext||!1;if(!i)throw new TypeError("Invalid AudioContext.");var o=new i,s=o.createMediaStreamDestination(),a=new MediaStream,c=s.stream;A.forEach((function(e){o.createMediaStreamSource(e.mediaStream).connect(s)})),a.addTrack(c.getAudioTracks()[0]),a.addTrack(e.mediaStream.getVideoTracks()[0]);var l=new LocalStream(a,new StreamSourceInfo("mic","camera"));return t.call(this,l,r)}return(0,c.default)(n)}(m);n.Recorder=B},{"../base/event.js":18,"../base/stream.js":26,"./event.js":18,"./logger.js":20,"@babel/runtime/helpers/assertThisInitialized":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/getPrototypeOf":5,"@babel/runtime/helpers/inherits":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/possibleConstructorReturn":10,"@babel/runtime/helpers/typeof":12}],25:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault");function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var A=0,r=function(){};return{s:r,n:function(){return A>=e.length?{done:!0}:{done:!1,value:e[A++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,A=new Array(t);n<t;n++)A[n]=e[n];return A}function o(e,t,n,A){var r=e.split("\r\n");r.length<=1&&(r=e.split("\n"));var i=function(e,t){var n=function(e,t){var n=c(e,"a=rtpmap",t);return n?l(e[n]):null}(e,t);return n?c(e,"a=fmtp:"+n.toString()):null}(r,t),o={};if(null===i){var u=c(r,"a=rtpmap",t);if(null===u)return e;var f=l(r[u]);o.pt=f.toString(),o.params={},o.params[n]=A,r.splice(u+1,0,a(o))}else(o=s(r[i])).params[n]=A,r[i]=a(o);return r.join("\r\n")}function s(e){var t={},n=e.indexOf(" "),A=e.substring(n+1).split(";"),r=new RegExp("a=fmtp:(\\d+)"),i=e.match(r);if(!i||2!==i.length)return null;t.pt=i[1];for(var o={},s=0;s<A.length;++s){var a=A[s].split("=");2===a.length&&(o[a[0]]=a[1])}return t.params=o,t}function a(e){if(!e.hasOwnProperty("pt")||!e.hasOwnProperty("params"))return null;var t=e.pt,n=e.params,A=[],r=0;for(var i in n)A[r]=i+"="+n[i],++r;return 0===r?null:"a=fmtp:"+t.toString()+" "+A.join(";")}function c(e,t,n){return u(e,0,-1,t,n)}function u(e,t,n,A,r){for(var i=-1!==n?n:e.length,o=t;o<i;++o)if(0===e[o].indexOf(A)&&(!r||-1!==e[o].toLowerCase().indexOf(r.toLowerCase())))return o;return null}function l(e){var t=new RegExp("a=rtpmap:(\\d+) [a-zA-Z0-9-]+\\/\\d+"),n=e.match(t);return n&&2===n.length?n[1]:null}Object.defineProperty(n,"__esModule",{value:!0}),n.enableAudioNack=function(e){var t=e.split("\r\n"),n=c(t,"m=","audio");if(null==n)return e;var A=c(t,"m=","video"),r=A;(null==A||A<n)&&(r=t.length);for(var i=n;i<r;++i)if(0===t[i].indexOf("a=rtpmap")){var o=l(t[i]);null==c(t,"a=rtcp-fb:"+o+" ","nack")&&(t.splice(i+1,0,"a=rtcp-fb:"+o+" nack"),r++,i++)}return t.join("\r\n")},n.reorderCodecs=function(e,t,n){if(!n||0===n.length)return e;n="audio"===t?n.concat(f):n.concat(h);var A=e.split("\r\n"),i=c(A,"m=",t);if(null===i)return e;var o=A[i].split(" ");o.splice(0,3);var a,p=[],g=r(n);try{for(g.s();!(a=g.n()).done;)for(var v=a.value,w=0;w<A.length;w++){var m=u(A,w,-1,"a=rtpmap",v);if(null!==m){var B=l(A[m]);B&&(p.push(B),w=m)}}}catch(e){g.e(e)}finally{g.f()}p=function(e,t){var n,A=r(t);try{for(A.s();!(n=A.n()).done;){var i=c(e,"a=fmtp","apt="+n.value);if(null!==i){var o=s(e[i]);t.push(o.pt)}}}catch(e){A.e(e)}finally{A.f()}return t}(A,p),A[i]=function(e,t){var n=e.split(" ").slice(0,3);return(n=n.concat(t)).join(" ")}(A[i],p);var y,b=r(o);try{for(b.s();!(y=b.n()).done;){var C=y.value;-1===p.indexOf(C)&&(A=d(A,C))}}catch(e){b.e(e)}finally{b.f()}return A.join("\r\n")},n.setMaxBitrate=function(e,t){var n,A=r(t);try{for(A.s();!(n=A.n()).done;){var i=n.value;i.maxBitrate&&(e=o(e,i.codec.name,"x-google-max-bitrate",i.maxBitrate.toString()))}}catch(e){A.e(e)}finally{A.f()}return e},n.setMinBitrate=function(e,t){var n,A=r(t);try{for(A.s();!(n=A.n()).done;){var i=n.value;i.minBitrate&&(e=o(e,i.codec.name,"x-google-min-bitrate",i.minBitrate.toString()))}}catch(e){A.e(e)}finally{A.f()}return e},n.setStartBitrate=function(e,t){var n,A=r(t);try{for(A.s();!(n=A.n()).done;){var i=n.value;i.startBitrate&&(e=o(e,i.codec.name,"x-google-start-bitrate",i.startBitrate.toString()))}}catch(e){A.e(e)}finally{A.f()}return e},A(e("./logger.js"));var f=["CN","telephone-event"],h=["red","ulpfec"];function d(e,t){for(var n=new RegExp("a=(rtpmap|rtcp-fb|fmtp):"+t+"\\s"),A=e.length-1;A>0;A--)e[A].match(n)&&e.splice(A,1);return e}},{"./logger.js":20,"@babel/runtime/helpers/interopRequireDefault":7}],26:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof");Object.defineProperty(n,"__esModule",{value:!0}),n.StreamUpdatedEvent=n.StreamSourceInfo=n.StreamEvent=n.Stream=n.SpeakingEvent=n.RemoteStream=n.LocalStream=n.AsrEvent=void 0;var i=A(e("@babel/runtime/helpers/assertThisInitialized")),o=A(e("@babel/runtime/helpers/inherits")),s=A(e("@babel/runtime/helpers/possibleConstructorReturn")),a=A(e("@babel/runtime/helpers/getPrototypeOf")),c=A(e("@babel/runtime/helpers/typeof")),u=A(e("@babel/runtime/helpers/createClass")),l=A(e("@babel/runtime/helpers/classCallCheck")),f=A(e("./logger.js")),h=e("./event.js"),d=v(e("./utils.js")),p=v(e("../base/event.js"));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var A={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(A,o,s):A[o]=e[o]}return A.default=e,n&&n.set(e,A),A}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,A=(0,a.default)(e);if(t){var r=(0,a.default)(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return(0,s.default)(this,n)}}function m(e,t){return t.some((function(t){return t===e}))}var B=(0,u.default)((function e(t,n){if((0,l.default)(this,e),"string"==typeof t||void 0===t){if(!m(t,[void 0,"mic","screen-cast","raw-file","mixed"]))throw new TypeError("Incorrect value for audioSourceInfo.source");this.audio={source:t,status:!!t&&"active"}}else{if("object"!==(0,c.default)(t))throw new TypeError("Incorrect value for audioSourceInfo.source");if(!m(t.source,[void 0,"mic","screen-cast","raw-file","mixed"]))throw new TypeError("Incorrect value for audioSourceInfo.source");this.audio={source:t.source,status:t.status}}if("string"==typeof n||void 0===n){if(!m(n,[void 0,"camera","screen-cast","file","encoded-file","raw-file","mixed"]))throw new TypeError("Incorrect value for videoSourceInfo.source");this.video={source:n,status:!!n&&"active"}}else{if("object"!==(0,c.default)(n))throw new TypeError("Incorrect value for videoSourceInfo.source");this.video={source:n.source,status:n.status}}}));n.StreamSourceInfo=B;var y=function(e){(0,o.default)(n,e);var t=w(n);function n(e,A,r){var o;if((0,l.default)(this,n),o=t.call(this),e&&!(e instanceof MediaStream)||"object"!==(0,c.default)(A))throw new TypeError("Invalid stream or sourceInfo.");if(e&&(e.getAudioTracks().length>0&&!A.audio||e.getVideoTracks().length>0&&!A.video))throw new TypeError("Missing audio source info or video source info.");return Object.defineProperty((0,i.default)(o),"mediaStream",{configurable:!1,writable:!0,value:e}),Object.defineProperty((0,i.default)(o),"media",{configurable:!1,writable:!1,value:A}),Object.defineProperty((0,i.default)(o),"attributes",{configurable:!0,writable:!1,value:r}),o.disableVideo=function(){this.mediaStream.getVideoTracks().forEach((function(e){e.enabled=!1}))},o.enableVideo=function(){this.mediaStream.getVideoTracks().forEach((function(e){e.enabled=!0}))},o.disableAudio=function(){this.mediaStream.getAudioTracks().forEach((function(e){e.enabled=!1}))},o.enableAudio=function(){this.mediaStream.getAudioTracks().forEach((function(e){e.enabled=!0}))},o.close=function(){this.canvasInterval&&(clearInterval(this.canvasInterval),delete this.canvasInterval,delete this.dumyStream),this.mediaStream.getTracks().forEach((function(e){e.stop()}))},o}return(0,u.default)(n)}(h.EventDispatcher);n.Stream=y;var b=function(e){(0,o.default)(n,e);var t=w(n);function n(e,A,r,o){var s,a,c;if((0,l.default)(this,n),!(e instanceof MediaStream))throw new TypeError("Invalid stream.");if(o){var u=document.createElement("canvas");u.width=80,u.height=60;var h=u.getContext("2d");a=setInterval((function(){h.fillStyle="black",h.fillRect(0,0,u.width,u.height)}),1e3),c=u.captureStream(1)||u.mozCaptureStream(1);var g=window.AudioContext||window.webkitAudioContext||!1;if(g){var v=(new g).createMediaStreamDestination().stream;c.addTrack(v.getAudioTracks()[0])}else f.default.WARNING("Sorry, but the Web Audio API is not supported by your browser. Please, consider upgrading to the latest version or downloading Google Chrome or Mozilla Firefox");0==e.getAudioTracks().length&&(A.audio.source="mic",e.addTrack(c.getAudioTracks()[0])),0==e.getVideoTracks().length&&(A.video.source="camera",e.addTrack(c.getVideoTracks()[0]))}return s=t.call(this,e,A,r),o&&(s.canvasInterval=a,s.dumyStream=c),e.oninactive=function(){var e=new p.IRtcEvent("ended");s.dispatchEvent(e)},Object.defineProperty((0,i.default)(s),"id",{configurable:!1,writable:!1,value:d.createUuid()}),Object.defineProperty((0,i.default)(s),"upgradeable",{configurable:!1,writable:!1,value:!!o}),s}return(0,u.default)(n)}(y);n.LocalStream=b;var C=function(e){(0,o.default)(n,e);var t=w(n);function n(e,A,r,o,s){var a;return(0,l.default)(this,n),a=t.call(this,r,o,s),Object.defineProperty((0,i.default)(a),"id",{configurable:!1,writable:!1,value:e||d.createUuid()}),Object.defineProperty((0,i.default)(a),"origin",{configurable:!1,writable:!1,value:A}),a.settings=void 0,a.capabilities=void 0,a}return(0,u.default)(n)}(y);n.RemoteStream=C;var k=function(e){(0,o.default)(n,e);var t=w(n);function n(e,A){var r;return(0,l.default)(this,n),(r=t.call(this,e)).stream=A.stream,r}return(0,u.default)(n)}(h.IRtcEvent);n.StreamEvent=k;var E=function(e){(0,o.default)(n,e);var t=w(n);function n(e){var A;return(0,l.default)(this,n),(A=t.call(this,"updated")).info=e.info,A}return(0,u.default)(n)}(h.IRtcEvent);n.StreamUpdatedEvent=E;var S=function(e){(0,o.default)(n,e);var t=w(n);function n(e){var A;return(0,l.default)(this,n),(A=t.call(this,"asr")).info=e.info,A}return(0,u.default)(n)}(h.IRtcEvent);n.AsrEvent=S;var Q=function(e){(0,o.default)(n,e);var t=w(n);function n(e){var A;return(0,l.default)(this,n),(A=t.call(this,"speaking")).info=e.info,A}return(0,u.default)(n)}(h.IRtcEvent);n.SpeakingEvent=Q},{"../base/event.js":18,"./event.js":18,"./logger.js":20,"./utils.js":27,"@babel/runtime/helpers/assertThisInitialized":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/getPrototypeOf":5,"@babel/runtime/helpers/inherits":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/possibleConstructorReturn":10,"@babel/runtime/helpers/typeof":12}],27:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.createUuid=function(){return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},n.isArray=function(e){return"object"==(0,r.default)(e)&&e.constructor==Array},n.isChrome=function(){return null!==window.navigator.userAgent.match("Chrome")},n.isEdge=function(){return null!==window.navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)},n.isFirefox=function(){return null!==window.navigator.userAgent.match("Firefox")},n.isSafari=o,n.isString=function(e){return"string"==typeof e&&e.constructor==String},n.sysInfo=function(){var e=Object.create({});e.sdk={version:i,type:"JavaScript"};var t=navigator.userAgent,n=/Chrome\/([0-9\.]+)/.exec(t);if(n)e.runtime={name:"Chrome",version:n[1]};else if(n=/Firefox\/([0-9\.]+)/.exec(t))e.runtime={name:"Firefox",version:n[1]};else if(n=/Edge\/([0-9\.]+)/.exec(t))e.runtime={name:"Edge",version:n[1]};else if(o())n=/Version\/([0-9\.]+) Safari/.exec(t),e.runtime={name:"Safari"},e.runtime.version=n?n[1]:"Unknown";else{if("object"===("undefined"==typeof wx?"undefined":(0,r.default)(wx))&&wx.openLocation&&wx.getSystemInfoSync){e.runtime={name:"weapp",version:wx.getSystemInfoSync().SDKVersion};var A=/(.*?)[ \t]*?([0-9\.]+)/.exec(wx.getSystemInfoSync().system);return e.os={name:A[1],version:A[2]},e.capabilities={continualIceGathering:!1,unifiedPlan:!1,streamRemovable:!1},e}e.runtime={name:"Unknown",version:"Unknown"}}return(n=/Windows NT ([0-9\.]+)/.exec(t))?e.os={name:"Windows NT",version:n[1]}:(n=/Intel Mac OS X ([0-9_\.]+)/.exec(t))?e.os={name:"Mac OS X",version:n[1].replace(/_/g,".")}:(n=/iPhone OS ([0-9_\.]+)/.exec(t))?e.os={name:"iPhone OS",version:n[1].replace(/_/g,".")}:(n=/X11; Linux/.exec(t))?e.os={name:"Linux",version:"Unknown"}:(n=/Android( ([0-9\.]+))?/.exec(t))?e.os={name:"Android",version:n[1]||"Unknown"}:(n=/CrOS/.exec(t))?e.os={name:"Chrome OS",version:"Unknown"}:e.os={name:"Unknown",version:"Unknown"},e.capabilities={continualIceGathering:!1,unifiedPlan:!0,streamRemovable:"Firefox"!==e.runtime.name},e};var r=A(e("@babel/runtime/helpers/typeof")),i="4.3.0";function o(){return/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)}},{"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/typeof":12}],28:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof");Object.defineProperty(n,"__esModule",{value:!0}),n.ConferencePeerConnectionChannel=void 0;var i=A(e("@babel/runtime/helpers/typeof")),o=A(e("@babel/runtime/helpers/classCallCheck")),s=A(e("@babel/runtime/helpers/createClass")),a=A(e("@babel/runtime/helpers/inherits")),c=A(e("@babel/runtime/helpers/possibleConstructorReturn")),u=A(e("@babel/runtime/helpers/getPrototypeOf")),l=A(e("../base/logger.js")),f=e("../base/event.js"),h=e("../base/mediaformat.js"),d=(e("../base/mediastream-factory"),e("../base/publication.js")),p=e("./subscription.js"),g=e("./error.js"),v=B(e("../base/utils.js")),w=B(e("../base/sdputils.js"));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var A={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(A,o,s):A[o]=e[o]}return A.default=e,n&&n.set(e,A),A}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var A=0,r=function(){};return{s:r,n:function(){return A>=e.length?{done:!0}:{done:!1,value:e[A++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,A=new Array(t);n<t;n++)A[n]=e[n];return A}var C=function(e){(0,a.default)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,A=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return(0,c.default)(this,n)}}(n);function n(e,A){var r;return(0,o.default)(this,n),(r=t.call(this))._config=e,r._options=null,r._signaling=A,r._pc=null,r._internalId=null,r._pendingCandidates=[],r._subscribePromise=null,r._publishPromise=null,r._subscribedStream=null,r._publishedStream=null,r._publication=null,r._subscription=null,r._disconnectTimer=null,r._ended=!1,r._stopped=!1,r._iceRestartNeeded=!1,r._signaling.onreconnected=function(){},r}return(0,s.default)(n,[{key:"onMessage",value:function(e,t){switch(e){case"progress":"soac"===t.status?this._sdpHandler(t.data):"ready"===t.status?this._readyHandler():"error"===t.status&&this._errorHandler(t.data);break;case"stream":this._onStreamEvent(t);break;default:l.default.warning("Unknown notification from MCU.")}}},{key:"publish",value:function(e,t){var n=this;if(null!=t||(t={audio:!!e.mediaStream.getAudioTracks().length,video:!!e.mediaStream.getVideoTracks().length}),"object"!==(0,i.default)(t))return Promise.reject(new TypeError("Options should be an object."));void 0!==t.audio&&null!==t.audio||(t.audio=!!e.mediaStream.getAudioTracks().length),void 0!==t.video&&null!==t.video||(t.video=!!e.mediaStream.getVideoTracks().length);var A=!!t.audio,r=!!t.video;if(A&&0==e.mediaStream.getAudioTracks().length||r&&0==e.mediaStream.getVideoTracks().length)return Promise.reject(new g.ConferenceError("options.audio/video is inconsistent with tracks presented in the MediaStream."));if(!1===t.audio&&!1===t.video)return Promise.reject(new g.ConferenceError("Cannot publish a stream without audio and video."));if("object"===(0,i.default)(t.audio)&&!Array.isArray(t.audio))return Promise.reject(new TypeError("options.audio should be a boolean or an array."));if(this._isIrtcEncodingParameters(t.audio)){var o,s=y(t.audio);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(!a.codec||"string"!=typeof a.codec.name||0===a.codec.name.length||void 0!==a.maxBitrate&&"number"!=typeof a.maxBitrate||void 0!==a.minBitrate&&"number"!=typeof a.minBitrate||void 0!==a.startBitrate&&"number"!=typeof a.startBitrate)return Promise.reject(new TypeError("options.audio has incorrect parameters."))}}catch(e){s.e(e)}finally{s.f()}}if("object"===(0,i.default)(t.video)&&!Array.isArray(t.video))return Promise.reject(new TypeError("options.video should be a boolean or an array."));if(this._isIrtcEncodingParameters(t.video)){var c,u=y(t.video);try{for(u.s();!(c=u.n()).done;){var h=c.value;if(!h.codec||"string"!=typeof h.codec.name||0===h.codec.name.length||void 0!==h.maxBitrate&&"number"!=typeof h.maxBitrate||void 0!==h.minBitrate&&"number"!=typeof h.minBitrate||void 0!==h.startBitrate&&"number"!=typeof h.startBitrate||void 0!==h.codec.profile&&"string"!=typeof h.codec.profile)return Promise.reject(new TypeError("options.video has incorrect parameters."))}}catch(e){u.e(e)}finally{u.f()}}this._options=t;var d={};if(this._createPeerConnection(),e.mediaStream.getAudioTracks().length>0&&!1!==t.audio&&null!==t.audio){if(e.mediaStream.getAudioTracks().length>1&&l.default.warning("Publishing a stream with multiple audio tracks is not fully supported."),"boolean"!=typeof t.audio&&"object"!==(0,i.default)(t.audio))return Promise.reject(new g.ConferenceError("Type of audio options should be boolean or an object."));d.audio={},d.audio.source=e.media.audio.source,d.audio.status=e.media.audio.status;var p,v=y(e.mediaStream.getAudioTracks());try{for(v.s();!(p=v.n()).done;){var m=p.value;this._pc.addTrack(m,e.mediaStream)}}catch(e){v.e(e)}finally{v.f()}}else d.audio=!1;if(e.mediaStream.getVideoTracks().length>0&&!1!==t.video&&null!==t.video){e.mediaStream.getVideoTracks().length>1&&l.default.warning("Publishing a stream with multiple video tracks is not fully supported."),d.video={},d.video.source=e.media.video.source,d.video.status=e.media.video.status;var B=e.mediaStream.getVideoTracks()[0].getSettings();d.video.parameters={resolution:{width:B.width?B.width:0,height:B.height?B.height:0},framerate:B.frameRate?B.frameRate:0};var b,C=y(e.mediaStream.getVideoTracks());try{for(C.s();!(b=C.n()).done;){var k=b.value;this._pc.addTrack(k,e.mediaStream)}}catch(e){C.e(e)}finally{C.f()}}else d.video=!1;return this._publishedStream=e,this._signaling.sendSignalingMessage("publish",{media:d,attributes:e.attributes}).then((function(A){var r,i=new f.MessageEvent("id",{message:A.id,origin:n._remoteId});n.dispatchEvent(i),n._internalId=A.id,n._isAddTransceiverSupported()&&(d.audio&&e.mediaStream.getAudioTracks()>0&&n._pc.addTransceiver("audio",{direction:"sendonly"}),d.video&&e.mediaStream.getVideoTracks()>0&&n._pc.addTransceiver("video",{direction:"sendonly"})),n._pc.createOffer().then((function(e){return t&&(e.sdp=n._setRtpReceiverOptions(e.sdp,t)),e})).then((function(e){return e.sdp=w.enableAudioNack(e.sdp),r=e,n._pc.setLocalDescription(e)})).then((function(){n._signaling.sendSignalingMessage("soac",{id:n._internalId,signaling:r})})).catch((function(e){l.default.error("Failed to create offer or set SDP. Message: "+e.message),n._unpublish(),n._rejectPromise(e),n._fireEndedEventOnPublicationOrSubscription()}))})).catch((function(e){n._unpublish(),n._rejectPromise(e),n._fireEndedEventOnPublicationOrSubscription()})),this._callbackTimer=setTimeout((function(){n._unpublish(),n._rejectPromise(new g.ConferenceError("Publish timeout!")),n._fireEndedEventOnPublicationOrSubscription()}),15e3),new Promise((function(e,t){n._publishPromise={resolve:e,reject:t}}))}},{key:"subscribe",value:function(e,t){var n=this;if(null!=t||(t={audio:!!e.capabilities.audio,video:!!e.capabilities.video}),void 0!==e.mediaStream&&null!==e.mediaStream)return Promise.reject(new g.ConferenceError("The same remote stream has already been subscribed. Subcribe after it is unsubscribed."));if("object"!==(0,i.default)(t))return Promise.reject(new TypeError("Options should be an object."));if(void 0!==t.audio&&null!==t.audio||(t.audio=!!e.capabilities.audio),void 0!==t.video&&null!==t.video||(t.video=!!e.capabilities.video),void 0!==t.audio&&"object"!==(0,i.default)(t.audio)&&"boolean"!=typeof t.audio&&null!==t.audio||void 0!==t.video&&"object"!==(0,i.default)(t.video)&&"boolean"!=typeof t.video&&null!==t.video)return Promise.reject(new TypeError("Invalid options type."));if(t.audio&&!e.capabilities.audio||t.video&&!e.capabilities.video)return Promise.reject(new g.ConferenceError("options.audio/video cannot be true or an object if there is no audio/video track in remote stream."));if(!1===t.audio&&!1===t.video)return Promise.reject(new g.ConferenceError("Cannot subscribe a stream without audio and video."));this._options=t;var A={};if(t.audio){if("object"===(0,i.default)(t.audio)&&Array.isArray(t.audio.codecs)&&0===t.audio.codecs.length)return Promise.reject(new TypeError("Audio codec cannot be an empty array."));A.audio={},A.audio.from=e.id}else A.audio=!1;if(t.video){if("object"===(0,i.default)(t.video)&&Array.isArray(t.video.codecs)&&0===t.video.codecs.length)return Promise.reject(new TypeError("Video codec cannot be an empty array."));A.video={},A.video.from=e.id,(t.video.resolution||t.video.frameRate||t.video.bitrateMultiplier&&1!==t.video.bitrateMultiplier||t.video.keyFrameInterval)&&(A.video.parameters={resolution:t.video.resolution,framerate:t.video.frameRate,bitrate:t.video.bitrateMultiplier?"x"+t.video.bitrateMultiplier.toString():void 0,keyFrameInterval:t.video.keyFrameInterval})}else A.video=!1;return this._subscribedStream=e,this._signaling.sendSignalingMessage("subscribe",{media:A}).then((function(e){var r=new f.MessageEvent("id",{message:e.id,origin:n._remoteId});n.dispatchEvent(r),n._internalId=e.id,n._createPeerConnection(),n._isAddTransceiverSupported()&&(A.audio&&n._pc.addTransceiver("audio",{direction:"recvonly"}),A.video&&n._pc.addTransceiver("video",{direction:"recvonly"}));var i={offerToReceiveAudio:!!t.audio,offerToReceiveVideo:!!t.video};n._isSafari()&&(i=void 0),n._pc.createOffer(i).then((function(e){e.sdp=w.enableAudioNack(e.sdp),t&&(e.sdp=n._setRtpReceiverOptions(e.sdp,t)),n._pc.setLocalDescription(e).then((function(){n._signaling.sendSignalingMessage("soac",{id:n._internalId,signaling:e})}),(function(e){l.default.error("Set local description failed. Message: "+JSON.stringify(e))}))}),(function(e){l.default.error("Create offer failed. Error info: "+JSON.stringify(e))})).catch((function(e){l.default.error("Failed to create offer or set SDP. Message: "+e.message),n._unsubscribe(),n._rejectPromise(e),n._fireEndedEventOnPublicationOrSubscription()}))})).catch((function(e){n._unsubscribe(),n._rejectPromise(e),n._fireEndedEventOnPublicationOrSubscription()})),this._callbackTimer=setTimeout((function(){n._unsubscribe(),n._rejectPromise(new g.ConferenceError("Subscribe timeout!")),n._fireEndedEventOnPublicationOrSubscription()}),15e3),new Promise((function(e,t){n._subscribePromise={resolve:e,reject:t}}))}},{key:"_unpublish",value:function(){this._stopped||(this._stopped=!0,this._signaling.sendSignalingMessage("unpublish",{id:this._internalId}).catch((function(e){l.default.warning("MCU returns negative ack for unpublishing, "+e)})),this._fireEndedEventOnPublicationOrSubscription(),this._pc&&"closed"!==this._pc.signalingState&&(this._pc.close(),this._pc=null))}},{key:"_unsubscribe",value:function(){this._stopped||(this._subscribedStream.mediaStream=void 0,this._stopped=!0,this._signaling.sendSignalingMessage("unsubscribe",{id:this._internalId}).catch((function(e){l.default.warning("MCU returns negative ack for unsubscribing, "+e)})),this._fireEndedEventOnPublicationOrSubscription(),this._pc&&"closed"!==this._pc.signalingState&&(this._pc.close(),this._pc=null))}},{key:"_muteOrUnmute",value:function(e,t,n){var A=this,r=t?"stream-control":"subscription-control",i=e?"pause":"play";return this._signaling.sendSignalingMessage(r,{id:this._internalId,operation:i,data:n}).then((function(){if(!t){var r=e?"mute":"unmute";A._subscription.dispatchEvent(new f.MuteEvent(r,{kind:n}))}}))}},{key:"_updateMedia",value:function(e){var t=this;if(!this._pc||!this._publication)return Promise.reject(new g.ConferenceError("Only publication support this method."));if(!this._publishedStream.upgradeable)return Promise.reject(new g.ConferenceError("Only upgradeable stream support this method."));if(this._stopped)return Promise.reject(new g.ConferenceError("Peerconnection has already stopped."));var n=!1,A=!1;this._getPCSenders().forEach((function(r){if("audio"===r.track.kind){n=!1;var i,o=t._publishedStream.mediaStream.getAudioTracks()[0];o!==t._publishedStream.dumyStream.getAudioTracks()[0]&&o.stop(),t._publishedStream.mediaStream.removeTrack(o),e.mediaStream.getAudioTracks().length>0?(i=e.mediaStream.getAudioTracks()[0],n="active"):i=t._publishedStream.dumyStream.getAudioTracks()[0],r.replaceTrack(i),t._publishedStream.mediaStream.addTrack(i)}if("video"===r.track.kind){A=!1;var s,a=t._publishedStream.mediaStream.getVideoTracks()[0];a!==t._publishedStream.dumyStream.getVideoTracks()[0]&&a.stop(),t._publishedStream.mediaStream.removeTrack(a),e.mediaStream.getVideoTracks().length>0?(s=e.mediaStream.getVideoTracks()[0],A="active"):s=t._publishedStream.dumyStream.getVideoTracks()[0],r.replaceTrack(s),t._publishedStream.mediaStream.addTrack(s)}}));var r=[];return n!==this._publishedStream.media.audio.status&&(this._publishedStream.media.audio.status=n,r.push({field:"media.audio.status",value:n})),A!==this._publishedStream.media.video.status&&(this._publishedStream.media.video.status=A,r.push({field:"media.video.status",value:A})),this._signaling.sendSignalingMessage("stream-update",{id:this._internalId,data:r}),Promise.resolve()}},{key:"_applyOptions",value:function(e){if("object"!==(0,i.default)(e)||"object"!==(0,i.default)(e.video))return Promise.reject(new g.ConferenceError("Options should be an object."));var t={};return t.resolution=e.video.resolution,t.framerate=e.video.frameRate,t.bitrate=e.video.bitrateMultiplier?"x"+e.video.bitrateMultiplier.toString():void 0,t.keyFrameInterval=e.video.keyFrameInterval,this._signaling.sendSignalingMessage("subscription-control",{id:this._internalId,operation:"update",data:{video:{parameters:t}}}).then()}},{key:"_onRemoteStreamAdded",value:function(e){l.default.trace("Remote stream added."),this._subscribedStream?this._subscribedStream.mediaStream=e.streams[0]:l.default.warning("Received remote stream without subscription.")}},{key:"_onLocalIceCandidate",value:function(e){e.candidate?(l.default.trace("_onLocalIceCandidate:"+JSON.stringify(e.candidate)),this._pc&&"stable"!==this._pc.signalingState?this._pendingCandidates.push(e.candidate):this._sendCandidate(e.candidate)):l.default.trace("Empty candidate.")}},{key:"_fireEndedEventOnPublicationOrSubscription",value:function(){if(!this._ended){this._ended=!0;var e=new f.IRtcEvent("ended");this._publication?(this._publication.dispatchEvent(e),this._publication.stop()):this._subscription&&(this._subscription.dispatchEvent(e),this._subscription.stop()),this._signaling.onStop&&this._signaling.onStop(),this._pcCheckInterval&&(clearInterval(this._pcCheckInterval),this._pcCheckInterval=void 0)}}},{key:"_rejectPromise",value:function(e){e||new g.ConferenceError("Connection failed or closed."),this._publishPromise?(this._publishPromise.reject(e),this._publishPromise=void 0):this._subscribePromise&&(this._subscribePromise.reject(e),this._subscribePromise=void 0)}},{key:"_onIceConnectionStateChange",value:function(e){e&&e.currentTarget&&(l.default.trace("ICE connection state changed to "+e.currentTarget.iceConnectionState),"failed"===e.currentTarget.iceConnectionState&&("stable"===this._pc.signalingState?this._iceRestart():this._iceRestartNeeded=!0))}},{key:"_onConnectionStateChange",value:function(e){l.default.trace("connectionState:"+this._pc.connectionState)}},{key:"_onsignalingstatechange",value:function(e){this._pc&&(l.default.trace("_onsignalingstatechange:"+this._pc.signalingState),"stable"===this._pc.signalingState&&this._iceRestartNeeded&&(this._iceRestartNeeded=!1,this._iceRestart()))}},{key:"_sendCandidate",value:function(e){l.default.trace("_sendCandidate:"+JSON.stringify(e)),this._signaling.sendSignalingMessage("soac",{id:this._internalId,signaling:{type:"candidate",candidate:{candidate:"a="+e.candidate,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex}}})}},{key:"_createPeerConnection",value:function(){var e=this,t=this._config.rtcConfiguration||{},n=this._config.rtcConfigurationExtra;this._isChrome78Up()?t.sdpSemantics="unified-plan":v.isChrome()&&(t.sdpSemantics="plan-b"),this._pc=new RTCPeerConnection(t,n),this._pc.onicecandidate=function(t){e._onLocalIceCandidate.apply(e,[t])},this._pc.ontrack=function(t){e._onRemoteStreamAdded.apply(e,[t])},this._pc.oniceconnectionstatechange=function(t){e._onIceConnectionStateChange.apply(e,[t])},this._pc.onconnectionstatechange=function(t){e._onConnectionStateChange.apply(e,[t])},this._pc.onsignalingstatechange=function(t){e._onsignalingstatechange.apply(e,[t])}}},{key:"_getStats",value:function(){return this._pc?this._pc.getStats():Promise.reject(new g.ConferenceError("PeerConnection is not available."))}},{key:"_deleteUnusedKey",value:function(e){delete e.id,delete e.mid,delete e.kind,delete e.type,delete e.ssrc,delete e.localId,delete e.codecId,delete e.trackId,delete e.remoteId,delete e.mediaType,delete e.transportId,delete e.mediaSourceId,delete e.trackIdentifier,delete e.decoderImplementation}},{key:"_convertWebrtcStatsToIrtcStats",value:function(e,t){var n=this;e.forEach((function(A){if("outbound-rtp"===A.type||"inbound-rtp"===A.type){var r=JSON.parse(JSON.stringify(A));A.codecId&&(r.codec=JSON.parse(JSON.stringify(e.get(A.codecId))),n._deleteUnusedKey(r.codec)),A.remoteId&&(r.remote=JSON.parse(JSON.stringify(e.get(A.remoteId))),n._deleteUnusedKey(r.remote),r.remote.codecId&&(r.remote.codec=JSON.parse(JSON.stringify(e.get(r.remote.codecId))),n._deleteUnusedKey(r.remote.codec))),n._deleteUnusedKey(r),"audio"===A.kind?t.audio=r:t.video=r}}))}},{key:"_getConnectionStats",value:function(){var e=this;return this._pc?new Promise((function(t,n){var A={};if(e._publication){var r=e._pc.getSenders(),i=0;r.forEach((function(o){o.getStats().then((function(o){e._convertWebrtcStatsToIrtcStats(o,A),++i===r.length&&(A.audio||A.video?t(A):n("unsupported browser."))}))}))}if(e._subscription){var o=e._pc.getReceivers(),s=0;o.forEach((function(r){r.getStats().then((function(r){e._convertWebrtcStatsToIrtcStats(r,A),++s===o.length&&(A.audio||A.video?t(A):n("unsupported browser."))}))}))}})):Promise.reject(new g.ConferenceError("PeerConnection is not available."))}},{key:"_getPCSenders",value:function(){return this._pc?this._pc.getSenders():null}},{key:"_clearCallbackTimeout",value:function(){this._callbackTimer&&(clearTimeout(this._callbackTimer),this._callbackTimer=null)}},{key:"_readyHandler",value:function(){var e=this;this._subscribePromise?(this._subscription=new p.Subscription(this._internalId,(function(){e._unsubscribe()}),(function(){return e._getStats()}),(function(){return e._getConnectionStats()}),(function(t){return e._muteOrUnmute(!0,!1,t)}),(function(t){return e._muteOrUnmute(!1,!1,t)}),(function(t){return e._applyOptions(t)})),this._subscribedStream.addEventListener("ended",(function(){e._subscription.dispatchEvent("ended",new f.IRtcEvent("ended"))})),this._subscribePromise.resolve(this._subscription),this._clearCallbackTimeout()):this._publishPromise&&(this._publication=new d.Publication(this._internalId,(function(){return e._unpublish(),Promise.resolve()}),(function(){return e._getStats()}),(function(){return e._getConnectionStats()}),(function(){return e._getPCSenders()}),(function(t){return e._muteOrUnmute(!0,!0,t)}),(function(t){return e._muteOrUnmute(!1,!0,t)}),(function(t){return e._updateMedia(t)})),this._publishPromise.resolve(this._publication),this._clearCallbackTimeout()),this._publishPromise=null,this._subscribePromise=null}},{key:"_sdpHandler",value:function(e){var t=this;"answer"===e.type&&(l.default.trace("setRemoteDescription"),(this._publication||this._publishPromise)&&this._options&&(e.sdp=this._setRtpSenderOptions(e.sdp,this._options)),this._pc.setRemoteDescription(e).then((function(){if(t._pendingCandidates.length>0){var e,n=y(t._pendingCandidates);try{for(n.s();!(e=n.n()).done;){var A=e.value;t._sendCandidate(A)}}catch(e){n.e(e)}finally{n.f()}}}),(function(e){l.default.error("Set remote description failed: "+e),t._rejectPromise(e),t._fireEndedEventOnPublicationOrSubscription()})))}},{key:"_errorHandler",value:function(e){l.default.trace("_errorHandler:"+e);var t=this._publishPromise||this._subscribePromise;if(t)t.reject(new g.ConferenceError(e));else{var n=this._publication||this._subscription;if(n){var A=new g.ConferenceError(e),r=new f.ErrorEvent("error",{error:A});n.dispatchEvent(r),this._fireEndedEventOnPublicationOrSubscription()}else l.default.warning("Neither publication nor subscription is available.")}}},{key:"_setCodecOrder",value:function(e,t){if(this._publication||this._publishPromise){if(t.audio){var n=Array.from(t.audio,(function(e){return e.codec.name}));e=w.reorderCodecs(e,"audio",n)}if(t.video){var A=Array.from(t.video,(function(e){return e.codec.name}));e=w.reorderCodecs(e,"video",A)}}else{if(t.audio&&t.audio.codecs){var r=Array.from(t.audio.codecs,(function(e){return e.name}));e=w.reorderCodecs(e,"audio",r)}if(t.video&&t.video.codecs){var i=Array.from(t.video.codecs,(function(e){return e.name}));e=w.reorderCodecs(e,"video",i)}}return e}},{key:"_setStartBitrate",value:function(e,t){return"object"===(0,i.default)(t.audio)&&(e=w.setStartBitrate(e,t.audio)),"object"===(0,i.default)(t.video)&&(e=w.setStartBitrate(e,t.video)),e}},{key:"_setMinBitrate",value:function(e,t){return"object"===(0,i.default)(t.audio)&&(e=w.setMinBitrate(e,t.audio)),"object"===(0,i.default)(t.video)&&(e=w.setMinBitrate(e,t.video)),e}},{key:"_setMaxBitrate",value:function(e,t){return"object"===(0,i.default)(t.audio)&&(e=w.setMaxBitrate(e,t.audio)),"object"===(0,i.default)(t.video)&&(e=w.setMaxBitrate(e,t.video)),e}},{key:"_setRtpSenderOptions",value:function(e,t){if(v.isFirefox()){var n=this._pc.getSenders();0===n.length&&l.default.warning("Cannot set max bitrate without stream added.");var A,r=y(n);try{for(r.s();!(A=r.n()).done;){var o=A.value;if("audio"===o.track.kind&&"object"===(0,i.default)(t.audio)){var s=o.getParameters();null==s.encodings&&(s.encodings=[]);var a,c=y(t.audio);try{for(c.s();!(a=c.n()).done;){var u=a.value,f=void 0,h=!1;if(u.maxBitrate&&u.maxBitrate>0&&(f={maxBitrate:1e3*u.maxBitrate},h=!0),u.minBitrate&&u.minBitrate>0&&(f={minBitrate:1e3*u.minBitrate},h=!0),u.startBitrate&&u.startBitrate>0&&(f={startBitrate:1e3*u.startBitrate},h=!0),h){s.encodings.push(f);break}}}catch(e){c.e(e)}finally{c.f()}o.setParameters(s)}else if("video"===o.track.kind&&"object"===(0,i.default)(t.video)){var d=o.getParameters();null==d.encodings&&(d.encodings=[]);var p,g=y(t.video);try{for(g.s();!(p=g.n()).done;){var w=p.value,m=void 0,B=!1;if(w.maxBitrate&&w.maxBitrate>0&&(m={maxBitrate:1e3*w.maxBitrate},B=!0),w.minBitrate&&w.minBitrate>0&&(m={minBitrate:1e3*w.minBitrate},B=!0),w.startBitrate&&w.startBitrate>0&&(m={startBitrate:1e3*w.startBitrate},B=!0),B){d.encodings.push(m);break}}}catch(e){g.e(e)}finally{g.f()}o.setParameters(d)}}}catch(e){r.e(e)}finally{r.f()}}else e=this._setMaxBitrate(e,t),e=this._setMinBitrate(e,t),e=this._setStartBitrate(e,t);return e}},{key:"_setRtpReceiverOptions",value:function(e,t){return this._setCodecOrder(e,t)}},{key:"_onStreamEvent",value:function(e){var t,n;this._publication&&e.id===this._publication.id?t=this._publication:this._subscribedStream&&e.id===this._subscribedStream.id&&(t=this._subscription),t&&("audio.status"===e.data.field?n=h.TrackKind.AUDIO:"video.status"===e.data.field?n=h.TrackKind.VIDEO:l.default.warning("Invalid data field for stream update info."),"active"===e.data.value?t.dispatchEvent(new f.MuteEvent("unmute",{kind:n})):"inactive"===e.data.value?t.dispatchEvent(new f.MuteEvent("mute",{kind:n})):l.default.warning("Invalid data value for stream update info."))}},{key:"_isRtpEncodingParameters",value:function(e){if(!Array.isArray(e))return!1;var t=e[0];return t.codec||t.codecPayloadType||t.dtx||t.active||t.ptime||t.maxFramerate||t.scaleResolutionDownBy||t.rid||t.maxBitrate||t.minBitrate||t.startBitrate}},{key:"_isIrtcEncodingParameters",value:function(e){return!!Array.isArray(e)&&!!e[0].codec}},{key:"_isAddTransceiverSupported",value:function(){var e=v.sysInfo();return"function"==typeof this._pc.addTransceiver&&(e.runtime.version<=68||this._isChrome78Up()||!v.isChrome())}},{key:"_isSafari",value:function(){return"Safari"===v.sysInfo().runtime.name}},{key:"_isChrome78Up",value:function(){var e=v.sysInfo();return"Chrome"===e.runtime.name&&e.runtime.version.split(".")[0]>=78}},{key:"_iceRestart",value:function(){var e,t=this;l.default.trace("_iceRestart"),this._pc&&(this._pendingCandidates=[],this._pc.createOffer({iceRestart:!0}).then((function(e){return e.sdp=t._setRtpReceiverOptions(e.sdp,t._options),e})).then((function(n){return n.sdp=w.enableAudioNack(n.sdp),e=n,t._pc.setLocalDescription(n)})).then((function(){t._signaling.sendSignalingMessage("soac",{id:t._internalId,signaling:e})})).catch((function(e){l.default.error("Failed to create offer or set SDP. Message: "+e.message)})))}}]),n}(f.EventDispatcher);n.ConferencePeerConnectionChannel=C},{"../base/event.js":18,"../base/logger.js":20,"../base/mediaformat.js":21,"../base/mediastream-factory":22,"../base/publication.js":23,"../base/sdputils.js":25,"../base/utils.js":27,"./error.js":30,"./subscription.js":39,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/getPrototypeOf":5,"@babel/runtime/helpers/inherits":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/possibleConstructorReturn":10,"@babel/runtime/helpers/typeof":12}],29:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof");Object.defineProperty(n,"__esModule",{value:!0}),n.ConferenceClient=void 0,A(e("@babel/runtime/helpers/createClass")),A(e("@babel/runtime/helpers/classCallCheck"));var i=y(e("../base/event.js")),o=e("./signaling.js"),s=A(e("../base/logger.js")),a=e("../base/base64.js"),c=e("./hostinfo.js"),u=e("./error.js"),l=y(e("../base/utils.js")),f=y(e("../base/stream.js")),h=e("./participant.js"),d=e("./session.js"),p=e("./info.js"),g=e("./channel.js"),v=e("./mixedstream.js"),w=y(e("./streamutils.js")),m=e("./whiteboard.js");function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(B=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=B(t);if(n&&n.has(e))return n.get(e);var A={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(A,o,s):A[o]=e[o]}return A.default=e,n&&n.set(e,A),A}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var A=0,r=function(){};return{s:r,n:function(){return A>=e.length?{done:!0}:{done:!1,value:e[A++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,A=new Array(t);n<t;n++)A[n]=e[n];return A}var k=1,E=2,S=3,Q=function(e,t){var n=new i.IRtcEvent(e,t);return n.participant=t.participant,n},U=function(e,t){var n=new i.IRtcEvent(e,t);return n.session=t.session,n},I=function(e,t){var n=new i.IRtcEvent(e,t);return n.whiteboard=t.whiteboard,n};n.ConferenceClient=function(e,t){Object.setPrototypeOf(this,new i.EventDispatcher),e=e||{};var n,A,r=this,B=k,y=t||new o.SioSignaling,C=new Map,F=new Map,O=new Map,R=new Array,x=new Array,_=new Map,D=void 0,T=new Map,L=new Map,M=[];function H(){return B==S}function P(e){if("mixed"===e.type)return new v.RemoteMixedStream(e);var t={source:void 0,status:void 0},n={source:void 0,status:void 0};e.media.audio&&(t={source:e.media.audio.source,status:e.media.audio.status}),e.media.video&&(n={source:e.media.video.source,status:e.media.video.status});var A=new f.RemoteStream(e.id,e.info.owner,void 0,new f.StreamSourceInfo(t,n),e.info.attributes);return A.settings=w.convertToPublicationSettings(e.media),A.capabilities=w.convertToSubscriptionCapabilities(e.media),A}function j(e,t){return y.send(e,t)}function N(){var t=Object.create(i.EventDispatcher);t.sendSignalingMessage=j;var n=function(){t.onreconnected&&t.onreconnected()};y.addEventListener("reconnected",n),t.onStop=function(){y.removeEventListener("reconnected",n)};var A=new g.ConferencePeerConnectionChannel(e,t);return A.addEventListener("id",(function(e){_.set(e.message,A)})),A.addEventListener("ended",(function(){_.forEach((function(e,t){e==A&&_.delete(t)}))})),A}function K(){F.clear(),O.clear(),C.clear(),T.clear(),L.clear(),M.splice(0,M.length)}y.addEventListener("data",(function(e){!function(e,t){if("soac"===e||"progress"===e){if("progress"===e&&function(e){if("ready"===e.status){var t=new d.Session(e.id);F.set(e.id,t);var n=new U("sessionadded",{session:t});r.dispatchEvent(n)}else if("error"===e.status){var A=e.id;if(!F.has(A))return void s.default.warning("Received leave message from MCU for an unknown session.");var o=F.get(A);F.delete(A),o.dispatchEvent(new i.IRtcEvent("error"))}else if("end"===e.status){var a=e.id;if(!F.has(a))return void s.default.warning("Received leave message from MCU for an unknown session.");var c=F.get(a);F.delete(a),c.dispatchEvent(new i.IRtcEvent("end"))}}(t),!_.has(t.id))return void s.default.warning("Cannot find a channel for incoming data.");_.get(t.id).onMessage(e,t)}else"stream"===e?"add"===t.status?function(e){var t=P(e);C.set(t.id,t);var n=new f.StreamEvent("streamadded",{stream:t});r.dispatchEvent(n)}(t.data):"remove"===t.status?function(e){if(C.has(e.id)){var t=C.get(e.id),n=new i.IRtcEvent("ended");C.delete(t.id),t.dispatchEvent(n)}else s.default.warning("Cannot find specific remote stream.")}(t):"update"===t.status&&(Array.isArray(t.data)?function(e){if(C.has(e.id)){var t=C.get(e.id);e.data.forEach((function(e){for(var n=e.field.split("."),A=t,r=0;r<n.length-1;r++)A=A[n[r]];A[n[n.length-1]]=e.value}));var n=new f.StreamUpdatedEvent({info:e.data});t.dispatchEvent(n)}else s.default.warning("Cannot find specific remote stream.")}(t):"audio.status"===t.data.field||"video.status"===t.data.field?_.forEach((function(n){n.onMessage(e,t)})):"activeInput"===t.data.field?function(e){if(C.has(e.id)){var t=C.get(e.id),n=new v.ActiveAudioInputChangeEvent("activeaudioinputchange",{activeAudioInputStreamId:e.data.value});t.dispatchEvent(n)}else s.default.warning("Cannot find specific remote stream.")}(t):"video.layout"===t.data.field?function(e){if(C.has(e.id)){var t=C.get(e.id),n=new v.LayoutChangeEvent("layoutchange",{layout:e.data.value});t.dispatchEvent(n)}else s.default.warning("Cannot find specific remote stream.")}(t):"."===t.data.field?function(e){if(C.has(e.id)){var t=C.get(e.id);t.settings=w.convertToPublicationSettings(e.media),t.capabilities=w.convertToSubscriptionCapabilities(e.media);var n=new i.IRtcEvent("updated");t.dispatchEvent(n)}else s.default.warning("Cannot find specific remote stream.")}(t.data.value):s.default.warning("Unknown stream event from MCU.")):"text"===e?function(e){var t=new i.MessageEvent("messagereceived",{message:e.message,origin:e.from,to:e.to});r.dispatchEvent(t)}(t):"participant"===e?function(e){if("join"===e.action){e=e.data;var t=new h.Participant(e.id,e.role,e.user);O.set(e.id,t);var n=new Q("participantjoined",{participant:t});r.dispatchEvent(n)}else if("leave"===e.action){var A=e.data;if(!O.has(A))return void s.default.warning("Received leave message from MCU for an unknown participant.");var o=O.get(A);O.delete(A),o.dispatchEvent(new i.IRtcEvent("left"))}}(t):"asr"===e?function(e){if(C.has(e.streamId)){var t=C.get(e.streamId),n=new f.AsrEvent({info:e});t.dispatchEvent(n)}else s.default.warning("Cannot find specific remote stream.")}(t):"speaking"===e?function(e){if(C.has(e.streamId)){var t=C.get(e.streamId),n=new f.SpeakingEvent({info:e});t.dispatchEvent(n)}else s.default.warning("Cannot find specific remote stream.")}(t):"coshow"===e&&function(e){if("add"===e.type){var t=e.whiteboard.id,n=e.whiteboard.owner,A=e.whiteboard.name,o=e.whiteboard.uri,s=e.whiteboard.attributes,a=new m.Whiteboard(t,n,A,o,s);T.set(a.id,a);var c=new I("whiteboardadded",{whiteboard:a});r.dispatchEvent(c)}else if("remove"===e.type){var u=e.whiteboard.id,l=T.get(u);T.delete(u),l.dispatchEvent(new i.IRtcEvent("remove"))}else if("update"===e.type){var f=e.whiteboard.id,h=e.data,d=L.get(f);d&&d.contentWindow&&d.contentWindow.onUpdate&&d.contentWindow.onUpdate(h)}}(t)}(e.message.notification,e.message.data)})),y.addEventListener("reconnected",(function(){r.dispatchEvent(new i.IRtcEvent("serverreconnected"))})),y.addEventListener("disconnect",(function(){K(),B=k,r.dispatchEvent(new i.IRtcEvent("serverdisconnected"))})),Object.defineProperty(this,"info",{configurable:!1,get:function(){return A?new p.ConferenceInfo(A.id,Array.from(O.values()),Array.from(C.values()),Array.from(T.values()),n):null}}),this.setHostInfo=function(e){if(!(e instanceof c.HostInfo))return Promise.reject(new u.ConferenceError("Invalid info."));D=e},this.join=function(e){return new Promise((function(t,r){var i=JSON.parse(a.Base64.decodeBase64(e)),o=!0===i.secure,s=i.host;if("string"==typeof s)if(-1===s.indexOf("http")&&(s=o?"https://"+s:"http://"+s),B===k){B=E;var f={token:e,userAgent:l.sysInfo(),protocol:"1.0",hostInfo:{}};if(D&&D instanceof c.HostInfo){if(D.ip&&(f.hostInfo.ip=D.ip),D.location){var d={};void 0!==D.location.lat&&(d.lat=D.location.lat),void 0!==D.location.lng&&(d.lng=D.location.lng),f.hostInfo.location=d}if(D.address){var g={};void 0!==D.address.nation&&(g.nation=D.address.nation),void 0!==D.address.province&&(g.province=D.address.province),void 0!==D.address.city&&(g.city=D.address.city),void 0!==D.address.district&&(g.district=D.address.district),void 0!==D.address.code&&(g.code=D.address.code),f.hostInfo.address=g}}y.connect(s,o,f).then((function(e){if(B=S,void 0!==(A=e.room).streams){var r,i=b(A.streams);try{for(i.s();!(r=i.n()).done;){var o=r.value;"mixed"===o.type&&(o.viewport=o.info.label),C.set(o.id,P(o))}}catch(e){i.e(e)}finally{i.f()}}if(e.room&&void 0!==e.room.participants){var s,a=b(e.room.participants);try{for(a.s();!(s=a.n()).done;){var c=s.value;O.set(c.id,new h.Participant(c.id,c.role,c.user)),c.id===e.id&&(n=O.get(c.id))}}catch(e){a.e(e)}finally{a.f()}}if(e.room&&e.room.whiteboards){var u,l=b(e.room.whiteboards);try{for(l.s();!(u=l.n()).done;){var f=u.value;T.set(f.id,new m.Whiteboard(f.id,f.owner,f.name,f.uri,f.attributes))}}catch(e){l.e(e)}finally{l.f()}}t(new p.ConferenceInfo(e.room.id,Array.from(O.values()),Array.from(C.values()),Array.from(T.values()),n))}),(function(e){B=k,r(new u.ConferenceError(e))}))}else r(new u.ConferenceError("connection state invalid"));else r(new u.ConferenceError("Invalid host."))}))},this.publish=function(e,t){if(!H())return Promise.reject(new u.ConferenceError("Conference server is not connected."));if(!(e instanceof f.LocalStream))return Promise.reject(new u.ConferenceError("Invalid stream."));var n=N();return R.push(n),n.addEventListener("ended",(function(){var e=R.indexOf(n);e>-1&&R.splice(e,1)})),n.publish(e,t)},this.subscribe=function(e,t){if(!H())return Promise.reject(new u.ConferenceError("Conference server is not connected."));if(!(e instanceof f.RemoteStream))return Promise.reject(new u.ConferenceError("Invalid stream."));var n=N();return x.push(n),n.addEventListener("ended",(function(){var e=x.indexOf(n);e>-1&&x.splice(e,1)})),n.subscribe(e,t)},this.send=function(e,t){return H()?(void 0===t&&(t="all"),j("text",{to:t,message:e})):Promise.reject(new u.ConferenceError("Conference server is not connected."))},this.createWhiteboard=function(e,t,A){return new Promise((function(r,i){return H()?"string"!=typeof e?i(new TypeError("name should be a string.")):"string"!=typeof t?i(new TypeError("uri should be a string.")):void j("coshow",{name:e,uri:t,attributes:A,action:"create"}).then((function(i){var o=new m.Whiteboard(i.id,n.id,e,t,A);r(o)})).catch((function(e){s.default.info(e),i(new u.ConferenceError(e))})):i(new u.ConferenceError("Conference server is not connected."))}))},this.startWhiteboard=function(e){return new Promise((function(t,A){return H()?e instanceof m.Whiteboard?void j("coshow",{id:e.id,action:"start"}).then((function(A){M.push(T.get(e.id));var r=document.createElement("iframe");r.src=A.uri,r.height="100%",r.width="100%",r.id=A.id,L.set(A.id,r),r.onStart=!0,window[A.id]=function(t){var A=JSON.parse(t);"load"===A.method?r.contentWindow.onStart({owner:e.owner,user:n.id}):"update"===A.method?j("coshow",{id:e.id,action:"update",data:A.data}):"snapshot"===A.method?r.snapshotCallback&&r.snapshotCallback.length>0&&r.snapshotCallback.shift()({metaData:A.metaData,front:A.front,background:A.background}):s.default.warning("unknow message from whiteboard:",t)},t(r)})).catch((function(e){s.default.info(e),A(new u.ConferenceError(e))})):A(new TypeError("whiteboard should be Whiteboard type.")):A(new u.ConferenceError("Conference server is not connected."))}))},this.snapshot=function(e){return new Promise((function(t,n){if(!H())return n(new u.ConferenceError("Conference server is not connected."));if(!(e instanceof m.Whiteboard))return n(new TypeError("whiteboard should be Whiteboard type."));var A=e.id,r=L.get(A);r.contentWindow.onSnapshot?(r.snapshotCallback||(r.snapshotCallback=[]),r.snapshotCallback.push(t),r.contentWindow.onSnapshot()):n(new TypeError("whiteboard does not support snapshot."))}))},this.stopWhiteboard=function(e){return new Promise((function(t,n){return H()?e instanceof m.Whiteboard?void j("coshow",{id:e.id,action:"stop"}).then((function(n){M.includes(T.get(e.id))&&M.splice(M.indexOf(T.get(e.id)),1),L.get(n.id)&&L.delete(n.id),t(T.get(n.id))})).catch((function(e){s.default.info(e),n(new u.ConferenceError(e))})):n(new TypeError("whiteboard should be Whiteboard type.")):n(new u.ConferenceError("Conference server is not connected."))}))},this.removeWhiteboard=function(e){return new Promise((function(t,n){return H()?e instanceof m.Whiteboard?void j("coshow",{id:e.id,action:"remove"}).then((function(e){t(T.get(e.id))})).catch((function(e){s.default.info(e),n(new u.ConferenceError(e))})):n(new TypeError("whiteboard should be Whiteboard type.")):n(new u.ConferenceError("Conference server is not connected."))}))},this.leave=function(){var e=this;return R.forEach((function(e){e._unpublish()})),R.splice(0,R.length),x.forEach((function(e){e._unsubscribe()})),x.splice(0,x.length),M.forEach((function(t){e.stopWhiteboard(t)})),y.disconnect().then((function(){K(),B=k}))}}},{"../base/base64.js":16,"../base/event.js":18,"../base/logger.js":20,"../base/stream.js":26,"../base/utils.js":27,"./channel.js":28,"./error.js":30,"./hostinfo.js":32,"./info.js":33,"./mixedstream.js":34,"./participant.js":35,"./session.js":36,"./signaling.js":37,"./streamutils.js":38,"./whiteboard.js":40,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/typeof":12}],30:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.ConferenceError=void 0;var r=A(e("@babel/runtime/helpers/createClass")),i=A(e("@babel/runtime/helpers/classCallCheck")),o=A(e("@babel/runtime/helpers/inherits")),s=A(e("@babel/runtime/helpers/possibleConstructorReturn")),a=A(e("@babel/runtime/helpers/getPrototypeOf")),c=function(e){(0,o.default)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,A=(0,a.default)(e);if(t){var r=(0,a.default)(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return(0,s.default)(this,n)}}(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,r.default)(n)}((0,A(e("@babel/runtime/helpers/wrapNativeSuper")).default)(Error));n.ConferenceError=c},{"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/getPrototypeOf":5,"@babel/runtime/helpers/inherits":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/possibleConstructorReturn":10,"@babel/runtime/helpers/wrapNativeSuper":13}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var A={ConferenceClient:!0,SioSignaling:!0};Object.defineProperty(n,"ConferenceClient",{enumerable:!0,get:function(){return r.ConferenceClient}}),Object.defineProperty(n,"SioSignaling",{enumerable:!0,get:function(){return i.SioSignaling}});var r=e("./client.js"),i=e("./signaling.js"),o=e("./hostinfo.js");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(A,e)||e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))}))},{"./client.js":29,"./hostinfo.js":32,"./signaling.js":37}],32:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.LocationInfo=n.HostInfo=n.AddressInfo=void 0;var r=A(e("@babel/runtime/helpers/createClass")),i=A(e("@babel/runtime/helpers/classCallCheck")),o=(0,r.default)((function e(t,n){if((0,i.default)(this,e),void 0!==t&&"number"!=typeof t)throw new TypeError("Invalid lat.");if(void 0!==n&&"number"!=typeof n)throw new TypeError("Invalid lng.");Object.defineProperty(this,"lat",{configurable:!1,writable:!0,value:t}),Object.defineProperty(this,"lng",{configurable:!1,writable:!0,value:n})}));n.LocationInfo=o;var s=(0,r.default)((function e(t,n,A,r,o){if((0,i.default)(this,e),void 0!==t&&"string"!=typeof t)throw new TypeError("Invalid nation.");if(void 0!==n&&"string"!=typeof n)throw new TypeError("Invalid province.");if(void 0!==A&&"string"!=typeof A)throw new TypeError("Invalid city.");if(void 0!==r&&"string"!=typeof r)throw new TypeError("Invalid district.");if(void 0!==o&&"number"!=typeof o)throw new TypeError("Invalid code.");Object.defineProperty(this,"nation",{configurable:!1,writable:!0,value:t}),Object.defineProperty(this,"province",{configurable:!1,writable:!0,value:n}),Object.defineProperty(this,"city",{configurable:!1,writable:!0,value:A}),Object.defineProperty(this,"district",{configurable:!1,writable:!0,value:r}),Object.defineProperty(this,"code",{configurable:!1,writable:!0,value:o})}));n.AddressInfo=s;var a=(0,r.default)((function e(t,n,A){if((0,i.default)(this,e),void 0!==t&&"string"!=typeof t)throw new TypeError("Invalid ip.");if(void 0!==n&&!(n instanceof o))throw new TypeError("Invalid location.");if(void 0!==A&&!(A instanceof s))throw new TypeError("Invalid location.");Object.defineProperty(this,"ip",{configurable:!1,writable:!0,value:t}),Object.defineProperty(this,"location",{configurable:!1,writable:!0,value:n}),Object.defineProperty(this,"address",{configurable:!1,writable:!0,value:A})}));n.HostInfo=a},{"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/interopRequireDefault":7}],33:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.ConferenceInfo=void 0;var r=A(e("@babel/runtime/helpers/createClass")),i=A(e("@babel/runtime/helpers/classCallCheck")),o=(0,r.default)((function e(t,n,A,r,o){(0,i.default)(this,e),this.id=t,this.participants=n,this.remoteStreams=A,this.whiteboards=r,this.self=o}));n.ConferenceInfo=o},{"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/interopRequireDefault":7}],34:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof");Object.defineProperty(n,"__esModule",{value:!0}),n.RemoteMixedStream=n.LayoutChangeEvent=n.ActiveAudioInputChangeEvent=void 0;var i=A(e("@babel/runtime/helpers/createClass")),o=A(e("@babel/runtime/helpers/classCallCheck")),s=A(e("@babel/runtime/helpers/inherits")),a=A(e("@babel/runtime/helpers/possibleConstructorReturn")),c=A(e("@babel/runtime/helpers/getPrototypeOf")),u=d(e("../base/stream.js")),l=d(e("./streamutils.js")),f=e("../base/event.js");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var A={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(A,o,s):A[o]=e[o]}return A.default=e,n&&n.set(e,A),A}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,A=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return(0,a.default)(this,n)}}var g=function(e){(0,s.default)(n,e);var t=p(n);function n(e){var A;if((0,o.default)(this,n),"mixed"!==e.type)throw new TypeError("Not a mixed stream");return(A=t.call(this,e.id,void 0,void 0,new u.StreamSourceInfo("mixed","mixed"))).settings=l.convertToPublicationSettings(e.media),A.capabilities=new l.convertToSubscriptionCapabilities(e.media),A}return(0,i.default)(n)}(u.RemoteStream);n.RemoteMixedStream=g;var v=function(e){(0,s.default)(n,e);var t=p(n);function n(e,A){var r;return(0,o.default)(this,n),(r=t.call(this,e)).activeAudioInputStreamId=A.activeAudioInputStreamId,r}return(0,i.default)(n)}(f.IRtcEvent);n.ActiveAudioInputChangeEvent=v;var w=function(e){(0,s.default)(n,e);var t=p(n);function n(e,A){var r;return(0,o.default)(this,n),(r=t.call(this,e)).layout=A.layout,r}return(0,i.default)(n)}(f.IRtcEvent);n.LayoutChangeEvent=w},{"../base/event.js":18,"../base/stream.js":26,"./streamutils.js":38,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/getPrototypeOf":5,"@babel/runtime/helpers/inherits":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/possibleConstructorReturn":10,"@babel/runtime/helpers/typeof":12}],35:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof");Object.defineProperty(n,"__esModule",{value:!0}),n.Participant=void 0;var i=A(e("@babel/runtime/helpers/createClass")),o=A(e("@babel/runtime/helpers/classCallCheck")),s=A(e("@babel/runtime/helpers/assertThisInitialized")),a=A(e("@babel/runtime/helpers/inherits")),c=A(e("@babel/runtime/helpers/possibleConstructorReturn")),u=A(e("@babel/runtime/helpers/getPrototypeOf"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var f=function(e){(0,a.default)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,A=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return(0,c.default)(this,n)}}(n);function n(e,A,r){var i;return(0,o.default)(this,n),i=t.call(this),Object.defineProperty((0,s.default)(i),"id",{configurable:!1,writable:!1,value:e}),Object.defineProperty((0,s.default)(i),"role",{configurable:!1,writable:!1,value:A}),Object.defineProperty((0,s.default)(i),"userId",{configurable:!1,writable:!1,value:r}),i}return(0,i.default)(n)}(function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var A={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(A,o,s):A[o]=e[o]}return A.default=e,n&&n.set(e,A),A}(e("../base/event.js")).EventDispatcher);n.Participant=f},{"../base/event.js":18,"@babel/runtime/helpers/assertThisInitialized":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/getPrototypeOf":5,"@babel/runtime/helpers/inherits":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/possibleConstructorReturn":10,"@babel/runtime/helpers/typeof":12}],36:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof");Object.defineProperty(n,"__esModule",{value:!0}),n.Session=void 0;var i=A(e("@babel/runtime/helpers/createClass")),o=A(e("@babel/runtime/helpers/classCallCheck")),s=A(e("@babel/runtime/helpers/assertThisInitialized")),a=A(e("@babel/runtime/helpers/inherits")),c=A(e("@babel/runtime/helpers/possibleConstructorReturn")),u=A(e("@babel/runtime/helpers/getPrototypeOf"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var f=function(e){(0,a.default)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,A=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return(0,c.default)(this,n)}}(n);function n(e){var A;return(0,o.default)(this,n),A=t.call(this),Object.defineProperty((0,s.default)(A),"id",{configurable:!1,writable:!1,value:e}),A}return(0,i.default)(n)}(function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var A={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(A,o,s):A[o]=e[o]}return A.default=e,n&&n.set(e,A),A}(e("../base/event.js")).EventDispatcher);n.Session=f},{"../base/event.js":18,"@babel/runtime/helpers/assertThisInitialized":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/getPrototypeOf":5,"@babel/runtime/helpers/inherits":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/possibleConstructorReturn":10,"@babel/runtime/helpers/typeof":12}],37:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof");Object.defineProperty(n,"__esModule",{value:!0}),n.SioSignaling=void 0;var i=A(e("@babel/runtime/helpers/classCallCheck")),o=A(e("@babel/runtime/helpers/createClass")),s=A(e("@babel/runtime/helpers/inherits")),a=A(e("@babel/runtime/helpers/possibleConstructorReturn")),c=A(e("@babel/runtime/helpers/getPrototypeOf")),u=A(e("../base/logger.js")),l=w(e("../base/event.js")),f=e("./error.js"),h=w(e("../base/utils.js")),d=e("../base/base64.js"),p=A(e("../../dependencies/socket.io.js")),g=A(e("../../dependencies/weapp.socket.io.js"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var A={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(A,o,s):A[o]=e[o]}return A.default=e,n&&n.set(e,A),A}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,A=new Array(t);n<t;n++)A[n]=e[n];return A}function B(e,t,n,A){"ok"===e||"success"===e?n(t):"error"===e?A(t):u.default.error("MCU returns unknown ack.")}var y=function(e){(0,s.default)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,A=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return(0,a.default)(this,n)}}(n);function n(e){var A;return(0,i.default)(this,n),(A=t.call(this))._config=e||{},A._socket=null,A._loggedIn=!1,A._reconnectTimes=0,A._reconnectionTicket=null,A._refreshReconnectionTicket=null,A._cacheMsgs=[],A}return(0,o.default)(n,[{key:"connect",value:function(e,t,n){var A=this,r=["polling","websocket"],i=["websocket"],o=[];return new Promise((function(t,s){var a={reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:1e4,forceNew:!0,transports:i,query:{}},c=A._config;if(c){if(c.reconnection&&"boolean"==typeof c.reconnection&&(a.reconnection=c.reconnection),c.reconnectionAttempts&&"number"==typeof c.reconnectionAttempts&&c.reconnectionAttempts!==1/0&&!isNaN(c.reconnectionAttempts)&&(a.reconnectionAttempts=c.reconnectionAttempts),c.reconnectionDelay&&"number"==typeof c.reconnectionDelay&&c.reconnectionDelay!==1/0&&!isNaN(c.reconnectionDelay)&&(a.reconnectionDelay=c.reconnectionDelay),c.reconnectionDelayMax&&"number"==typeof c.reconnectionDelayMax&&c.reconnectionDelayMax!==1/0&&!isNaN(c.reconnectionDelayMax)&&(a.reconnectionDelayMax=c.reconnectionDelayMax),c.forceNew&&"boolean"==typeof c.forceNew&&(a.forceNew=c.forceNew),c.timeout&&"number"==typeof c.timeout&&c.timeout!==1/0&&!isNaN(c.timeout)&&(a.timeout=c.timeout),c.transports){h.isString(c.transports)?o.push(c.transports):h.isArray(c.transports)?o=c.transports:u.default.error("transports is error:"+c.transports);for(var f=0;f<o.length;f++)r.indexOf(o[f])<0&&(u.default.error("unsupported transports:"+o[f]),o.splice(f,1),f--);o.length>0&&(a.transports=o)}c.query&&(a.query=c.query),c.query&&c.query.forwardingMarker&&"string"==typeof c.query.forwardingMarker||(a.query.forwardingMarker="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))),c.query&&c.query.servicePath&&"string"==typeof c.query.servicePath||(a.query.servicePath="_zms_portal"),A._config=a}void 0===p.default&&"weapp"===h.sysInfo().runtime.name?A._socket=(0,g.default)(e,a):A._socket=(0,p.default)(e,a),["participant","text","stream","progress","asr","speaking","coshow"].forEach((function(e){A._socket.on(e,(function(t){A.dispatchEvent(new l.MessageEvent("data",{message:{notification:e,data:t}}))}))})),A._socket.on("reconnecting",(function(){A._reconnectTimes++})),A._socket.on("reconnect_failed",(function(){A._reconnectTimes>=a.reconnectionAttempts&&A.dispatchEvent(new l.IRtcEvent("disconnect"))})),A._socket.on("connect_error",(function(t){u.default.warning("connect_error",t,new Date,A._reconnectTimes),A._reconnectTimes>=a.reconnectionAttempts&&(A._loggedIn=!1,s("connect_error:".concat(e)))})),A._socket.on("drop",(function(){A._reconnectTimes=a.reconnectionAttempts})),A._socket.on("disconnect",(function(){A._clearReconnectionTask(),A._reconnectTimes>=a.reconnectionAttempts&&(A._loggedIn=!1,A.dispatchEvent(new l.IRtcEvent("disconnect")))})),A._socket.emit("login",n,(function(e,n){"ok"===e&&(A._loggedIn=!0,A._onReconnectionTicket(n.reconnectionTicket),A._socket.on("connect",(function(){A._socket.emit("relogin",A._reconnectionTicket,(function(e,n){if("ok"===e){if(A._cacheMsgs.length>0){var r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var A=0,r=function(){};return{s:r,n:function(){return A>=e.length?{done:!0}:{done:!1,value:e[A++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}(A._cacheMsgs);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.name,c=o.data;A._socket.emit(a,c,(function(e,n){B(e,n,t,s)}))}}catch(e){i.e(e)}finally{i.f()}A._cacheMsgs=[]}A.dispatchEvent(new l.IRtcEvent("reconnected")),A._reconnectTimes=0,A._onReconnectionTicket(n)}else A.dispatchEvent(new l.IRtcEvent("disconnect"))}))}))),B(e,n,t,s)}))}))}},{key:"disconnect",value:function(){var e=this;return!this._socket||this._socket.disconnected?Promise.reject(new f.ConferenceError("Portal is not connected.")):new Promise((function(t,n){e._socket.emit("logout",(function(A,r){e._reconnectTimes=e._config.reconnectionAttempts,e._socket.disconnect(),B(A,r,t,n)}))}))}},{key:"send",value:function(e,t){var n=this;return new Promise((function(A,r){n._socket&&n._socket.connected?n._socket.emit(e,t,(function(e,t){B(e,t,A,r)})):n._cacheMsgs.push({name:e,data:t})}))}},{key:"_onReconnectionTicket",value:function(e){var t=this;this._reconnectionTicket=e;var n=JSON.parse(d.Base64.decodeBase64(e)),A=Date.now();if(n.notAfter<=A-1e4)u.default.warning("Reconnection ticket expires too soon.");else{var r=n.notAfter-A-6e4;r<0&&(r=n.notAfter-A-1e4),this._clearReconnectionTask(),this._refreshReconnectionTicket=setTimeout((function(){t._socket.emit("refreshReconnectionTicket",(function(e,n){"ok"===e?t._onReconnectionTicket(n):u.default.warning("Failed to refresh reconnection ticket.")}))}),r)}}},{key:"_clearReconnectionTask",value:function(){clearTimeout(this._refreshReconnectionTicket),this._refreshReconnectionTicket=null}}]),n}(l.EventDispatcher);n.SioSignaling=y},{"../../dependencies/socket.io.js":14,"../../dependencies/weapp.socket.io.js":15,"../base/base64.js":16,"../base/event.js":18,"../base/logger.js":20,"../base/utils.js":27,"./error.js":30,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/getPrototypeOf":5,"@babel/runtime/helpers/inherits":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/possibleConstructorReturn":10,"@babel/runtime/helpers/typeof":12}],38:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/typeof");Object.defineProperty(n,"__esModule",{value:!0}),n.convertToPublicationSettings=function(e){var t,n,A,s,a,c,u,l;return e.audio&&(e.audio.format&&(n=new o.AudioCodecParameters(e.audio.format.codec,e.audio.format.channelNum,e.audio.format.sampleRate)),t=new r.AudioPublicationSettings(n)),e.video&&(e.video.format&&(s=new o.VideoCodecParameters(e.video.format.codec,e.video.format.profile)),e.video.parameters&&(e.video.parameters.resolution&&(a=new i.Resolution(e.video.parameters.resolution.width,e.video.parameters.resolution.height)),c=e.video.parameters.framerate,u=1e3*e.video.parameters.bitrate,l=e.video.parameters.keyFrameInterval),A=new r.VideoPublicationSettings(s,a,c,u,l)),new r.PublicationSettings(t,A)},n.convertToSubscriptionCapabilities=function(e){var t,n;if(e.audio){var A=[];if(e.audio&&e.audio.format&&A.push(new o.AudioCodecParameters(e.audio.format.codec,e.audio.format.channelNum,e.audio.format.sampleRate)),e.audio&&e.audio.optional&&e.audio.optional.format){var r,a=u(e.audio.optional.format);try{for(a.s();!(r=a.n()).done;){var c=r.value,l=new o.AudioCodecParameters(c.codec,c.channelNum,c.sampleRate);A.push(l)}}catch(e){a.e(e)}finally{a.f()}}A.sort(),t=new s.AudioSubscriptionCapabilities(A)}if(e.video){var d=[];if(e.video&&e.video.format&&d.push(new o.VideoCodecParameters(e.video.format.codec,e.video.format.profile)),e.video&&e.video.optional&&e.video.optional.format){var p,g=u(e.video.optional.format);try{for(g.s();!(p=g.n()).done;){var v=p.value,w=new o.VideoCodecParameters(v.codec,v.profile);d.push(w)}}catch(e){g.e(e)}finally{g.f()}}d.sort();var m=Array.from(e.video.optional.parameters.resolution,(function(e){return new i.Resolution(e.width,e.height)}));e.video&&e.video.parameters&&e.video.parameters.resolution&&m.push(new i.Resolution(e.video.parameters.resolution.width,e.video.parameters.resolution.height)),m.sort(h);var B=Array.from(e.video.optional.parameters.bitrate,(function(e){return function(e){return"string"==typeof e&&e.startsWith("x")?Number.parseFloat(e.replace(/^x/,"")):(L.Logger.warning("Invalid bitrate multiplier input."),0)}(e)}));B.push(1),B.sort(f);var y=JSON.parse(JSON.stringify(e.video.optional.parameters.framerate));e.video&&e.video.parameters&&e.video.parameters.framerate&&y.push(e.video.parameters.framerate),y.sort(f);var b=JSON.parse(JSON.stringify(e.video.optional.parameters.keyFrameInterval));e.video&&e.video.parameters&&e.video.parameters.keyFrameInterval&&b.push(e.video.parameters.keyFrameInterval),b.sort(f),n=new s.VideoSubscriptionCapabilities(d,m,y,B,b)}return new s.SubscriptionCapabilities(t,n)};var r=c(e("../base/publication.js")),i=c(e("../base/mediaformat.js")),o=c(e("../base/codec.js")),s=c(e("./subscription.js"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==A(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var A=0,r=function(){};return{s:r,n:function(){return A>=e.length?{done:!0}:{done:!1,value:e[A++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,A=new Array(t);n<t;n++)A[n]=e[n];return A}function f(e,t){return e-t}function h(e,t){return e.width!==t.width?e.width-t.width:e.height-t.height}},{"../base/codec.js":17,"../base/mediaformat.js":21,"../base/publication.js":23,"./subscription.js":39,"@babel/runtime/helpers/typeof":12}],39:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof");Object.defineProperty(n,"__esModule",{value:!0}),n.VideoSubscriptionUpdateOptions=n.VideoSubscriptionConstraints=n.VideoSubscriptionCapabilities=n.SubscriptionUpdateOptions=n.SubscriptionCapabilities=n.Subscription=n.SubscribeOptions=n.AudioSubscriptionConstraints=n.AudioSubscriptionCapabilities=void 0;var i=A(e("@babel/runtime/helpers/assertThisInitialized")),o=A(e("@babel/runtime/helpers/inherits")),s=A(e("@babel/runtime/helpers/possibleConstructorReturn")),a=A(e("@babel/runtime/helpers/getPrototypeOf")),c=A(e("@babel/runtime/helpers/createClass")),u=A(e("@babel/runtime/helpers/classCallCheck")),l=(h(e("../base/mediaformat.js")),h(e("../base/codec.js")),e("../base/event.js"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var A={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(A,o,s):A[o]=e[o]}return A.default=e,n&&n.set(e,A),A}var d=(0,c.default)((function e(t){(0,u.default)(this,e),this.codecs=t}));n.AudioSubscriptionCapabilities=d;var p=(0,c.default)((function e(t,n,A,r,i){(0,u.default)(this,e),this.codecs=t,this.resolutions=n,this.frameRates=A,this.bitrateMultipliers=r,this.keyFrameIntervals=i}));n.VideoSubscriptionCapabilities=p;var g=(0,c.default)((function e(t,n){(0,u.default)(this,e),this.audio=t,this.video=n}));n.SubscriptionCapabilities=g;var v=(0,c.default)((function e(t){(0,u.default)(this,e),this.codecs=t}));n.AudioSubscriptionConstraints=v;var w=(0,c.default)((function e(t,n,A,r,i){(0,u.default)(this,e),this.codecs=t,this.resolution=n,this.frameRate=A,this.bitrateMultiplier=r,this.keyFrameInterval=i}));n.VideoSubscriptionConstraints=w;var m=(0,c.default)((function e(t,n){(0,u.default)(this,e),this.audio=t,this.video=n}));n.SubscribeOptions=m;var B=(0,c.default)((function e(){(0,u.default)(this,e),this.resolution=void 0,this.frameRate=void 0,this.bitrateMultipliers=void 0,this.keyFrameInterval=void 0}));n.VideoSubscriptionUpdateOptions=B;var y=(0,c.default)((function e(){(0,u.default)(this,e),this.video=void 0}));n.SubscriptionUpdateOptions=y;var b=function(e){(0,o.default)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,A=(0,a.default)(e);if(t){var r=(0,a.default)(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return(0,s.default)(this,n)}}(n);function n(e,A,r,o,s,a,c){var l;if((0,u.default)(this,n),l=t.call(this),!e)throw new TypeError("ID cannot be null or undefined.");return Object.defineProperty((0,i.default)(l),"id",{configurable:!1,writable:!1,value:e}),l.stop=A,l.getStats=r,l.getConnectionStats=o,l.mute=s,l.unmute=a,l.applyOptions=c,l}return(0,c.default)(n)}(l.EventDispatcher);n.Subscription=b},{"../base/codec.js":17,"../base/event.js":18,"../base/mediaformat.js":21,"@babel/runtime/helpers/assertThisInitialized":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/getPrototypeOf":5,"@babel/runtime/helpers/inherits":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/possibleConstructorReturn":10,"@babel/runtime/helpers/typeof":12}],40:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/interopRequireDefault"),r=e("@babel/runtime/helpers/typeof");Object.defineProperty(n,"__esModule",{value:!0}),n.Whiteboard=void 0;var i=A(e("@babel/runtime/helpers/createClass")),o=A(e("@babel/runtime/helpers/classCallCheck")),s=A(e("@babel/runtime/helpers/assertThisInitialized")),a=A(e("@babel/runtime/helpers/inherits")),c=A(e("@babel/runtime/helpers/possibleConstructorReturn")),u=A(e("@babel/runtime/helpers/getPrototypeOf"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var f=function(e){(0,a.default)(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,A=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return(0,c.default)(this,n)}}(n);function n(e,A,r,i,a){var c;return(0,o.default)(this,n),c=t.call(this),Object.defineProperty((0,s.default)(c),"id",{configurable:!1,writable:!1,value:e}),Object.defineProperty((0,s.default)(c),"owner",{configurable:!1,writable:!1,value:A}),Object.defineProperty((0,s.default)(c),"name",{configurable:!1,writable:!1,value:r}),Object.defineProperty((0,s.default)(c),"uri",{configurable:!1,writable:!1,value:i}),Object.defineProperty((0,s.default)(c),"attributes",{configurable:!1,writable:!1,value:a}),c}return(0,i.default)(n)}(function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var A={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(A,o,s):A[o]=e[o]}return A.default=e,n&&n.set(e,A),A}(e("../base/event.js")).EventDispatcher);n.Whiteboard=f},{"../base/event.js":18,"@babel/runtime/helpers/assertThisInitialized":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":4,"@babel/runtime/helpers/getPrototypeOf":5,"@babel/runtime/helpers/inherits":6,"@babel/runtime/helpers/interopRequireDefault":7,"@babel/runtime/helpers/possibleConstructorReturn":10,"@babel/runtime/helpers/typeof":12}],41:[function(e,t,n){"use strict";var A=e("@babel/runtime/helpers/typeof");Object.defineProperty(n,"__esModule",{value:!0}),n.Conference=n.Base=void 0;var r=s(e("./base/export.js")),i=s(e("./conference/export.js"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==A(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}var a=r;n.Base=a;var c=i;n.Conference=c},{"./base/export.js":19,"./conference/export.js":31,"@babel/runtime/helpers/typeof":12}]},{},[41])(41)},"object"==s(t)&&void 0!==e?e.exports=o():(r=[],void 0===(i="function"==typeof(A=o)?A.apply(t,r):A)||(e.exports=i))},function(e,t,n){e.exports=n(88)},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var A,r,i,o=n(14);
/*!
 * html2canvas 1.4.0 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
i=function(){"use strict";
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
    Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function A(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(A.prototype=n.prototype,new A)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,A=arguments.length;n<A;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function A(e,t,n,A){return new(n||(n=Promise))((function(r,i){function o(e){try{a(A.next(e))}catch(e){i(e)}}function s(e){try{a(A.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}a((A=A.apply(e,t||[])).next())}))}function r(e,t){var n,A,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,A&&(r=2&i[0]?A.return:i[0]?A.throw||((r=A.return)&&r.call(A),0):A.next)&&!(r=r.call(A,i[1])).done)return r;switch(A=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,A=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],A=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function i(e,t,n){if(n||2===arguments.length)for(var A,r=0,i=t.length;r<i;r++)!A&&r in t||(A||(A=Array.prototype.slice.call(t,0,r)),A[r]=t[r]);return e.concat(A||t)}for(var s=function(){function e(e,t,n,A){this.left=e,this.top=t,this.width=n,this.height=A}return e.prototype.add=function(t,n,A,r){return new e(this.left+t,this.top+n,this.width+A,this.height+r)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var A=Array.from(n).find((function(e){return 0!==e.width}));return A?new e(A.x+t.windowBounds.left,A.y+t.windowBounds.top,A.width,A.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),a=function(e,t){return s.fromClientRect(e,t.getBoundingClientRect())},c=function(e){for(var t=[],n=0,A=e.length;n<A;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<A){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&r)<<10)+(1023&i)+65536):(t.push(r),n--)}else t.push(r)}return t},u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var A=[],r=-1,i="";++r<n;){var o=e[r];o<=65535?A.push(o):(o-=65536,A.push(55296+(o>>10),o%1024+56320)),(r+1===n||A.length>16384)&&(i+=String.fromCharCode.apply(String,A),A.length=0)}return i},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"==typeof Uint8Array?[]:new Uint8Array(256),h=0;h<l.length;h++)f[l.charCodeAt(h)]=h;var d=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},p=function(){function e(e,t,n,A,r,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=A,this.index=r,this.data=i}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),g=10,v=13,w=15,m=17,B=18,y=19,b=20,C=21,k=22,E=24,S=25,Q=26,U=27,I=28,F=30,O=32,R=33,x=34,_=35,D=37,T=38,L=39,M=40,H=42,P=[9001,65288],j=function(e){var t,n,A,r=function(e){var t,n,A,r,i,o=.75*e.length,s=e.length,a=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),u=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<s;t+=4)n=f[e.charCodeAt(t)],A=f[e.charCodeAt(t+1)],r=f[e.charCodeAt(t+2)],i=f[e.charCodeAt(t+3)],u[a++]=n<<2|A>>4,u[a++]=(15&A)<<4|r>>2,u[a++]=(3&r)<<6|63&i;return c}(e),i=Array.isArray(r)?function(e){for(var t=e.length,n=[],A=0;A<t;A+=4)n.push(e[A+3]<<24|e[A+2]<<16|e[A+1]<<8|e[A]);return n}(r):new Uint32Array(r),o=Array.isArray(r)?function(e){for(var t=e.length,n=[],A=0;A<t;A+=2)n.push(e[A+1]<<8|e[A]);return n}(r):new Uint16Array(r),s=d(o,12,i[4]/2),a=2===i[5]?d(o,(24+i[4])/2):(t=i,n=Math.ceil((24+i[4])/4),t.slice?t.slice(n,A):new Uint32Array(Array.prototype.slice.call(t,n,A)));return new p(i[0],i[1],i[2],i[3],s,a)}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),N=[F,36],K=[1,2,3,5],V=[g,8],G=[U,Q],W=K.concat(V),q=[T,L,M,x,_],J=[w,v],Y=function(e,t,n,A){var r=A[n];if(Array.isArray(e)?-1!==e.indexOf(r):e===r)for(var i=n;i<=A.length;){if((a=A[++i])===t)return!0;if(a!==g)break}if(r===g)for(i=n;i>0;){var o=A[--i];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var s=n;s<=A.length;){var a;if((a=A[++s])===t)return!0;if(a!==g)break}if(o!==g)break}return!1},X=function(e,t){for(var n=e;n>=0;){var A=t[n];if(A!==g)return A;n--}return 0},Z=function(e,t,n,A,r){if(0===n[A])return"×";var i=A-1;if(Array.isArray(r)&&!0===r[i])return"×";var o=i-1,s=i+1,a=t[i],c=o>=0?t[o]:0,u=t[s];if(2===a&&3===u)return"×";if(-1!==K.indexOf(a))return"!";if(-1!==K.indexOf(u))return"×";if(-1!==V.indexOf(u))return"×";if(8===X(i,t))return"÷";if(11===j.get(e[i]))return"×";if((a===O||a===R)&&11===j.get(e[s]))return"×";if(7===a||7===u)return"×";if(9===a)return"×";if(-1===[g,v,w].indexOf(a)&&9===u)return"×";if(-1!==[m,B,y,E,I].indexOf(u))return"×";if(X(i,t)===k)return"×";if(Y(23,k,i,t))return"×";if(Y([m,B],C,i,t))return"×";if(Y(12,12,i,t))return"×";if(a===g)return"÷";if(23===a||23===u)return"×";if(16===u||16===a)return"÷";if(-1!==[v,w,C].indexOf(u)||14===a)return"×";if(36===c&&-1!==J.indexOf(a))return"×";if(a===I&&36===u)return"×";if(u===b)return"×";if(-1!==N.indexOf(u)&&a===S||-1!==N.indexOf(a)&&u===S)return"×";if(a===U&&-1!==[D,O,R].indexOf(u)||-1!==[D,O,R].indexOf(a)&&u===Q)return"×";if(-1!==N.indexOf(a)&&-1!==G.indexOf(u)||-1!==G.indexOf(a)&&-1!==N.indexOf(u))return"×";if(-1!==[U,Q].indexOf(a)&&(u===S||-1!==[k,w].indexOf(u)&&t[s+1]===S)||-1!==[k,w].indexOf(a)&&u===S||a===S&&-1!==[S,I,E].indexOf(u))return"×";if(-1!==[S,I,E,m,B].indexOf(u))for(var l=i;l>=0;){if((f=t[l])===S)return"×";if(-1===[I,E].indexOf(f))break;l--}if(-1!==[U,Q].indexOf(u))for(l=-1!==[m,B].indexOf(a)?o:i;l>=0;){var f;if((f=t[l])===S)return"×";if(-1===[I,E].indexOf(f))break;l--}if(T===a&&-1!==[T,L,x,_].indexOf(u)||-1!==[L,x].indexOf(a)&&-1!==[L,M].indexOf(u)||-1!==[M,_].indexOf(a)&&u===M)return"×";if(-1!==q.indexOf(a)&&-1!==[b,Q].indexOf(u)||-1!==q.indexOf(u)&&a===U)return"×";if(-1!==N.indexOf(a)&&-1!==N.indexOf(u))return"×";if(a===E&&-1!==N.indexOf(u))return"×";if(-1!==N.concat(S).indexOf(a)&&u===k&&-1===P.indexOf(e[s])||-1!==N.concat(S).indexOf(u)&&a===B)return"×";if(41===a&&41===u){for(var h=n[i],d=1;h>0&&41===t[--h];)d++;if(d%2!=0)return"×"}return a===O&&u===R?"×":"÷"},z=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=function(e,t){void 0===t&&(t="strict");var n=[],A=[],r=[];return e.forEach((function(e,i){var o=j.get(e);if(o>50?(r.push(!0),o-=50):r.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return A.push(i),n.push(16);if(4===o||11===o){if(0===i)return A.push(i),n.push(F);var s=n[i-1];return-1===W.indexOf(s)?(A.push(A[i-1]),n.push(s)):(A.push(i),n.push(F))}return A.push(i),31===o?n.push("strict"===t?C:D):o===H||29===o?n.push(F):43===o?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(D):n.push(F):void n.push(o)})),[A,n,r]}(e,t.lineBreak),A=n[0],r=n[1],i=n[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(r=r.map((function(e){return-1!==[S,F,H].indexOf(e)?D:e}))),[A,r,"keep-all"===t.wordBreak?i.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0]},$=function(){function e(e,t,n,A){this.codePoints=e,this.required="!"===t,this.start=n,this.end=A}return e.prototype.slice=function(){return u.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),ee=function(e){return e>=48&&e<=57},te=function(e){return ee(e)||e>=65&&e<=70||e>=97&&e<=102},ne=function(e){return 10===e||9===e||32===e},Ae=function(e){return function(e){return function(e){return e>=97&&e<=122}(e)||function(e){return e>=65&&e<=90}(e)}(e)||function(e){return e>=128}(e)||95===e},re=function(e){return Ae(e)||ee(e)||45===e},ie=function(e){return e>=0&&e<=8||11===e||e>=14&&e<=31||127===e},oe=function(e,t){return 92===e&&10!==t},se=function(e,t,n){return 45===e?Ae(t)||oe(t,n):!!Ae(e)||!(92!==e||!oe(e,t))},ae=function(e,t,n){return 43===e||45===e?!!ee(t)||46===t&&ee(n):ee(46===e?t:e)},ce=function(e){var t=0,n=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(n=-1),t++);for(var A=[];ee(e[t]);)A.push(e[t++]);var r=A.length?parseInt(u.apply(void 0,A),10):0;46===e[t]&&t++;for(var i=[];ee(e[t]);)i.push(e[t++]);var o=i.length,s=o?parseInt(u.apply(void 0,i),10):0;69!==e[t]&&101!==e[t]||t++;var a=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(a=-1),t++);for(var c=[];ee(e[t]);)c.push(e[t++]);var l=c.length?parseInt(u.apply(void 0,c),10):0;return n*(r+s*Math.pow(10,-o))*Math.pow(10,a*l)},ue={type:2},le={type:3},fe={type:4},he={type:13},de={type:8},pe={type:21},ge={type:9},ve={type:10},we={type:11},me={type:12},Be={type:14},ye={type:23},be={type:1},Ce={type:25},ke={type:24},Ee={type:26},Se={type:27},Qe={type:28},Ue={type:29},Ie={type:31},Fe={type:32},Oe=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(c(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Fe;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),A=this.peekCodePoint(2);if(re(t)||oe(n,A)){var r=se(t,n,A)?2:1;return{type:5,value:this.consumeName(),flags:r}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),he;break;case 39:return this.consumeStringToken(39);case 40:return ue;case 41:return le;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Be;break;case 43:if(ae(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return fe;case 45:var i=e,o=this.peekCodePoint(0),s=this.peekCodePoint(1);if(ae(i,o,s))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(se(i,o,s))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(45===o&&62===s)return this.consumeCodePoint(),this.consumeCodePoint(),ke;break;case 46:if(ae(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var a=this.consumeCodePoint();if(42===a&&47===(a=this.consumeCodePoint()))return this.consumeToken();if(-1===a)return this.consumeToken()}break;case 58:return Ee;case 59:return Se;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),Ce;break;case 64:var c=this.peekCodePoint(0),l=this.peekCodePoint(1),f=this.peekCodePoint(2);if(se(c,l,f))return{type:7,value:this.consumeName()};break;case 91:return Qe;case 92:if(oe(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return Ue;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),de;break;case 123:return we;case 125:return me;case 117:case 85:var h=this.peekCodePoint(0),d=this.peekCodePoint(1);return 43!==h||!te(d)&&63!==d||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ge;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),pe;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ve;break;case-1:return Fe}return ne(e)?(this.consumeWhiteSpace(),Ie):ee(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Ae(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:u(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();te(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(u.apply(void 0,e.map((function(e){return 63===e?48:e}))),16),end:parseInt(u.apply(void 0,e.map((function(e){return 63===e?70:e}))),16)};var A=parseInt(u.apply(void 0,e),16);if(45===this.peekCodePoint(0)&&te(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var r=[];te(t)&&r.length<6;)r.push(t),t=this.consumeCodePoint();return{type:30,start:A,end:parseInt(u.apply(void 0,r),16)}}return{type:30,start:A,end:A}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var t=this.peekCodePoint(0);if(39===t||34===t){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),ye)}for(;;){var A=this.consumeCodePoint();if(-1===A||41===A)return{type:22,value:u.apply(void 0,e)};if(ne(A))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:u.apply(void 0,e)}):(this.consumeBadUrlRemnants(),ye);if(34===A||39===A||40===A||ie(A))return this.consumeBadUrlRemnants(),ye;if(92===A){if(!oe(A,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),ye;e.push(this.consumeEscapedCodePoint())}else e.push(A)}},e.prototype.consumeWhiteSpace=function(){for(;ne(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||-1===e)return;oe(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t="";e>0;){var n=Math.min(5e4,e);t+=u.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),t},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var A=this._value[n];if(-1===A||void 0===A||A===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(10===A)return this._value.splice(0,n),be;if(92===A){var r=this._value[n+1];-1!==r&&void 0!==r&&(10===r?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):oe(A,r)&&(t+=this.consumeStringSlice(n),t+=u(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=4,n=this.peekCodePoint(0);for(43!==n&&45!==n||e.push(this.consumeCodePoint());ee(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var A=this.peekCodePoint(1);if(46===n&&ee(A))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;ee(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),A=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((69===n||101===n)&&((43===A||45===A)&&ee(r)||ee(A)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;ee(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[ce(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],A=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);return se(A,r,i)?{type:15,number:t,flags:n,unit:this.consumeName()}:37===A?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(te(e)){for(var t=u(e);te(this.peekCodePoint(0))&&t.length<6;)t+=u(this.consumeCodePoint());ne(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||function(e){return e>=55296&&e<=57343}(n)||n>1114111?65533:n}return-1===e?65533:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(re(t))e+=u(t);else{if(!oe(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=u(this.consumeEscapedCodePoint())}}},e}(),Re=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Oe;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||je(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?Fe:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),xe=function(e){return 15===e.type},_e=function(e){return 17===e.type},De=function(e){return 20===e.type},Te=function(e){return 0===e.type},Le=function(e,t){return De(e)&&e.value===t},Me=function(e){return 31!==e.type},He=function(e){return 31!==e.type&&4!==e.type},Pe=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},je=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Ne=function(e){return 17===e.type||15===e.type},Ke=function(e){return 16===e.type||Ne(e)},Ve=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Ge={type:17,number:0,flags:4},We={type:16,number:50,flags:4},qe={type:16,number:100,flags:4},Je=function(e,t,n){var A=e[0],r=e[1];return[Ye(A,t),Ye(void 0!==r?r:A,n)]},Ye=function(e,t){if(16===e.type)return e.number/100*t;if(xe(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Xe=function(e,t){if(15===t.type)switch(t.unit){case"deg":return Math.PI*t.number/180;case"grad":return Math.PI/200*t.number;case"rad":return t.number;case"turn":return 2*Math.PI*t.number}throw new Error("Unsupported angle type")},Ze=function(e){return 15===e.type&&("deg"===e.unit||"grad"===e.unit||"rad"===e.unit||"turn"===e.unit)},ze=function(e){switch(e.filter(De).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ge,Ge];case"to top":case"bottom":return $e(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ge,qe];case"to right":case"left":return $e(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[qe,qe];case"to bottom":case"top":return $e(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[qe,Ge];case"to left":case"right":return $e(270)}return 0},$e=function(e){return Math.PI*e/180},et=function(e,t){if(18===t.type){var n=ct[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var A=t.value.substring(0,1),r=t.value.substring(1,2),i=t.value.substring(2,3);return At(parseInt(A+A,16),parseInt(r+r,16),parseInt(i+i,16),1)}if(4===t.value.length){A=t.value.substring(0,1),r=t.value.substring(1,2),i=t.value.substring(2,3);var o=t.value.substring(3,4);return At(parseInt(A+A,16),parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(6===t.value.length)return A=t.value.substring(0,2),r=t.value.substring(2,4),i=t.value.substring(4,6),At(parseInt(A,16),parseInt(r,16),parseInt(i,16),1);if(8===t.value.length)return A=t.value.substring(0,2),r=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8),At(parseInt(A,16),parseInt(r,16),parseInt(i,16),parseInt(o,16)/255)}if(20===t.type){var s=lt[t.value.toUpperCase()];if(void 0!==s)return s}return lt.TRANSPARENT},tt=function(e){return 0==(255&e)},nt=function(e){var t=255&e,n=255&e>>8,A=255&e>>16,r=255&e>>24;return t<255?"rgba("+r+","+A+","+n+","+t/255+")":"rgb("+r+","+A+","+n+")"},At=function(e,t,n,A){return(e<<24|t<<16|n<<8|Math.round(255*A)<<0)>>>0},rt=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},it=function(e,t){var n=t.filter(He);if(3===n.length){var A=n.map(rt),r=A[0],i=A[1],o=A[2];return At(r,i,o,1)}if(4===n.length){var s=n.map(rt),a=(r=s[0],i=s[1],o=s[2],s[3]);return At(r,i,o,a)}return 0};function ot(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var st,at=function(e,t){var n=t.filter(He),A=n[0],r=n[1],i=n[2],o=n[3],s=(17===A.type?$e(A.number):Xe(e,A))/(2*Math.PI),a=Ke(r)?r.number/100:0,c=Ke(i)?i.number/100:0,u=void 0!==o&&Ke(o)?Ye(o,1):1;if(0===a)return At(255*c,255*c,255*c,1);var l=c<=.5?c*(a+1):c+a-c*a,f=2*c-l,h=ot(f,l,s+1/3),d=ot(f,l,s),p=ot(f,l,s-1/3);return At(255*h,255*d,255*p,u)},ct={hsl:at,hsla:at,rgb:it,rgba:it},ut=function(e,t){return et(e,Re.create(t).parseComponentValue())},lt={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ft={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(De(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},ht={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dt=function(e,t){var n=et(e,t[0]),A=t[1];return A&&Ke(A)?{color:n,stop:A}:{color:n,stop:null}},pt=function(e,t){var n=e[0],A=e[e.length-1];null===n.stop&&(n.stop=Ge),null===A.stop&&(A.stop=qe);for(var r=[],i=0,o=0;o<e.length;o++){var s=e[o].stop;if(null!==s){var a=Ye(s,t);a>i?r.push(a):r.push(i),i=a}else r.push(null)}var c=null;for(o=0;o<r.length;o++){var u=r[o];if(null===u)null===c&&(c=o);else if(null!==c){for(var l=o-c,f=(u-r[c-1])/(l+1),h=1;h<=l;h++)r[c+h-1]=f*h;c=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,r[n]/t),0)}}))},gt=function(e,t,n){var A="number"==typeof e?e:function(e,t,n){var A=t/2,r=n/2,i=Ye(e[0],t)-A,o=r-Ye(e[1],n);return(Math.atan2(o,i)+2*Math.PI)%(2*Math.PI)}(e,t,n),r=Math.abs(t*Math.sin(A))+Math.abs(n*Math.cos(A)),i=t/2,o=n/2,s=r/2,a=Math.sin(A-Math.PI/2)*s,c=Math.cos(A-Math.PI/2)*s;return[r,i-c,i+c,o-a,o+a]},vt=function(e,t){return Math.sqrt(e*e+t*t)},wt=function(e,t,n,A,r){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var i=t[0],o=t[1],s=vt(n-i,A-o);return(r?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e}),{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},mt=function(e,t){var n=$e(180),A=[];return Pe(t).forEach((function(t,r){if(0===r){var i=t[0];if(20===i.type&&-1!==["top","left","right","bottom"].indexOf(i.value))return void(n=ze(t));if(Ze(i))return void(n=(Xe(e,i)+$e(270))%$e(360))}var o=dt(e,t);A.push(o)})),{angle:n,stops:A,type:1}},Bt=function(e,t){var n=0,A=3,r=[],i=[];return Pe(t).forEach((function(t,o){var s=!0;if(0===o?s=t.reduce((function(e,t){if(De(t))switch(t.value){case"center":return i.push(We),!1;case"top":case"left":return i.push(Ge),!1;case"right":case"bottom":return i.push(qe),!1}else if(Ke(t)||Ne(t))return i.push(t),!1;return e}),s):1===o&&(s=t.reduce((function(e,t){if(De(t))switch(t.value){case"circle":return n=0,!1;case"ellipse":return n=1,!1;case"contain":case"closest-side":return A=0,!1;case"farthest-side":return A=1,!1;case"closest-corner":return A=2,!1;case"cover":case"farthest-corner":return A=3,!1}else if(Ne(t)||Ke(t))return Array.isArray(A)||(A=[]),A.push(t),!1;return e}),s)),s){var a=dt(e,t);r.push(a)}})),{size:A,shape:n,stops:r,position:i,type:2}},yt=function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var A=bt[t.name];if(void 0===A)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return A(e,t.values)}throw new Error("Unsupported image type "+t.type)},bt={"linear-gradient":function(e,t){var n=$e(180),A=[];return Pe(t).forEach((function(t,r){if(0===r){var i=t[0];if(20===i.type&&"to"===i.value)return void(n=ze(t));if(Ze(i))return void(n=Xe(e,i))}var o=dt(e,t);A.push(o)})),{angle:n,stops:A,type:1}},"-moz-linear-gradient":mt,"-ms-linear-gradient":mt,"-o-linear-gradient":mt,"-webkit-linear-gradient":mt,"radial-gradient":function(e,t){var n=0,A=3,r=[],i=[];return Pe(t).forEach((function(t,o){var s=!0;if(0===o){var a=!1;s=t.reduce((function(e,t){if(a)if(De(t))switch(t.value){case"center":return i.push(We),e;case"top":case"left":return i.push(Ge),e;case"right":case"bottom":return i.push(qe),e}else(Ke(t)||Ne(t))&&i.push(t);else if(De(t))switch(t.value){case"circle":return n=0,!1;case"ellipse":return n=1,!1;case"at":return a=!0,!1;case"closest-side":return A=0,!1;case"cover":case"farthest-side":return A=1,!1;case"contain":case"closest-corner":return A=2,!1;case"farthest-corner":return A=3,!1}else if(Ne(t)||Ke(t))return Array.isArray(A)||(A=[]),A.push(t),!1;return e}),s)}if(s){var c=dt(e,t);r.push(c)}})),{size:A,shape:n,stops:r,position:i,type:2}},"-moz-radial-gradient":Bt,"-ms-radial-gradient":Bt,"-o-radial-gradient":Bt,"-webkit-radial-gradient":Bt,"-webkit-gradient":function(e,t){var n=$e(180),A=[],r=1;return Pe(t).forEach((function(t,n){var i=t[0];if(0===n){if(De(i)&&"linear"===i.value)return void(r=1);if(De(i)&&"radial"===i.value)return void(r=2)}if(18===i.type)if("from"===i.name){var o=et(e,i.values[0]);A.push({stop:Ge,color:o})}else if("to"===i.name)o=et(e,i.values[0]),A.push({stop:qe,color:o});else if("color-stop"===i.name){var s=i.values.filter(He);if(2===s.length){o=et(e,s[1]);var a=s[0];_e(a)&&A.push({stop:{type:16,number:100*a.number,flags:a.flags},color:o})}}})),1===r?{angle:(n+$e(180))%$e(360),stops:A,type:r}:{size:3,shape:0,stops:A,position:[],type:r}}},Ct={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return He(e)&&function(e){return!(20===e.type&&"none"===e.value||18===e.type&&!bt[e.name])}(e)})).map((function(t){return yt(e,t)}))}},kt={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(De(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Et={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Pe(t).map((function(e){return e.filter(Ke)})).map(Ve)}},St={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Pe(t).map((function(e){return e.filter(De).map((function(e){return e.value})).join(" ")})).map(Qt)}},Qt=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(st||(st={}));var Ut,It={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Pe(t).map((function(e){return e.filter(Ft)}))}},Ft=function(e){return De(e)||Ke(e)},Ot=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Rt=Ot("top"),xt=Ot("right"),_t=Ot("bottom"),Dt=Ot("left"),Tt=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Ve(t.filter(Ke))}}},Lt=Tt("top-left"),Mt=Tt("top-right"),Ht=Tt("bottom-right"),Pt=Tt("bottom-left"),jt=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Nt=jt("top"),Kt=jt("right"),Vt=jt("bottom"),Gt=jt("left"),Wt=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return xe(t)?t.number:0}}},qt=Wt("top"),Jt=Wt("right"),Yt=Wt("bottom"),Xt=Wt("left"),Zt={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zt={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},$t={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(De).reduce((function(e,t){return e|en(t.value)}),0)}},en=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},tn={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},nn={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Ut||(Ut={}));var An,rn={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return Ut.STRICT;case"normal":default:return Ut.NORMAL}}},on={name:"line-height",initialValue:"normal",prefix:!1,type:4},sn=function(e,t){return De(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Ke(e)?Ye(e,t):t},an={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:yt(e,t)}},cn={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},un={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},ln=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},fn=ln("top"),hn=ln("right"),dn=ln("bottom"),pn=ln("left"),gn={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(De).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}}))}},vn={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},wn=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},mn=wn("top"),Bn=wn("right"),yn=wn("bottom"),bn=wn("left"),Cn={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},kn={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},En={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Le(t[0],"none")?[]:Pe(t).map((function(t){for(var n={color:lt.TRANSPARENT,offsetX:Ge,offsetY:Ge,blur:Ge},A=0,r=0;r<t.length;r++){var i=t[r];Ne(i)?(0===A?n.offsetX=i:1===A?n.offsetY=i:n.blur=i,A++):n.color=et(e,i)}return n}))}},Sn={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Qn={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=Un[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},Un={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],A=t[1];t[2],t[3];var r=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],s=t[13];return t[14],t[15],16===t.length?[n,A,r,i,o,s]:null}},In={type:16,number:50,flags:4},Fn=[In,In],On={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Ke);return 2!==n.length?Fn:[n[0],n[1]]}},Rn={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(An||(An={}));for(var xn={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return An.BREAK_ALL;case"keep-all":return An.KEEP_ALL;case"normal":default:return An.NORMAL}}},_n={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(_e(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Dn=function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")},Tn={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return _e(t)?t.number:1}},Ln={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Mn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(De).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},Hn={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],A=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:A.push(n.join(" ")),n.length=0}})),n.length&&A.push(n.join(" ")),A.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},Pn={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},jn={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(_e(t))return t.number;if(De(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Nn={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(De).map((function(e){return e.value}))}},Kn={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Vn=function(e,t){return 0!=(e&t)},Gn={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},Wn={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var A=[],r=t.filter(Me),i=0;i<r.length;i++){var o=r[i],s=r[i+1];if(20===o.type){var a=s&&_e(s)?s.number:1;A.push({counter:o.value,increment:a})}}return A}},qn={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],A=t.filter(Me),r=0;r<A.length;r++){var i=A[r],o=A[r+1];if(De(i)&&"none"!==i.value){var s=o&&_e(o)?o.number:0;n.push({counter:i.value,reset:s})}}return n}},Jn={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(xe).map((function(t){return Dn(e,t)}))}},Yn={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var A=[],r=t.filter(Te);if(r.length%2!=0)return null;for(var i=0;i<r.length;i+=2){var o=r[i].value,s=r[i+1].value;A.push({open:o,close:s})}return A}},Xn=function(e,t,n){if(!e)return"";var A=e[Math.min(t,e.length-1)];return A?n?A.open:A.close:""},Zn={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Le(t[0],"none")?[]:Pe(t).map((function(t){for(var n={color:255,offsetX:Ge,offsetY:Ge,blur:Ge,spread:Ge,inset:!1},A=0,r=0;r<t.length;r++){var i=t[r];Le(i,"inset")?n.inset=!0:Ne(i)?(0===A?n.offsetX=i:1===A?n.offsetY=i:2===A?n.blur=i:n.spread=i,A++):n.color=et(e,i)}return n}))}},zn={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[];return t.filter(De).forEach((function(e){switch(e.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}})),[0,1,2].forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n}},$n={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},eA={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return xe(t)?t.number:0}},tA=function(){function e(e,t){var n,A;this.animationDuration=rA(e,Jn,t.animationDuration),this.backgroundClip=rA(e,ft,t.backgroundClip),this.backgroundColor=rA(e,ht,t.backgroundColor),this.backgroundImage=rA(e,Ct,t.backgroundImage),this.backgroundOrigin=rA(e,kt,t.backgroundOrigin),this.backgroundPosition=rA(e,Et,t.backgroundPosition),this.backgroundRepeat=rA(e,St,t.backgroundRepeat),this.backgroundSize=rA(e,It,t.backgroundSize),this.borderTopColor=rA(e,Rt,t.borderTopColor),this.borderRightColor=rA(e,xt,t.borderRightColor),this.borderBottomColor=rA(e,_t,t.borderBottomColor),this.borderLeftColor=rA(e,Dt,t.borderLeftColor),this.borderTopLeftRadius=rA(e,Lt,t.borderTopLeftRadius),this.borderTopRightRadius=rA(e,Mt,t.borderTopRightRadius),this.borderBottomRightRadius=rA(e,Ht,t.borderBottomRightRadius),this.borderBottomLeftRadius=rA(e,Pt,t.borderBottomLeftRadius),this.borderTopStyle=rA(e,Nt,t.borderTopStyle),this.borderRightStyle=rA(e,Kt,t.borderRightStyle),this.borderBottomStyle=rA(e,Vt,t.borderBottomStyle),this.borderLeftStyle=rA(e,Gt,t.borderLeftStyle),this.borderTopWidth=rA(e,qt,t.borderTopWidth),this.borderRightWidth=rA(e,Jt,t.borderRightWidth),this.borderBottomWidth=rA(e,Yt,t.borderBottomWidth),this.borderLeftWidth=rA(e,Xt,t.borderLeftWidth),this.boxShadow=rA(e,Zn,t.boxShadow),this.color=rA(e,Zt,t.color),this.direction=rA(e,zt,t.direction),this.display=rA(e,$t,t.display),this.float=rA(e,tn,t.cssFloat),this.fontFamily=rA(e,Hn,t.fontFamily),this.fontSize=rA(e,Pn,t.fontSize),this.fontStyle=rA(e,Kn,t.fontStyle),this.fontVariant=rA(e,Nn,t.fontVariant),this.fontWeight=rA(e,jn,t.fontWeight),this.letterSpacing=rA(e,nn,t.letterSpacing),this.lineBreak=rA(e,rn,t.lineBreak),this.lineHeight=rA(e,on,t.lineHeight),this.listStyleImage=rA(e,an,t.listStyleImage),this.listStylePosition=rA(e,cn,t.listStylePosition),this.listStyleType=rA(e,un,t.listStyleType),this.marginTop=rA(e,fn,t.marginTop),this.marginRight=rA(e,hn,t.marginRight),this.marginBottom=rA(e,dn,t.marginBottom),this.marginLeft=rA(e,pn,t.marginLeft),this.opacity=rA(e,Tn,t.opacity);var r=rA(e,gn,t.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=rA(e,vn,t.overflowWrap),this.paddingTop=rA(e,mn,t.paddingTop),this.paddingRight=rA(e,Bn,t.paddingRight),this.paddingBottom=rA(e,yn,t.paddingBottom),this.paddingLeft=rA(e,bn,t.paddingLeft),this.paintOrder=rA(e,zn,t.paintOrder),this.position=rA(e,kn,t.position),this.textAlign=rA(e,Cn,t.textAlign),this.textDecorationColor=rA(e,Ln,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=rA(e,Mn,null!==(A=t.textDecorationLine)&&void 0!==A?A:t.textDecoration),this.textShadow=rA(e,En,t.textShadow),this.textTransform=rA(e,Sn,t.textTransform),this.transform=rA(e,Qn,t.transform),this.transformOrigin=rA(e,On,t.transformOrigin),this.visibility=rA(e,Rn,t.visibility),this.webkitTextStrokeColor=rA(e,$n,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=rA(e,eA,t.webkitTextStrokeWidth),this.wordBreak=rA(e,xn,t.wordBreak),this.zIndex=rA(e,_n,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return tt(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return Vn(this.display,4)||Vn(this.display,33554432)||Vn(this.display,268435456)||Vn(this.display,536870912)||Vn(this.display,67108864)||Vn(this.display,134217728)},e}(),nA=function(e,t){this.content=rA(e,Gn,t.content),this.quotes=rA(e,Yn,t.quotes)},AA=function(e,t){this.counterIncrement=rA(e,Wn,t.counterIncrement),this.counterReset=rA(e,qn,t.counterReset)},rA=function(e,t,n){var A=new Oe,r=null!=n?n.toString():t.initialValue;A.write(r);var i=new Re(A.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(e,De(o)?o.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return Xe(e,i.parseComponentValue());case"color":return et(e,i.parseComponentValue());case"image":return yt(e,i.parseComponentValue());case"length":var s=i.parseComponentValue();return Ne(s)?s:Ge;case"length-percentage":var a=i.parseComponentValue();return Ke(a)?a:Ge;case"time":return Dn(e,i.parseComponentValue())}}},iA=function(e,t){var n=function(e){switch(e.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(e);return 1===n||t===n},oA=function(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,iA(t,3),this.styles=new tA(e,window.getComputedStyle(t,null)),ir(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=a(this.context,t),iA(t,4)&&(this.flags|=16)},sA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",aA="undefined"==typeof Uint8Array?[]:new Uint8Array(256),cA=0;cA<sA.length;cA++)aA[sA.charCodeAt(cA)]=cA;for(var uA=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},lA=function(){function e(e,t,n,A,r,i){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=A,this.index=r,this.data=i}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),fA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hA="undefined"==typeof Uint8Array?[]:new Uint8Array(256),dA=0;dA<fA.length;dA++)hA[fA.charCodeAt(dA)]=dA;var pA,gA=8,vA=9,wA=11,mA=12,BA=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var A=[],r=-1,i="";++r<n;){var o=e[r];o<=65535?A.push(o):(o-=65536,A.push(55296+(o>>10),o%1024+56320)),(r+1===n||A.length>16384)&&(i+=String.fromCharCode.apply(String,A),A.length=0)}return i},yA=function(e,t){var n,A,r,i=function(e){var t,n,A,r,i,o=.75*e.length,s=e.length,a=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),u=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<s;t+=4)n=aA[e.charCodeAt(t)],A=aA[e.charCodeAt(t+1)],r=aA[e.charCodeAt(t+2)],i=aA[e.charCodeAt(t+3)],u[a++]=n<<2|A>>4,u[a++]=(15&A)<<4|r>>2,u[a++]=(3&r)<<6|63&i;return c}(e),o=Array.isArray(i)?function(e){for(var t=e.length,n=[],A=0;A<t;A+=4)n.push(e[A+3]<<24|e[A+2]<<16|e[A+1]<<8|e[A]);return n}(i):new Uint32Array(i),s=Array.isArray(i)?function(e){for(var t=e.length,n=[],A=0;A<t;A+=2)n.push(e[A+1]<<8|e[A]);return n}(i):new Uint16Array(i),a=uA(s,12,o[4]/2),c=2===o[5]?uA(s,(24+o[4])/2):(n=o,A=Math.ceil((24+o[4])/4),n.slice?n.slice(A,r):new Uint32Array(Array.prototype.slice.call(n,A,r)));return new lA(o[0],o[1],o[2],o[3],a,c)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),bA=function(e){return yA.get(e)},CA=function(e,t,n){var A=n-2,r=t[A],i=t[n-1],o=t[n];if(2===i&&3===o)return"×";if(2===i||3===i||4===i)return"÷";if(2===o||3===o||4===o)return"÷";if(i===gA&&-1!==[gA,vA,wA,mA].indexOf(o))return"×";if(!(i!==wA&&i!==vA||o!==vA&&10!==o))return"×";if((i===mA||10===i)&&10===o)return"×";if(13===o||5===o)return"×";if(7===o)return"×";if(1===i)return"×";if(13===i&&14===o){for(;5===r;)r=t[--A];if(14===r)return"×"}if(15===i&&15===o){for(var s=0;15===r;)s++,r=t[--A];if(s%2==0)return"×"}return"÷"},kA=function(e){var t=function(e){for(var t=[],n=0,A=e.length;n<A;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<A){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&r)<<10)+(1023&i)+65536):(t.push(r),n--)}else t.push(r)}return t}(e),n=t.length,A=0,r=0,i=t.map(bA);return{next:function(){if(A>=n)return{done:!0,value:null};for(var e="×";A<n&&"×"===(e=CA(0,i,++A)););if("×"!==e||A===n){var o=BA.apply(null,t.slice(r,A));return r=A,{value:o,done:!1}}return{done:!0,value:null}}}},EA=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},SA=function(e,t,n,A,r){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",A.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(r),o},QA=function(e){return new Promise((function(t,n){var A=new Image;A.onload=function(){return t(A)},A.onerror=n,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},UA={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n);var A=t.getBoundingClientRect(),r=Math.round(A.height);if(e.body.removeChild(n),123===r)return!0}}return!1}(document);return Object.defineProperty(UA,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=UA.SUPPORT_RANGE_BOUNDS&&function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var A=t.firstChild,r=c(A.data).map((function(e){return u(e)})),i=0,o={},s=r.every((function(e,t){n.setStart(A,i),n.setEnd(A,i+e.length);var r=n.getBoundingClientRect();i+=e.length;var s=r.x>o.x||r.y>o.y;return o=r,0===t||s}));return e.body.removeChild(t),s}(document);return Object.defineProperty(UA,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,n=e.createElement("canvas"),A=n.getContext("2d");if(!A)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{A.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(UA,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(e){var t=e.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var A=new Image,r=t.toDataURL();A.src=r;var i=SA(100,100,0,0,A);return n.fillStyle="red",n.fillRect(0,0,100,100),QA(i).then((function(t){n.drawImage(t,0,0);var A=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var i=e.createElement("div");return i.style.backgroundImage="url("+r+")",i.style.height="100px",EA(A)?QA(SA(100,100,0,0,i)):Promise.reject(!1)})).then((function(e){return n.drawImage(e,0,0),EA(n.getImageData(0,0,100,100).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(UA,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(UA,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(UA,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(UA,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(UA,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},IA=function(e,t){this.text=e,this.bounds=t},FA=function(e,t){var n=t.ownerDocument;if(n){var A=n.createElement("html2canvaswrapper");A.appendChild(t.cloneNode(!0));var r=t.parentNode;if(r){r.replaceChild(A,t);var i=a(e,A);return A.firstChild&&r.replaceChild(A.firstChild,A),i}}return s.EMPTY},OA=function(e,t,n){var A=e.ownerDocument;if(!A)throw new Error("Node has no owner document");var r=A.createRange();return r.setStart(e,t),r.setEnd(e,t+n),r},RA=function(e){if(UA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return function(e){for(var t,n=kA(e),A=[];!(t=n.next()).done;)t.value&&A.push(t.value.slice());return A}(e)},xA=function(e,t){return 0!==t.letterSpacing?RA(e):function(e,t){if(UA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return DA(e,t)}(e,t)},_A=[32,160,4961,65792,65793,4153,4241],DA=function(e,t){for(var n,A=function(e,t){var n=c(e),A=z(n,t),r=A[0],i=A[1],o=A[2],s=n.length,a=0,u=0;return{next:function(){if(u>=s)return{done:!0,value:null};for(var e="×";u<s&&"×"===(e=Z(n,i,r,++u,o)););if("×"!==e||u===s){var t=new $(n,e,a,u);return a=u,{value:t,done:!1}}return{done:!0,value:null}}}}(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),r=[],i=function(){if(n.value){var e=n.value.slice(),t=c(e),A="";t.forEach((function(e){-1===_A.indexOf(e)?A+=u(e):(A.length&&r.push(A),r.push(u(e)),A="")})),A.length&&r.push(A)}};!(n=A.next()).done;)i();return r},TA=function(e,t,n){this.text=LA(t.data,n.textTransform),this.textBounds=function(e,t,n,A){var r=xA(t,n),i=[],o=0;return r.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(UA.SUPPORT_RANGE_BOUNDS){var r=OA(A,o,t.length).getClientRects();if(r.length>1){var a=RA(t),c=0;a.forEach((function(t){i.push(new IA(t,s.fromDOMRectList(e,OA(A,c+o,t.length).getClientRects()))),c+=t.length}))}else i.push(new IA(t,s.fromDOMRectList(e,r)))}else{var u=A.splitText(t.length);i.push(new IA(t,FA(e,A))),A=u}else UA.SUPPORT_RANGE_BOUNDS||(A=A.splitText(t.length));o+=t.length})),i}(e,this.text,n,t)},LA=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(MA,HA);case 2:return e.toUpperCase();default:return e}},MA=/(^|\s|:|-|\(|\))([a-z])/g,HA=function(e,t,n){return e.length>0?t+n.toUpperCase():e},PA=function(e){function n(t,n){var A=e.call(this,t,n)||this;return A.src=n.currentSrc||n.src,A.intrinsicWidth=n.naturalWidth,A.intrinsicHeight=n.naturalHeight,A.context.cache.addImage(A.src),A}return t(n,e),n}(oA),jA=function(e){function n(t,n){var A=e.call(this,t,n)||this;return A.canvas=n,A.intrinsicWidth=n.width,A.intrinsicHeight=n.height,A}return t(n,e),n}(oA),NA=function(e){function n(t,n){var A=e.call(this,t,n)||this,r=new XMLSerializer,i=a(t,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),A.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(n)),A.intrinsicWidth=n.width.baseVal.value,A.intrinsicHeight=n.height.baseVal.value,A.context.cache.addImage(A.svg),A}return t(n,e),n}(oA),KA=function(e){function n(t,n){var A=e.call(this,t,n)||this;return A.value=n.value,A}return t(n,e),n}(oA),VA=function(e){function n(t,n){var A=e.call(this,t,n)||this;return A.start=n.start,A.reversed="boolean"==typeof n.reversed&&!0===n.reversed,A}return t(n,e),n}(oA),GA=[{type:15,flags:0,unit:"px",number:3}],WA=[{type:16,flags:0,number:50}],qA="password",JA=function(e){function n(t,n){var A,r,i,o=e.call(this,t,n)||this;switch(o.type=n.type.toLowerCase(),o.checked=n.checked,o.value=0===(r=(A=n).type===qA?new Array(A.value.length+1).join("•"):A.value).length?A.placeholder||"":r,"checkbox"!==o.type&&"radio"!==o.type||(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=1,o.styles.backgroundClip=[0],o.styles.backgroundOrigin=[0],o.bounds=(i=o.bounds).width>i.height?new s(i.left+(i.width-i.height)/2,i.top,i.height,i.height):i.width<i.height?new s(i.left,i.top+(i.height-i.width)/2,i.width,i.width):i),o.type){case"checkbox":o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=GA;break;case"radio":o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=WA}return o}return t(n,e),n}(oA),YA=function(e){function n(t,n){var A=e.call(this,t,n)||this,r=n.options[n.selectedIndex||0];return A.value=r&&r.text||"",A}return t(n,e),n}(oA),XA=function(e){function n(t,n){var A=e.call(this,t,n)||this;return A.value=n.value,A}return t(n,e),n}(oA),ZA=function(e){function n(t,n){var A=e.call(this,t,n)||this;A.src=n.src,A.width=parseInt(n.width,10)||0,A.height=parseInt(n.height,10)||0,A.backgroundColor=A.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){A.tree=er(t,n.contentWindow.document.documentElement);var r=n.contentWindow.document.documentElement?ut(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):lt.TRANSPARENT,i=n.contentWindow.document.body?ut(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):lt.TRANSPARENT;A.backgroundColor=tt(r)?tt(i)?A.styles.backgroundColor:i:r}}catch(e){}return A}return t(n,e),n}(oA),zA=["OL","UL","MENU"],$A=function(e,t){return dr(t)?new PA(e,t):fr(t)?new jA(e,t):ur(t)?new NA(e,t):sr(t)?new KA(e,t):ar(t)?new VA(e,t):cr(t)?new JA(e,t):wr(t)?new YA(e,t):vr(t)?new XA(e,t):pr(t)?new ZA(e,t):new oA(e,t)},er=function(e,t){var n=$A(e,t);return n.flags|=4,function e(t,n,A,r){for(var i=n.firstChild,o=void 0;i;i=o)if(o=i.nextSibling,Ar(i)&&i.data.trim().length>0)A.textNodes.push(new TA(t,i,A.styles));else if(rr(i))if(mr(i)&&i.assignedNodes)i.assignedNodes().forEach((function(n){return e(t,n,A,r)}));else{var s=$A(t,i);s.styles.isVisible()&&(tr(i,s,r)?s.flags|=4:nr(s.styles)&&(s.flags|=2),-1!==zA.indexOf(i.tagName)&&(s.flags|=8),A.elements.push(s),i.slot,i.shadowRoot?e(t,i.shadowRoot,s,r):vr(i)||ur(i)||wr(i)||e(t,i,s,r))}}(e,t,n,n),n},tr=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||lr(e)&&n.styles.isTransparent()},nr=function(e){return e.isPositioned()||e.isFloating()},Ar=function(e){return e.nodeType===Node.TEXT_NODE},rr=function(e){return e.nodeType===Node.ELEMENT_NODE},ir=function(e){return rr(e)&&void 0!==e.style&&!or(e)},or=function(e){return"object"===o(e.className)},sr=function(e){return"LI"===e.tagName},ar=function(e){return"OL"===e.tagName},cr=function(e){return"INPUT"===e.tagName},ur=function(e){return"svg"===e.tagName},lr=function(e){return"BODY"===e.tagName},fr=function(e){return"CANVAS"===e.tagName},hr=function(e){return"VIDEO"===e.tagName},dr=function(e){return"IMG"===e.tagName},pr=function(e){return"IFRAME"===e.tagName},gr=function(e){return"STYLE"===e.tagName},vr=function(e){return"TEXTAREA"===e.tagName},wr=function(e){return"SELECT"===e.tagName},mr=function(e){return"SLOT"===e.tagName},Br=function(e){return e.tagName.indexOf("-")>0},yr=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,A=e.counterReset,r=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(r=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var i=[];return r&&A.forEach((function(e){var n=t.counters[e.counter];i.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),i},e}(),br={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Cr={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},kr={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Er={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Sr=function(e,t,n,A,r,i){return e<t||e>n?Or(e,r,i.length>0):A.integers.reduce((function(t,n,r){for(;e>=n;)e-=n,t+=A.values[r];return t}),"")+i},Qr=function(e,t,n,A){var r="";do{n||e--,r=A(e)+r,e/=t}while(e*t>=t);return r},Ur=function(e,t,n,A,r){var i=n-t+1;return(e<0?"-":"")+(Qr(Math.abs(e),i,A,(function(e){return u(Math.floor(e%i)+t)}))+r)},Ir=function(e,t,n){void 0===n&&(n=". ");var A=t.length;return Qr(Math.abs(e),A,!1,(function(e){return t[Math.floor(e%A)]}))+n},Fr=function(e,t,n,A,r,i){if(e<-9999||e>9999)return Or(e,4,r.length>0);var o=Math.abs(e),s=r;if(0===o)return t[0]+s;for(var a=0;o>0&&a<=4;a++){var c=o%10;0===c&&Vn(i,1)&&""!==s?s=t[c]+s:c>1||1===c&&0===a||1===c&&1===a&&Vn(i,2)||1===c&&1===a&&Vn(i,4)&&e>100||1===c&&a>1&&Vn(i,8)?s=t[c]+(a>0?n[a-1]:"")+s:1===c&&a>0&&(s=n[a-1]+s),o=Math.floor(o/10)}return(e<0?A:"")+s},Or=function(e,t,n){var A=n?". ":"",r=n?"、":"",i=n?", ":"",o=n?" ":"";switch(t){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var s=Ur(e,48,57,!0,A);return s.length<4?"0"+s:s;case 4:return Ir(e,"〇一二三四五六七八九",r);case 6:return Sr(e,1,3999,br,3,A).toLowerCase();case 7:return Sr(e,1,3999,br,3,A);case 8:return Ur(e,945,969,!1,A);case 9:return Ur(e,97,122,!1,A);case 10:return Ur(e,65,90,!1,A);case 11:return Ur(e,1632,1641,!0,A);case 12:case 49:return Sr(e,1,9999,Cr,3,A);case 35:return Sr(e,1,9999,Cr,3,A).toLowerCase();case 13:return Ur(e,2534,2543,!0,A);case 14:case 30:return Ur(e,6112,6121,!0,A);case 15:return Ir(e,"子丑寅卯辰巳午未申酉戌亥",r);case 16:return Ir(e,"甲乙丙丁戊己庚辛壬癸",r);case 17:case 48:return Fr(e,"零一二三四五六七八九","十百千萬","負",r,14);case 47:return Fr(e,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",r,15);case 42:return Fr(e,"零一二三四五六七八九","十百千萬","负",r,14);case 41:return Fr(e,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",r,15);case 26:return Fr(e,"〇一二三四五六七八九","十百千万","マイナス",r,0);case 25:return Fr(e,"零壱弐参四伍六七八九","拾百千万","マイナス",r,7);case 31:return Fr(e,"영일이삼사오육칠팔구","십백천만","마이너스",i,7);case 33:return Fr(e,"零一二三四五六七八九","十百千萬","마이너스",i,0);case 32:return Fr(e,"零壹貳參四五六七八九","拾百千","마이너스",i,7);case 18:return Ur(e,2406,2415,!0,A);case 20:return Sr(e,1,19999,Er,3,A);case 21:return Ur(e,2790,2799,!0,A);case 22:return Ur(e,2662,2671,!0,A);case 22:return Sr(e,1,10999,kr,3,A);case 23:return Ir(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Ir(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Ur(e,3302,3311,!0,A);case 28:return Ir(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",r);case 29:return Ir(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",r);case 34:return Ur(e,3792,3801,!0,A);case 37:return Ur(e,6160,6169,!0,A);case 38:return Ur(e,4160,4169,!0,A);case 39:return Ur(e,2918,2927,!0,A);case 40:return Ur(e,1776,1785,!0,A);case 43:return Ur(e,3046,3055,!0,A);case 44:return Ur(e,3174,3183,!0,A);case 45:return Ur(e,3664,3673,!0,A);case 46:return Ur(e,3872,3881,!0,A);case 3:default:return Ur(e,48,57,!0,A)}},Rr=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new yr,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,i=_r(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,a=i.contentWindow,c=a.document,u=Lr(i).then((function(){return A(n,void 0,void 0,(function(){var e,n;return r(this,(function(A){switch(A.label){case 0:return this.scrolledElements.forEach(Nr),a&&(a.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||a.scrollY===t.top&&a.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-t.left,a.scrollY-t.top,0,0))),e=this.options.onclone,void 0===(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:A.sent(),A.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Tr(c)]:[3,4];case 3:A.sent(),A.label=4;case 4:return"function"==typeof e?[2,Promise.resolve().then((function(){return e(c,n)})).then((function(){return i}))]:[2,i]}}))}))}));return c.open(),c.write(Pr(document.doctype)+"<html></html>"),jr(this.referenceElement.ownerDocument,o,s),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},e.prototype.createElementClone=function(e){if(iA(e,2),fr(e))return this.createCanvasClone(e);if(hr(e))return this.createVideoClone(e);if(gr(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return dr(t)&&(dr(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Br(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return Hr(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e}),""),A=e.cloneNode(!1);return A.textContent=n,A}}catch(e){if(this.context.logger.error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(t){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var A=e.cloneNode(!1);try{A.width=e.width,A.height=e.height;var r=e.getContext("2d"),i=A.getContext("2d");if(i)if(!this.options.allowTaint&&r)i.putImageData(r.getImageData(0,0,e.width,e.height),0,0);else{var o=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(o){var s=o.getContextAttributes();!1===(null==s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}i.drawImage(e,0,0)}return A}catch(t){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return A},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(t){this.context.logger.info("Unable to clone video as it is tainted",e)}var A=e.ownerDocument.createElement("canvas");return A.width=e.offsetWidth,A.height=e.offsetHeight,A},e.prototype.appendChildNode=function(e,t,n){rr(t)&&("SCRIPT"===t.tagName||t.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&rr(t)&&gr(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var A=this,r=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;r;r=r.nextSibling)if(rr(r)&&mr(r)&&"function"==typeof r.assignedNodes){var i=r.assignedNodes();i.length&&i.forEach((function(e){return A.appendChildNode(t,e,n)}))}else this.appendChildNode(t,r,n)},e.prototype.cloneNode=function(e,t){if(Ar(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&rr(e)&&(ir(e)||or(e))){var A=this.createElementClone(e);A.style.transitionProperty="none";var r=n.getComputedStyle(e),i=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&ir(A)&&(this.clonedReferenceElement=A),lr(A)&&Gr(A);var s=this.counters.parse(new AA(this.context,r)),a=this.resolvePseudoContent(e,A,i,pA.BEFORE);Br(e)&&(t=!0),hr(e)||this.cloneChildNodes(e,A,t),a&&A.insertBefore(a,A.firstChild);var c=this.resolvePseudoContent(e,A,o,pA.AFTER);return c&&A.appendChild(c),this.counters.pop(s),(r&&(this.options.copyStyles||or(e))&&!pr(e)||t)&&Hr(r,A),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([A,e.scrollLeft,e.scrollTop]),(vr(e)||wr(e))&&(vr(A)||wr(A))&&(A.value=e.value),A}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,A){var r=this;if(n){var i=n.content,o=t.ownerDocument;if(o&&i&&"none"!==i&&"-moz-alt-content"!==i&&"none"!==n.display){this.counters.parse(new AA(this.context,n));var s=new nA(this.context,n),a=o.createElement("html2canvaspseudoelement");Hr(n,a),s.content.forEach((function(t){if(0===t.type)a.appendChild(o.createTextNode(t.value));else if(22===t.type){var n=o.createElement("img");n.src=t.value,n.style.opacity="1",a.appendChild(n)}else if(18===t.type){if("attr"===t.name){var A=t.values.filter(De);A.length&&a.appendChild(o.createTextNode(e.getAttribute(A[0].value)||""))}else if("counter"===t.name){var i=t.values.filter(He),c=i[0],u=i[1];if(c&&De(c)){var l=r.counters.getCounterValue(c.value),f=u&&De(u)?un.parse(r.context,u.value):3;a.appendChild(o.createTextNode(Or(l,f,!1)))}}else if("counters"===t.name){var h=t.values.filter(He),d=(c=h[0],h[1]);if(u=h[2],c&&De(c)){var p=r.counters.getCounterValues(c.value),g=u&&De(u)?un.parse(r.context,u.value):3,v=d&&0===d.type?d.value:"",w=p.map((function(e){return Or(e,g,!1)})).join(v);a.appendChild(o.createTextNode(w))}}}else if(20===t.type)switch(t.value){case"open-quote":a.appendChild(o.createTextNode(Xn(s.quotes,r.quoteDepth++,!0)));break;case"close-quote":a.appendChild(o.createTextNode(Xn(s.quotes,--r.quoteDepth,!1)));break;default:a.appendChild(o.createTextNode(t.value))}})),a.className=Kr+" "+Vr;var c=A===pA.BEFORE?" "+Kr:" "+Vr;return or(t)?t.className.baseValue+=c:t.className+=c,a}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(pA||(pA={}));var xr,_r=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute("data-html2canvas-ignore","true"),e.body.appendChild(n),n},Dr=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},Tr=function(e){return Promise.all([].slice.call(e.images,0).map(Dr))},Lr=function(e){return new Promise((function(t,n){var A=e.contentWindow;if(!A)return n("No window assigned for iframe");var r=A.document;A.onload=e.onload=function(){A.onload=e.onload=null;var n=setInterval((function(){r.body.childNodes.length>0&&"complete"===r.readyState&&(clearInterval(n),t(e))}),50)}}))},Mr=["all","d","content"],Hr=function(e,t){for(var n=e.length-1;n>=0;n--){var A=e.item(n);-1===Mr.indexOf(A)&&t.style.setProperty(A,e.getPropertyValue(A))}return t},Pr=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},jr=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},Nr=function(e){var t=e[0],n=e[1],A=e[2];t.scrollLeft=n,t.scrollTop=A},Kr="___html2canvas___pseudoelement_before",Vr="___html2canvas___pseudoelement_after",Gr=function(e){Wr(e,"."+Kr+':before{\n    content: "" !important;\n    display: none !important;\n}\n         .'+Vr+':after{\n    content: "" !important;\n    display: none !important;\n}')},Wr=function(e,t){var n=e.ownerDocument;if(n){var A=n.createElement("style");A.textContent=t,e.appendChild(A)}},qr=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),Jr=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:ti(e)||zr(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return A(this,void 0,void 0,(function(){var t,n,A,i,o=this;return r(this,(function(r){switch(r.label){case 0:return t=qr.isSameOrigin(e),n=!$r(e)&&!0===this._options.useCORS&&UA.SUPPORT_CORS_IMAGES&&!t,A=!$r(e)&&!t&&!ti(e)&&"string"==typeof this._options.proxy&&UA.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||$r(e)||ti(e)||A||n?(i=e,A?[4,this.proxy(i)]:[3,2]):[2];case 1:i=r.sent(),r.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var A=new Image;A.onload=function(){return e(A)},A.onerror=t,(ei(i)||n)&&(A.crossOrigin="anonymous"),A.src=i,!0===A.complete&&setTimeout((function(){return e(A)}),500),o._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")}),o._options.imageTimeout)}))];case 3:return[2,r.sent()]}}))}))},e.prototype.has=function(e){return void 0!==this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var A=e.substring(0,256);return new Promise((function(r,i){var o=UA.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===o)r(s.response);else{var e=new FileReader;e.addEventListener("load",(function(){return r(e.result)}),!1),e.addEventListener("error",(function(e){return i(e)}),!1),e.readAsDataURL(s.response)}else i("Failed to proxy resource "+A+" with status code "+s.status)},s.onerror=i;var a=n.indexOf("?")>-1?"&":"?";if(s.open("GET",""+n+a+"url="+encodeURIComponent(e)+"&responseType="+o),"text"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),t._options.imageTimeout){var c=t._options.imageTimeout;s.timeout=c,s.ontimeout=function(){return i("Timed out ("+c+"ms) proxying "+A)}}s.send()}))},e}(),Yr=/^data:image\/svg\+xml/i,Xr=/^data:image\/.*;base64,/i,Zr=/^data:image\/.*/i,zr=function(e){return UA.SUPPORT_SVG_DRAWING||!ni(e)},$r=function(e){return Zr.test(e)},ei=function(e){return Xr.test(e)},ti=function(e){return"blob"===e.substr(0,4)},ni=function(e){return"svg"===e.substr(-3).toLowerCase()||Yr.test(e)},Ai=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),ri=function(e,t,n){return new Ai(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},ii=function(){function e(e,t,n,A){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=A}return e.prototype.subdivide=function(t,n){var A=ri(this.start,this.startControl,t),r=ri(this.startControl,this.endControl,t),i=ri(this.endControl,this.end,t),o=ri(A,r,t),s=ri(r,i,t),a=ri(o,s,t);return n?new e(this.start,A,o,a):new e(a,s,i,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),oi=function(e){return 1===e.type},si=function(e){var t=e.styles,n=e.bounds,A=Je(t.borderTopLeftRadius,n.width,n.height),r=A[0],i=A[1],o=Je(t.borderTopRightRadius,n.width,n.height),s=o[0],a=o[1],c=Je(t.borderBottomRightRadius,n.width,n.height),u=c[0],l=c[1],f=Je(t.borderBottomLeftRadius,n.width,n.height),h=f[0],d=f[1],p=[];p.push((r+s)/n.width),p.push((h+u)/n.width),p.push((i+d)/n.height),p.push((a+l)/n.height);var g=Math.max.apply(Math,p);g>1&&(r/=g,i/=g,s/=g,a/=g,u/=g,l/=g,h/=g,d/=g);var v=n.width-s,w=n.height-l,m=n.width-u,B=n.height-d,y=t.borderTopWidth,b=t.borderRightWidth,C=t.borderBottomWidth,k=t.borderLeftWidth,E=Ye(t.paddingTop,e.bounds.width),S=Ye(t.paddingRight,e.bounds.width),Q=Ye(t.paddingBottom,e.bounds.width),U=Ye(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||i>0?ai(n.left+k/3,n.top+y/3,r-k/3,i-y/3,xr.TOP_LEFT):new Ai(n.left+k/3,n.top+y/3),this.topRightBorderDoubleOuterBox=r>0||i>0?ai(n.left+v,n.top+y/3,s-b/3,a-y/3,xr.TOP_RIGHT):new Ai(n.left+n.width-b/3,n.top+y/3),this.bottomRightBorderDoubleOuterBox=u>0||l>0?ai(n.left+m,n.top+w,u-b/3,l-C/3,xr.BOTTOM_RIGHT):new Ai(n.left+n.width-b/3,n.top+n.height-C/3),this.bottomLeftBorderDoubleOuterBox=h>0||d>0?ai(n.left+k/3,n.top+B,h-k/3,d-C/3,xr.BOTTOM_LEFT):new Ai(n.left+k/3,n.top+n.height-C/3),this.topLeftBorderDoubleInnerBox=r>0||i>0?ai(n.left+2*k/3,n.top+2*y/3,r-2*k/3,i-2*y/3,xr.TOP_LEFT):new Ai(n.left+2*k/3,n.top+2*y/3),this.topRightBorderDoubleInnerBox=r>0||i>0?ai(n.left+v,n.top+2*y/3,s-2*b/3,a-2*y/3,xr.TOP_RIGHT):new Ai(n.left+n.width-2*b/3,n.top+2*y/3),this.bottomRightBorderDoubleInnerBox=u>0||l>0?ai(n.left+m,n.top+w,u-2*b/3,l-2*C/3,xr.BOTTOM_RIGHT):new Ai(n.left+n.width-2*b/3,n.top+n.height-2*C/3),this.bottomLeftBorderDoubleInnerBox=h>0||d>0?ai(n.left+2*k/3,n.top+B,h-2*k/3,d-2*C/3,xr.BOTTOM_LEFT):new Ai(n.left+2*k/3,n.top+n.height-2*C/3),this.topLeftBorderStroke=r>0||i>0?ai(n.left+k/2,n.top+y/2,r-k/2,i-y/2,xr.TOP_LEFT):new Ai(n.left+k/2,n.top+y/2),this.topRightBorderStroke=r>0||i>0?ai(n.left+v,n.top+y/2,s-b/2,a-y/2,xr.TOP_RIGHT):new Ai(n.left+n.width-b/2,n.top+y/2),this.bottomRightBorderStroke=u>0||l>0?ai(n.left+m,n.top+w,u-b/2,l-C/2,xr.BOTTOM_RIGHT):new Ai(n.left+n.width-b/2,n.top+n.height-C/2),this.bottomLeftBorderStroke=h>0||d>0?ai(n.left+k/2,n.top+B,h-k/2,d-C/2,xr.BOTTOM_LEFT):new Ai(n.left+k/2,n.top+n.height-C/2),this.topLeftBorderBox=r>0||i>0?ai(n.left,n.top,r,i,xr.TOP_LEFT):new Ai(n.left,n.top),this.topRightBorderBox=s>0||a>0?ai(n.left+v,n.top,s,a,xr.TOP_RIGHT):new Ai(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||l>0?ai(n.left+m,n.top+w,u,l,xr.BOTTOM_RIGHT):new Ai(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||d>0?ai(n.left,n.top+B,h,d,xr.BOTTOM_LEFT):new Ai(n.left,n.top+n.height),this.topLeftPaddingBox=r>0||i>0?ai(n.left+k,n.top+y,Math.max(0,r-k),Math.max(0,i-y),xr.TOP_LEFT):new Ai(n.left+k,n.top+y),this.topRightPaddingBox=s>0||a>0?ai(n.left+Math.min(v,n.width-b),n.top+y,v>n.width+b?0:Math.max(0,s-b),Math.max(0,a-y),xr.TOP_RIGHT):new Ai(n.left+n.width-b,n.top+y),this.bottomRightPaddingBox=u>0||l>0?ai(n.left+Math.min(m,n.width-k),n.top+Math.min(w,n.height-C),Math.max(0,u-b),Math.max(0,l-C),xr.BOTTOM_RIGHT):new Ai(n.left+n.width-b,n.top+n.height-C),this.bottomLeftPaddingBox=h>0||d>0?ai(n.left+k,n.top+Math.min(B,n.height-C),Math.max(0,h-k),Math.max(0,d-C),xr.BOTTOM_LEFT):new Ai(n.left+k,n.top+n.height-C),this.topLeftContentBox=r>0||i>0?ai(n.left+k+U,n.top+y+E,Math.max(0,r-(k+U)),Math.max(0,i-(y+E)),xr.TOP_LEFT):new Ai(n.left+k+U,n.top+y+E),this.topRightContentBox=s>0||a>0?ai(n.left+Math.min(v,n.width+k+U),n.top+y+E,v>n.width+k+U?0:s-k+U,a-(y+E),xr.TOP_RIGHT):new Ai(n.left+n.width-(b+S),n.top+y+E),this.bottomRightContentBox=u>0||l>0?ai(n.left+Math.min(m,n.width-(k+U)),n.top+Math.min(w,n.height+y+E),Math.max(0,u-(b+S)),l-(C+Q),xr.BOTTOM_RIGHT):new Ai(n.left+n.width-(b+S),n.top+n.height-(C+Q)),this.bottomLeftContentBox=h>0||d>0?ai(n.left+k+U,n.top+B,Math.max(0,h-(k+U)),d-(C+Q),xr.BOTTOM_LEFT):new Ai(n.left+k+U,n.top+n.height-(C+Q))};!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(xr||(xr={}));var ai=function(e,t,n,A,r){var i=(Math.sqrt(2)-1)/3*4,o=n*i,s=A*i,a=e+n,c=t+A;switch(r){case xr.TOP_LEFT:return new ii(new Ai(e,c),new Ai(e,c-s),new Ai(a-o,t),new Ai(a,t));case xr.TOP_RIGHT:return new ii(new Ai(e,t),new Ai(e+o,t),new Ai(a,c-s),new Ai(a,c));case xr.BOTTOM_RIGHT:return new ii(new Ai(a,t),new Ai(a,t+s),new Ai(e+o,c),new Ai(e,c));case xr.BOTTOM_LEFT:default:return new ii(new Ai(a,c),new Ai(a-o,c),new Ai(e,t+s),new Ai(e,t))}},ci=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},ui=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},li=function(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6},fi=function(e,t){this.path=e,this.target=t,this.type=1},hi=function(e){this.opacity=e,this.type=2,this.target=6},di=function(e){return 1===e.type},pi=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},gi=function(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},vi=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new si(this.container),this.container.styles.opacity<1&&this.effects.push(new hi(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,A=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new li(n,A,r))}if(0!==this.container.styles.overflowX){var i=ci(this.curves),o=ui(this.curves);pi(i,o)?this.effects.push(new fi(i,6)):(this.effects.push(new fi(i,2)),this.effects.push(new fi(o,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,A=this.effects.slice(0);n;){var r=n.effects.filter((function(e){return!di(e)}));if(t||0!==n.container.styles.position||!n.parent){if(A.unshift.apply(A,r),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var i=ci(n.curves),o=ui(n.curves);pi(i,o)||A.unshift(new fi(o,6))}}else A.unshift.apply(A,r);n=n.parent}return A.filter((function(t){return Vn(t.target,e)}))},e}(),wi=function(e,t){for(var n=e instanceof VA?e.start:1,A=e instanceof VA&&e.reversed,r=0;r<t.length;r++){var i=t[r];i.container instanceof KA&&"number"==typeof i.container.value&&0!==i.container.value&&(n=i.container.value),i.listValue=Or(n,i.container.styles.listStyleType,!0),n+=A?-1:1}},mi=function(e){var t=new vi(e,null),n=new gi(t),A=[];return function e(t,n,A,r){t.container.elements.forEach((function(i){var o=Vn(i.flags,4),s=Vn(i.flags,2),a=new vi(i,t);Vn(i.styles.display,2048)&&r.push(a);var c=Vn(i.flags,8)?[]:r;if(o||s){var u=o||i.styles.isPositioned()?A:n,l=new gi(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var f=i.styles.zIndex.order;if(f<0){var h=0;u.negativeZIndex.some((function(e,t){return f>e.element.container.styles.zIndex.order?(h=t,!1):h>0})),u.negativeZIndex.splice(h,0,l)}else if(f>0){var d=0;u.positiveZIndex.some((function(e,t){return f>=e.element.container.styles.zIndex.order?(d=t+1,!1):d>0})),u.positiveZIndex.splice(d,0,l)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else i.styles.isFloating()?u.nonPositionedFloats.push(l):u.nonPositionedInlineLevel.push(l);e(a,l,o?l:A,c)}else i.styles.isInlineLevel()?n.inlineLevel.push(a):n.nonInlineLevel.push(a),e(a,n,A,c);Vn(i.flags,8)&&wi(i,c)}))}(t,n,n,A),wi(t.container,A),n},Bi=function(e,t){switch(t){case 0:return bi(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return bi(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return bi(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return bi(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},yi=function(e,t){var n=[];return oi(e)?n.push(e.subdivide(.5,!1)):n.push(e),oi(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},bi=function(e,t,n,A){var r=[];return oi(e)?r.push(e.subdivide(.5,!1)):r.push(e),oi(n)?r.push(n.subdivide(.5,!0)):r.push(n),oi(A)?r.push(A.subdivide(.5,!0).reverse()):r.push(A),oi(t)?r.push(t.subdivide(.5,!1).reverse()):r.push(t),r},Ci=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},ki=function(e){var t=e.styles,n=e.bounds,A=Ye(t.paddingLeft,n.width),r=Ye(t.paddingRight,n.width),i=Ye(t.paddingTop,n.width),o=Ye(t.paddingBottom,n.width);return n.add(A+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+A+r),-(t.borderTopWidth+t.borderBottomWidth+i+o))},Ei=function(e,t,n){var A=function(e,t){return 0===e?t.bounds:2===e?ki(t):Ci(t)}(Ii(e.styles.backgroundOrigin,t),e),r=function(e,t){return 0===e?t.bounds:2===e?ki(t):Ci(t)}(Ii(e.styles.backgroundClip,t),e),i=Ui(Ii(e.styles.backgroundSize,t),n,A),o=i[0],s=i[1],a=Je(Ii(e.styles.backgroundPosition,t),A.width-o,A.height-s);return[Fi(Ii(e.styles.backgroundRepeat,t),a,i,A,r),Math.round(A.left+a[0]),Math.round(A.top+a[1]),o,s]},Si=function(e){return De(e)&&e.value===st.AUTO},Qi=function(e){return"number"==typeof e},Ui=function(e,t,n){var A=t[0],r=t[1],i=t[2],o=e[0],s=e[1];if(!o)return[0,0];if(Ke(o)&&s&&Ke(s))return[Ye(o,n.width),Ye(s,n.height)];var a=Qi(i);if(De(o)&&(o.value===st.CONTAIN||o.value===st.COVER))return Qi(i)?n.width/n.height<i!=(o.value===st.COVER)?[n.width,n.width/i]:[n.height*i,n.height]:[n.width,n.height];var c=Qi(A),u=Qi(r),l=c||u;if(Si(o)&&(!s||Si(s)))return c&&u?[A,r]:a||l?l&&a?[c?A:r*i,u?r:A/i]:[c?A:n.width,u?r:n.height]:[n.width,n.height];if(a){var f=0,h=0;return Ke(o)?f=Ye(o,n.width):Ke(s)&&(h=Ye(s,n.height)),Si(o)?f=h*i:s&&!Si(s)||(h=f/i),[f,h]}var d=null,p=null;if(Ke(o)?d=Ye(o,n.width):s&&Ke(s)&&(p=Ye(s,n.height)),null===d||s&&!Si(s)||(p=c&&u?d/A*r:n.height),null!==p&&Si(o)&&(d=c&&u?p/r*A:n.width),null!==d&&null!==p)return[d,p];throw new Error("Unable to calculate background-size for element")},Ii=function(e,t){var n=e[t];return void 0===n?e[0]:n},Fi=function(e,t,n,A,r){var i=t[0],o=t[1],s=n[0],a=n[1];switch(e){case 2:return[new Ai(Math.round(A.left),Math.round(A.top+o)),new Ai(Math.round(A.left+A.width),Math.round(A.top+o)),new Ai(Math.round(A.left+A.width),Math.round(a+A.top+o)),new Ai(Math.round(A.left),Math.round(a+A.top+o))];case 3:return[new Ai(Math.round(A.left+i),Math.round(A.top)),new Ai(Math.round(A.left+i+s),Math.round(A.top)),new Ai(Math.round(A.left+i+s),Math.round(A.height+A.top)),new Ai(Math.round(A.left+i),Math.round(A.height+A.top))];case 1:return[new Ai(Math.round(A.left+i),Math.round(A.top+o)),new Ai(Math.round(A.left+i+s),Math.round(A.top+o)),new Ai(Math.round(A.left+i+s),Math.round(A.top+o+a)),new Ai(Math.round(A.left+i),Math.round(A.top+o+a))];default:return[new Ai(Math.round(r.left),Math.round(r.top)),new Ai(Math.round(r.left+r.width),Math.round(r.top)),new Ai(Math.round(r.left+r.width),Math.round(r.height+r.top)),new Ai(Math.round(r.left),Math.round(r.height+r.top))]}},Oi=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),A=this._document.createElement("img"),r=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),A.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",A.width=1,A.height=1,A.style.margin="0",A.style.padding="0",A.style.verticalAlign="baseline",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode("Hidden Text")),n.appendChild(r),n.appendChild(A);var o=A.offsetTop-r.offsetTop+2;n.removeChild(r),n.appendChild(this._document.createTextNode("Hidden Text")),n.style.lineHeight="normal",A.style.verticalAlign="super";var s=A.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:o,middle:s}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),Ri=function(e,t){this.context=e,this.options=t},xi=function(e){function n(t,n){var A=e.call(this,t,n)||this;return A._activeEffects=[],A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),n.canvas||(A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px"),A.fontMetrics=new Oi(document),A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.ctx.textBaseline="bottom",A._activeEffects=[],A.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),A}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),function(e){return 2===e.type}(e)&&(this.ctx.globalAlpha=e.opacity),function(e){return 0===e.type}(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),di(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return A(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return A(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return Vn(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var A=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):RA(e.text).reduce((function(t,r){return A.ctx.fillText(r,t,e.bounds.top+n),t+A.ctx.measureText(r).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=Mi(e.fontFamily).join(", "),A=xe(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,A,n].join(" "),n,A]},n.prototype.renderTextNode=function(e,t){return A(this,void 0,void 0,(function(){var n,A,i,o,s,a,c,u,l=this;return r(this,(function(r){return n=this.createFontStyle(t),A=n[0],i=n[1],o=n[2],this.ctx.font=A,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(i,o),a=s.baseline,c=s.middle,u=t.paintOrder,e.textBounds.forEach((function(e){u.forEach((function(n){switch(n){case 0:l.ctx.fillStyle=nt(t.color),l.renderTextWithLetterSpacing(e,t.letterSpacing,a);var A=t.textShadow;A.length&&e.text.trim().length&&(A.slice(0).reverse().forEach((function(n){l.ctx.shadowColor=nt(n.color),l.ctx.shadowOffsetX=n.offsetX.number*l.options.scale,l.ctx.shadowOffsetY=n.offsetY.number*l.options.scale,l.ctx.shadowBlur=n.blur.number,l.renderTextWithLetterSpacing(e,t.letterSpacing,a)})),l.ctx.shadowColor="",l.ctx.shadowOffsetX=0,l.ctx.shadowOffsetY=0,l.ctx.shadowBlur=0),t.textDecorationLine.length&&(l.ctx.fillStyle=nt(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:l.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+a),e.bounds.width,1);break;case 2:l.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:l.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+c),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(l.ctx.strokeStyle=nt(t.webkitTextStrokeColor),l.ctx.lineWidth=t.webkitTextStrokeWidth,l.ctx.lineJoin=window.chrome?"miter":"round",l.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+a)),l.ctx.strokeStyle="",l.ctx.lineWidth=0,l.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var A=ki(e),r=ui(t);this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,A.left,A.top,A.width,A.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return A(this,void 0,void 0,(function(){var t,A,i,o,a,c,u,l,f,h,d,p,g,v,w,m,B,y;return r(this,(function(r){switch(r.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,A=e.curves,i=t.styles,o=0,a=t.textNodes,r.label=1;case 1:return o<a.length?(c=a[o],[4,this.renderTextNode(c,i)]):[3,4];case 2:r.sent(),r.label=3;case 3:return o++,[3,1];case 4:if(!(t instanceof PA))return[3,8];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return w=r.sent(),this.renderReplacedElement(t,A,w),[3,8];case 7:return r.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof jA&&this.renderReplacedElement(t,A,t.canvas),!(t instanceof NA))return[3,12];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return w=r.sent(),this.renderReplacedElement(t,A,w),[3,12];case 11:return r.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ZA&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:u=r.sent(),t.width&&t.height&&this.ctx.drawImage(u,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),r.label=14;case 14:if(t instanceof JA&&(l=Math.min(t.bounds.width,t.bounds.height),"checkbox"===t.type?t.checked&&(this.ctx.save(),this.path([new Ai(t.bounds.left+.39363*l,t.bounds.top+.79*l),new Ai(t.bounds.left+.16*l,t.bounds.top+.5549*l),new Ai(t.bounds.left+.27347*l,t.bounds.top+.44071*l),new Ai(t.bounds.left+.39694*l,t.bounds.top+.5649*l),new Ai(t.bounds.left+.72983*l,t.bounds.top+.23*l),new Ai(t.bounds.left+.84*l,t.bounds.top+.34085*l),new Ai(t.bounds.left+.39363*l,t.bounds.top+.79*l)]),this.ctx.fillStyle=nt(707406591),this.ctx.fill(),this.ctx.restore()):"radio"===t.type&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+l/2,t.bounds.top+l/2,l/4,0,2*Math.PI,!0),this.ctx.fillStyle=nt(707406591),this.ctx.fill(),this.ctx.restore())),_i(t)&&t.value.length){switch(f=this.createFontStyle(i),B=f[0],h=f[1],d=this.fontMetrics.getMetrics(B,h).baseline,this.ctx.font=B,this.ctx.fillStyle=nt(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Ti(t.styles.textAlign),y=ki(t),p=0,t.styles.textAlign){case 1:p+=y.width/2;break;case 2:p+=y.width}g=y.add(p,0,0,-y.height/2+1),this.ctx.save(),this.path([new Ai(y.left,y.top),new Ai(y.left+y.width,y.top),new Ai(y.left+y.width,y.top+y.height),new Ai(y.left,y.top+y.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new IA(t.value,g),i.letterSpacing,d),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Vn(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(v=t.styles.listStyleImage).type)return[3,18];w=void 0,m=v.url,r.label=15;case 15:return r.trys.push([15,17,,18]),[4,this.context.cache.match(m)];case 16:return w=r.sent(),this.ctx.drawImage(w,t.bounds.left-(w.width+10),t.bounds.top),[3,18];case 17:return r.sent(),this.context.logger.error("Error loading list-style-image "+m),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(B=this.createFontStyle(i)[0],this.ctx.font=B,this.ctx.fillStyle=nt(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",y=new s(t.bounds.left,t.bounds.top+Ye(t.styles.paddingTop,t.bounds.width),t.bounds.width,sn(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new IA(e.listValue,y),i.letterSpacing,sn(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),r.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return A(this,void 0,void 0,(function(){var t,n,A,i,o,s,a,c,u,l,f,h,d,p,g;return r(this,(function(r){switch(r.label){case 0:return Vn(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:r.sent(),t=0,n=e.negativeZIndex,r.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:r.sent(),r.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:r.sent(),A=0,i=e.nonInlineLevel,r.label=7;case 7:return A<i.length?(g=i[A],[4,this.renderNode(g)]):[3,10];case 8:r.sent(),r.label=9;case 9:return A++,[3,7];case 10:o=0,s=e.nonPositionedFloats,r.label=11;case 11:return o<s.length?(g=s[o],[4,this.renderStack(g)]):[3,14];case 12:r.sent(),r.label=13;case 13:return o++,[3,11];case 14:a=0,c=e.nonPositionedInlineLevel,r.label=15;case 15:return a<c.length?(g=c[a],[4,this.renderStack(g)]):[3,18];case 16:r.sent(),r.label=17;case 17:return a++,[3,15];case 18:u=0,l=e.inlineLevel,r.label=19;case 19:return u<l.length?(g=l[u],[4,this.renderNode(g)]):[3,22];case 20:r.sent(),r.label=21;case 21:return u++,[3,19];case 22:f=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,r.label=23;case 23:return f<h.length?(g=h[f],[4,this.renderStack(g)]):[3,26];case 24:r.sent(),r.label=25;case 25:return f++,[3,23];case 26:d=0,p=e.positiveZIndex,r.label=27;case 27:return d<p.length?(g=p[d],[4,this.renderStack(g)]):[3,30];case 28:r.sent(),r.label=29;case 29:return d++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var A=oi(e)?e.start:e;0===n?t.ctx.moveTo(A.x,A.y):t.ctx.lineTo(A.x,A.y),oi(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,A){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,A),this.ctx.fill(),this.ctx.translate(-n,-A)},n.prototype.resizeImage=function(e,t,n){var A;if(e.width===t&&e.height===n)return e;var r=(null!==(A=this.canvas.ownerDocument)&&void 0!==A?A:document).createElement("canvas");return r.width=Math.max(1,t),r.height=Math.max(1,n),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),r},n.prototype.renderBackgroundImage=function(e){return A(this,void 0,void 0,(function(){var t,n,A,i,o,s;return r(this,(function(a){switch(a.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var i,o,s,a,c,u,l,f,h,d,p,g,v,w,m,B,y,b,C,k,E,S,Q,U,I,F,O,R,x,_,D;return r(this,(function(r){switch(r.label){case 0:if(0!==n.type)return[3,5];i=void 0,o=n.url,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,A.context.cache.match(o)];case 2:return i=r.sent(),[3,4];case 3:return r.sent(),A.context.logger.error("Error loading background-image "+o),[3,4];case 4:return i&&(s=Ei(e,t,[i.width,i.height,i.width/i.height]),B=s[0],S=s[1],Q=s[2],C=s[3],k=s[4],w=A.ctx.createPattern(A.resizeImage(i,C,k),"repeat"),A.renderRepeat(B,w,S,Q)),[3,6];case 5:1===n.type?(a=Ei(e,t,[null,null,null]),B=a[0],S=a[1],Q=a[2],C=a[3],k=a[4],c=gt(n.angle,C,k),u=c[0],l=c[1],f=c[2],h=c[3],d=c[4],(p=document.createElement("canvas")).width=C,p.height=k,g=p.getContext("2d"),v=g.createLinearGradient(l,h,f,d),pt(n.stops,u).forEach((function(e){return v.addColorStop(e.stop,nt(e.color))})),g.fillStyle=v,g.fillRect(0,0,C,k),C>0&&k>0&&(w=A.ctx.createPattern(p,"repeat"),A.renderRepeat(B,w,S,Q))):function(e){return 2===e.type}(n)&&(m=Ei(e,t,[null,null,null]),B=m[0],y=m[1],b=m[2],C=m[3],k=m[4],E=0===n.position.length?[We]:n.position,S=Ye(E[0],C),Q=Ye(E[E.length-1],k),U=function(e,t,n,A,r){var i=0,o=0;switch(e.size){case 0:0===e.shape?i=o=Math.min(Math.abs(t),Math.abs(t-A),Math.abs(n),Math.abs(n-r)):1===e.shape&&(i=Math.min(Math.abs(t),Math.abs(t-A)),o=Math.min(Math.abs(n),Math.abs(n-r)));break;case 2:if(0===e.shape)i=o=Math.min(vt(t,n),vt(t,n-r),vt(t-A,n),vt(t-A,n-r));else if(1===e.shape){var s=Math.min(Math.abs(n),Math.abs(n-r))/Math.min(Math.abs(t),Math.abs(t-A)),a=wt(A,r,t,n,!0),c=a[0],u=a[1];o=s*(i=vt(c-t,(u-n)/s))}break;case 1:0===e.shape?i=o=Math.max(Math.abs(t),Math.abs(t-A),Math.abs(n),Math.abs(n-r)):1===e.shape&&(i=Math.max(Math.abs(t),Math.abs(t-A)),o=Math.max(Math.abs(n),Math.abs(n-r)));break;case 3:if(0===e.shape)i=o=Math.max(vt(t,n),vt(t,n-r),vt(t-A,n),vt(t-A,n-r));else if(1===e.shape){s=Math.max(Math.abs(n),Math.abs(n-r))/Math.max(Math.abs(t),Math.abs(t-A));var l=wt(A,r,t,n,!1);c=l[0],u=l[1],o=s*(i=vt(c-t,(u-n)/s))}}return Array.isArray(e.size)&&(i=Ye(e.size[0],A),o=2===e.size.length?Ye(e.size[1],r):i),[i,o]}(n,S,Q,C,k),I=U[0],F=U[1],I>0&&F>0&&(O=A.ctx.createRadialGradient(y+S,b+Q,0,y+S,b+Q,I),pt(n.stops,2*I).forEach((function(e){return O.addColorStop(e.stop,nt(e.color))})),A.path(B),A.ctx.fillStyle=O,I!==F?(R=e.bounds.left+.5*e.bounds.width,x=e.bounds.top+.5*e.bounds.height,D=1/(_=F/I),A.ctx.save(),A.ctx.translate(R,x),A.ctx.transform(1,0,0,_,0,0),A.ctx.translate(-R,-x),A.ctx.fillRect(y,D*(b-x)+x,C,k*D),A.ctx.restore()):A.ctx.fill())),r.label=6;case 6:return t--,[2]}}))},A=this,i=0,o=e.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return i<o.length?(s=o[i],[5,n(s)]):[3,4];case 2:a.sent(),a.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return A(this,void 0,void 0,(function(){return r(this,(function(A){return this.path(Bi(n,t)),this.ctx.fillStyle=nt(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,i){return A(this,void 0,void 0,(function(){var A,o;return r(this,(function(r){switch(r.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,i)]:[3,2];case 1:return r.sent(),[2];case 2:return A=function(e,t){switch(t){case 0:return bi(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return bi(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return bi(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return bi(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}}(i,n),this.path(A),this.ctx.fillStyle=nt(e),this.ctx.fill(),o=function(e,t){switch(t){case 0:return bi(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return bi(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return bi(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return bi(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}}(i,n),this.path(o),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return A(this,void 0,void 0,(function(){var t,n,A,i,o,s,a,c,u=this;return r(this,(function(r){switch(r.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!tt(t.backgroundColor)||t.backgroundImage.length,A=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],i=Di(Ii(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),tt(t.backgroundColor)||(this.ctx.fillStyle=nt(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:r.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){u.ctx.save();var n,A,r,i,o,s=ci(e.curves),a=t.inset?0:1e4,c=(n=s,A=-a+(t.inset?1:-1)*t.spread.number,r=(t.inset?1:-1)*t.spread.number,i=t.spread.number*(t.inset?-2:2),o=t.spread.number*(t.inset?-2:2),n.map((function(e,t){switch(t){case 0:return e.add(A,r);case 1:return e.add(A+i,r);case 2:return e.add(A+i,r+o);case 3:return e.add(A,r+o)}return e})));t.inset?(u.path(s),u.ctx.clip(),u.mask(c)):(u.mask(s),u.ctx.clip(),u.path(c)),u.ctx.shadowOffsetX=t.offsetX.number+a,u.ctx.shadowOffsetY=t.offsetY.number,u.ctx.shadowColor=nt(t.color),u.ctx.shadowBlur=t.blur.number,u.ctx.fillStyle=t.inset?nt(t.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()})),r.label=2;case 2:o=0,s=0,a=A,r.label=3;case 3:return s<a.length?0!==(c=a[s]).style&&!tt(c.color)&&c.width>0?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,2)]:[3,11]:[3,13];case 4:return r.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,3)];case 6:return r.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,e.curves)];case 8:return r.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,e.curves)];case 10:r.sent(),r.label=11;case 11:o++,r.label=12;case 12:return s++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,i,o){return A(this,void 0,void 0,(function(){var A,s,a,c,u,l,f,h,d,p,g,v,w,m,B,y;return r(this,(function(r){return this.ctx.save(),A=function(e,t){switch(t){case 0:return yi(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return yi(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return yi(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return yi(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}}(i,n),s=Bi(i,n),2===o&&(this.path(s),this.ctx.clip()),oi(s[0])?(a=s[0].start.x,c=s[0].start.y):(a=s[0].x,c=s[0].y),oi(s[1])?(u=s[1].end.x,l=s[1].end.y):(u=s[1].x,l=s[1].y),f=0===n||2===n?Math.abs(a-u):Math.abs(c-l),this.ctx.beginPath(),3===o?this.formatPath(A):this.formatPath(s.slice(0,2)),h=t<3?3*t:2*t,d=t<3?2*t:t,3===o&&(h=t,d=t),p=!0,f<=2*h?p=!1:f<=2*h+d?(h*=g=f/(2*h+d),d*=g):(v=Math.floor((f+d)/(h+d)),w=(f-v*h)/(v-1),d=(m=(f-(v+1)*h)/v)<=0||Math.abs(d-w)<Math.abs(d-m)?w:m),p&&(3===o?this.ctx.setLineDash([0,h+d]):this.ctx.setLineDash([h,d])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=nt(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(oi(s[0])&&(B=s[3],y=s[0],this.ctx.beginPath(),this.formatPath([new Ai(B.end.x,B.end.y),new Ai(y.start.x,y.start.y)]),this.ctx.stroke()),oi(s[1])&&(B=s[1],y=s[2],this.ctx.beginPath(),this.formatPath([new Ai(B.end.x,B.end.y),new Ai(y.start.x,y.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return A(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=nt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=mi(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(Ri),_i=function(e){return e instanceof XA||e instanceof YA||e instanceof JA&&"radio"!==e.type&&"checkbox"!==e.type},Di=function(e,t){switch(e){case 0:return ci(t);case 2:return function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]}(t);case 1:default:return ui(t)}},Ti=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Li=["-apple-system","system-ui"],Mi=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===Li.indexOf(e)})):e},Hi=function(e){function n(t,n){var A=e.call(this,t,n)||this;return A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),A.options=n,A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px",A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),A}return t(n,e),n.prototype.render=function(e){return A(this,void 0,void 0,(function(){var t,n;return r(this,(function(A){switch(A.label){case 0:return t=SA(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,Pi(t)];case 1:return n=A.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=nt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(Ri),Pi=function(e){return new Promise((function(t,n){var A=new Image;A.onload=function(){t(A)},A.onerror=n,A.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},ji=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,i([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,i([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),Ni=function(){function e(t,n){var A;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new ji({id:this.instanceName,enabled:t.logging}),this.cache=null!==(A=t.cache)&&void 0!==A?A:new Jr(this,t)}return e.instanceCount=1,e}();"undefined"!=typeof window&&qr.setContext(window);var Ki=function(e,t){return A(void 0,void 0,void 0,(function(){var A,i,c,u,l,f,h,d,p,g,v,w,m,B,y,b,C,k,E,S,Q,U,I,F,O,R,x,_,D,T,L,M,H,P,j,N,K,V;return r(this,(function(r){switch(r.label){case 0:if(!e||"object"!==o(e))return[2,Promise.reject("Invalid element provided as first argument")];if(!(A=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(i=A.defaultView))throw new Error("Document is not attached to a Window");return c={allowTaint:null!==(U=t.allowTaint)&&void 0!==U&&U,imageTimeout:null!==(I=t.imageTimeout)&&void 0!==I?I:15e3,proxy:t.proxy,useCORS:null!==(F=t.useCORS)&&void 0!==F&&F},u=n({logging:null===(O=t.logging)||void 0===O||O,cache:t.cache},c),l={windowWidth:null!==(R=t.windowWidth)&&void 0!==R?R:i.innerWidth,windowHeight:null!==(x=t.windowHeight)&&void 0!==x?x:i.innerHeight,scrollX:null!==(_=t.scrollX)&&void 0!==_?_:i.pageXOffset,scrollY:null!==(D=t.scrollY)&&void 0!==D?D:i.pageYOffset},f=new s(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),h=new Ni(u,f),d=null!==(T=t.foreignObjectRendering)&&void 0!==T&&T,p={allowTaint:null!==(L=t.allowTaint)&&void 0!==L&&L,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:d,copyStyles:d},h.logger.debug("Starting document clone with size "+f.width+"x"+f.height+" scrolled to "+-f.left+","+-f.top),g=new Rr(h,e,p),(v=g.clonedReferenceElement)?[4,g.toIFrame(A,f)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=r.sent(),m=lr(v)||"HTML"===v.tagName?function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var A=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),r=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new s(0,0,A,r)}(v.ownerDocument):a(h,v),B=m.width,y=m.height,b=m.left,C=m.top,k=Vi(h,v,t.backgroundColor),E={canvas:t.canvas,backgroundColor:k,scale:null!==(H=null!==(M=t.scale)&&void 0!==M?M:i.devicePixelRatio)&&void 0!==H?H:1,x:(null!==(P=t.x)&&void 0!==P?P:0)+b,y:(null!==(j=t.y)&&void 0!==j?j:0)+C,width:null!==(N=t.width)&&void 0!==N?N:Math.ceil(B),height:null!==(K=t.height)&&void 0!==K?K:Math.ceil(y)},d?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new Hi(h,E).render(v)]):[3,3];case 2:return S=r.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+b+","+C+" with size "+B+"x"+y+" using computed rendering"),h.logger.debug("Starting DOM parsing"),Q=er(h,v),k===Q.styles.backgroundColor&&(Q.styles.backgroundColor=lt.TRANSPARENT),h.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),[4,new xi(h,E).render(Q)];case 4:S=r.sent(),r.label=5;case 5:return(null===(V=t.removeContainer)||void 0===V||V)&&(Rr.destroy(w)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,S]}}))}))},Vi=function(e,t,n){var A=t.ownerDocument,r=A.documentElement?ut(e,getComputedStyle(A.documentElement).backgroundColor):lt.TRANSPARENT,i=A.body?ut(e,getComputedStyle(A.body).backgroundColor):lt.TRANSPARENT,o="string"==typeof n?ut(e,n):null===n?lt.TRANSPARENT:4294967295;return t===A.documentElement?tt(r)?tt(i)?o:i:r:o};return function(e,t){return void 0===t&&(t={}),Ki(e,t)}},"object"===o(t)&&void 0!==e?e.exports=i():void 0===(r="function"==typeof(A=i)?A.call(t,n,t,e):A)||(e.exports=r)},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var A,r,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(A=n.next()).done)&&(i.push(A.value),!t||i.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return i}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var A=n(35);e.exports=function(e){if(Array.isArray(e))return A(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var A=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,A="function"==typeof Symbol?Symbol:{},r=A.iterator||"@@iterator",i=A.asyncIterator||"@@asyncIterator",o=A.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function a(e,t,n,A){var r=t&&t.prototype instanceof l?t:l,i=Object.create(r.prototype),o=new C(A||[]);return i._invoke=function(e,t,n){var A="suspendedStart";return function(r,i){if("executing"===A)throw new Error("Generator is already running");if("completed"===A){if("throw"===r)throw i;return E()}for(n.method=r,n.arg=i;;){var o=n.delegate;if(o){var s=B(o,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===A)throw A="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);A="executing";var a=c(e,t,n);if("normal"===a.type){if(A=n.done?"completed":"suspendedYield",a.arg===u)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(A="completed",n.method="throw",n.arg=a.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=a;var u={};function l(){}function f(){}function h(){}var d={};s(d,r,(function(){return this}));var p=Object.getPrototypeOf,g=p&&p(p(k([])));g&&g!==t&&n.call(g,r)&&(d=g);var v=h.prototype=l.prototype=Object.create(d);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function m(e,t){var A;this._invoke=function(r,i){function o(){return new t((function(A,o){!function A(r,i,o,s){var a=c(e[r],e,i);if("throw"!==a.type){var u=a.arg,l=u.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){A("next",e,o,s)}),(function(e){A("throw",e,o,s)})):t.resolve(l).then((function(e){u.value=e,o(u)}),(function(e){return A("throw",e,o,s)}))}s(a.arg)}(r,i,A,o)}))}return A=A?A.then(o,o):o()}}function B(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,B(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var A=c(n,e.iterator,t.arg);if("throw"===A.type)return t.method="throw",t.arg=A.arg,t.delegate=null,u;var r=A.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function k(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var A=-1,i=function t(){for(;++A<e.length;)if(n.call(e,A))return t.value=e[A],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=h,s(v,"constructor",h),s(h,"constructor",f),f.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(m.prototype),s(m.prototype,i,(function(){return this})),e.AsyncIterator=m,e.async=function(t,n,A,r,i){void 0===i&&(i=Promise);var o=new m(a(t,n,A,r),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(v),s(v,o,"Generator"),s(v,r,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var A=t.pop();if(A in e)return n.value=A,n.done=!1,n}return n.done=!0,n}},e.values=k,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function A(n,A){return o.type="throw",o.arg=e,t.next=n,A&&(t.method="next",t.arg=void 0),!!A}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return A("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),a=n.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return A(i.catchLoc,!0);if(this.prev<i.finallyLoc)return A(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return A(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return A(i.finallyLoc)}}}},abrupt:function(e,t){for(var A=this.tryEntries.length-1;A>=0;--A){var r=this.tryEntries[A];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var A=n.completion;if("throw"===A.type){var r=A.arg;b(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=A}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=A:Function("r","regeneratorRuntime = r")(A)}},function(e,t){function n(t,A){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,A)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],A=t[1];return 3*(n+A)/4-A},t.toByteArray=function(e){var t,n,A=c(e),o=A[0],s=A[1],a=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),u=0,l=s>0?o-4:o;for(n=0;n<l;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],a[u++]=t>>16&255,a[u++]=t>>8&255,a[u++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,a[u++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,a[u++]=t>>8&255,a[u++]=255&t);return a},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i=[],o=0,s=n-r;o<s;o+=16383)i.push(u(e,o,o+16383>s?s:o+16383));1===r?(t=e[n-1],i.push(A[t>>2]+A[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(A[t>>10]+A[t>>4&63]+A[t<<2&63]+"="));return i.join("")};for(var A=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)A[s]=o[s],r[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(A[(i=r)>>18&63]+A[i>>12&63]+A[i>>6&63]+A[63&i]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,A,r){var i,o,s=8*r-A-1,a=(1<<s)-1,c=a>>1,u=-7,l=n?r-1:0,f=n?-1:1,h=e[t+l];for(l+=f,i=h&(1<<-u)-1,h>>=-u,u+=s;u>0;i=256*i+e[t+l],l+=f,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=A;u>0;o=256*o+e[t+l],l+=f,u-=8);if(0===i)i=1-c;else{if(i===a)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,A),i-=c}return(h?-1:1)*o*Math.pow(2,i-A)},t.write=function(e,t,n,A,r,i){var o,s,a,c=8*i-r-1,u=(1<<c)-1,l=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=A?0:i-1,d=A?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-o))<1&&(o--,a*=2),(t+=o+l>=1?f/a:f*Math.pow(2,1-l))*a>=2&&(o++,a/=2),o+l>=u?(s=0,o=u):o+l>=1?(s=(t*a-1)*Math.pow(2,r),o+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,r),o=0));r>=8;e[n+h]=255&s,h+=d,s/=256,r-=8);for(o=o<<r|s,c+=r;c>0;e[n+h]=255&o,h+=d,o/=256,c-=8);e[n+h-d]|=128*p}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(t,A,r){var i=n(37),o=n(20),s=n(38),a=n(39),c=n(80),u=s.IncomingMessage,l=s.readyStates;var f=e.exports=function(e){var n,A=this;a.Writable.call(A),A._opts=e,A._body=[],A._headers={},e.auth&&A.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){A.setHeader(t,e.headers[t])}));var r=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!i.abortController)r=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!i.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}A._mode=function(e,t){return i.fetch&&t?"fetch":i.mozchunkedarraybuffer?"moz-chunked-arraybuffer":i.msstream?"ms-stream":i.arraybuffer&&e?"arraybuffer":i.vbArray&&e?"text:vbarray":"text"}(n,r),A._fetchTimer=null,A.on("finish",(function(){A._onFinish()}))};o(f,a.Writable),f.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===h.indexOf(n)&&(this._headers[n]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,o=e._headers,s=null;"GET"!==n.method&&"HEAD"!==n.method&&(s=i.arraybuffer?c(t.concat(e._body)):i.blobConstructor?new A.Blob(e._body.map((function(e){return c(e)})),{type:(o["content-type"]||{}).value||""}):t.concat(e._body).toString());var a=[];if(Object.keys(o).forEach((function(e){var t=o[e].name,n=o[e].value;Array.isArray(n)?n.forEach((function(e){a.push([t,e])})):a.push([t,n])})),"fetch"===e._mode){var u=null;if(i.abortController){var f=new AbortController;u=f.signal,e._fetchAbortController=f,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=A.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),n.requestTimeout))}A.fetch(e._opts.url,{method:e._opts.method,headers:a,body:s||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:u}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){A.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var h=e._xhr=new A.XMLHttpRequest;try{h.open(e._opts.method,e._opts.url,!0)}catch(t){return void r.nextTick((function(){e.emit("error",t)}))}"responseType"in h&&(h.responseType=e._mode.split(":")[0]),"withCredentials"in h&&(h.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in h&&h.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(h.timeout=n.requestTimeout,h.ontimeout=function(){e.emit("requestTimeout")}),a.forEach((function(e){h.setRequestHeader(e[0],e[1])})),e._response=null,h.onreadystatechange=function(){switch(h.readyState){case l.LOADING:case l.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(h.onprogress=function(){e._onXHRProgress()}),h.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{h.send(s)}catch(t){return void r.nextTick((function(){e.emit("error",t)}))}}}},f.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new u(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},f.prototype._write=function(e,t,n){this._body.push(e),n()},f.prototype.abort=f.prototype.destroy=function(){this._destroyed=!0,A.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},f.prototype.end=function(e,t,n){"function"==typeof e&&(n=e,e=void 0),a.Writable.prototype.end.call(this,e,t,n)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var h=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n(19).Buffer,n(15),n(16))},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){},function(e,t,n){"use strict";var A=n(32).Buffer,r=n(74);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return A.alloc(0);if(1===this.length)return this.head.data;for(var t,n,r,i=A.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=i,r=s,t.copy(n,r),s+=o.data.length,o=o.next;return i},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var A=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(r.call(setTimeout,A,arguments),clearTimeout)},t.setInterval=function(){return new i(r.call(setInterval,A,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(A,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(76),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(15))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var A,r,i,o,s,a=1,c={},u=!1,l=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?A=function(e){t.nextTick((function(){d(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){d(e.data)},A=function(e){i.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,A=function(e){var t=l.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):A=function(e){setTimeout(d,0,e)}:(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&d(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),A=function(t){e.postMessage(o+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[a]=r,A(a),a++},f.clearImmediate=h}function h(e){delete c[e]}function d(e){if(u)setTimeout(d,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(15),n(16))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var A=!1;return function(){if(!A){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),A=!0}return e.apply(this,arguments)}}}).call(this,n(15))},function(e,t,n){var A=n(19),r=A.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=A:(i(A,t),t.Buffer=o),i(r,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var A=r(e);return void 0!==t?"string"==typeof n?A.fill(t,n):A.fill(t):A.fill(0),A},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return A.SlowBuffer(e)}},function(e,t,n){"use strict";e.exports=i;var A=n(45),r=Object.create(n(25));function i(e){if(!(this instanceof i))return new i(e);A.call(this,e)}r.inherits=n(20),r.inherits(i,A),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){var A=n(19).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(A.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,r=0;r<n;r++)t[r]=e[r];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var A=arguments[t];for(var r in A)n.call(A,r)&&(e[r]=A[r])}return e};var n=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,n){(function(e,A){var r;/*! https://mths.be/punycode v1.3.2 by @mathias */!function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof A&&A;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,c=/^xn--/,u=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,d=String.fromCharCode;function p(e){throw RangeError(f[e])}function g(e,t){for(var n=e.length,A=[];n--;)A[n]=t(e[n]);return A}function v(e,t){var n=e.split("@"),A="";return n.length>1&&(A=n[0]+"@",e=n[1]),A+g((e=e.replace(l,".")).split("."),t).join(".")}function w(e){for(var t,n,A=[],r=0,i=e.length;r<i;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<i?56320==(64512&(n=e.charCodeAt(r++)))?A.push(((1023&t)<<10)+(1023&n)+65536):(A.push(t),r--):A.push(t);return A}function m(e){return g(e,(function(e){var t="";return e>65535&&(t+=d((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=d(e)})).join("")}function B(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function y(e,t,n){var A=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;A+=36)e=h(e/35);return h(A+36*e/(e+38))}function b(e){var t,n,A,r,i,o,s,c,u,l,f,d=[],g=e.length,v=0,w=128,B=72;for((n=e.lastIndexOf("-"))<0&&(n=0),A=0;A<n;++A)e.charCodeAt(A)>=128&&p("not-basic"),d.push(e.charCodeAt(A));for(r=n>0?n+1:0;r<g;){for(i=v,o=1,s=36;r>=g&&p("invalid-input"),((c=(f=e.charCodeAt(r++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||c>h((a-v)/o))&&p("overflow"),v+=c*o,!(c<(u=s<=B?1:s>=B+26?26:s-B));s+=36)o>h(a/(l=36-u))&&p("overflow"),o*=l;B=y(v-i,t=d.length+1,0==i),h(v/t)>a-w&&p("overflow"),w+=h(v/t),v%=t,d.splice(v++,0,w)}return m(d)}function C(e){var t,n,A,r,i,o,s,c,u,l,f,g,v,m,b,C=[];for(g=(e=w(e)).length,t=128,n=0,i=72,o=0;o<g;++o)(f=e[o])<128&&C.push(d(f));for(A=r=C.length,r&&C.push("-");A<g;){for(s=a,o=0;o<g;++o)(f=e[o])>=t&&f<s&&(s=f);for(s-t>h((a-n)/(v=A+1))&&p("overflow"),n+=(s-t)*v,t=s,o=0;o<g;++o)if((f=e[o])<t&&++n>a&&p("overflow"),f==t){for(c=n,u=36;!(c<(l=u<=i?1:u>=i+26?26:u-i));u+=36)b=c-l,m=36-l,C.push(d(B(l+b%m,0))),c=h(b/m);C.push(d(B(c,0))),i=y(n,v,A==r),n=0,++A}++n,++t}return C.join("")}s={version:"1.3.2",ucs2:{decode:w,encode:m},decode:b,encode:C,toASCII:function(e){return v(e,(function(e){return u.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return v(e,(function(e){return c.test(e)?b(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n(36)(e),n(15))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(86),t.encode=t.stringify=n(87)},function(e,t,n){"use strict";function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var c=e.length;a>0&&c>a&&(c=a);for(var u=0;u<c;++u){var l,f,h,d,p=e[u].replace(s,"%20"),g=p.indexOf(n);g>=0?(l=p.substr(0,g),f=p.substr(g+1)):(l=p,f=""),h=decodeURIComponent(l),d=decodeURIComponent(f),A(o,h)?r(o[h])?o[h].push(d):o[h]=[o[h],d]:o[h]=d}return o};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var A=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(o(e),(function(o){var s=encodeURIComponent(A(o))+n;return r(e[o])?i(e[o],(function(e){return s+encodeURIComponent(A(e))})).join(t):s+encodeURIComponent(A(e[o]))})).join(t):s?encodeURIComponent(A(s))+n+encodeURIComponent(A(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],A=0;A<e.length;A++)n.push(t(e[A],A));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";var A=n(13),r=n(46),i=n(89),o=n(52);function s(e){var t=new i(e),n=r(i.prototype.request,t);return A.extend(n,i.prototype,t),A.extend(n,t),n}var a=s(n(49));a.Axios=i,a.create=function(e){return s(o(a.defaults,e))},a.Cancel=n(53),a.CancelToken=n(103),a.isCancel=n(48),a.all=function(e){return Promise.all(e)},a.spread=n(104),e.exports=a,e.exports.default=a},function(e,t,n){"use strict";var A=n(13),r=n(47),i=n(90),o=n(91),s=n(52);function a(e){this.defaults=e,this.interceptors={request:new i,response:new i}}a.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},a.prototype.getUri=function(e){return e=s(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},A.forEach(["delete","get","head","options"],(function(e){a.prototype[e]=function(t,n){return this.request(A.merge(n||{},{method:e,url:t}))}})),A.forEach(["post","put","patch"],(function(e){a.prototype[e]=function(t,n,r){return this.request(A.merge(r||{},{method:e,url:t,data:n}))}})),e.exports=a},function(e,t,n){"use strict";var A=n(13);function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){A.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},function(e,t,n){"use strict";var A=n(13),r=n(92),i=n(48),o=n(49);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=A.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),A.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=r(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var A=n(13);e.exports=function(e,t,n){return A.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var A=n(13);e.exports=function(e,t){A.forEach(e,(function(n,A){A!==t&&A.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[A])}))}},function(e,t,n){"use strict";var A=n(51);e.exports=function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(A("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,A,r){return e.config=t,n&&(e.code=n),e.request=A,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var A=n(97),r=n(98);e.exports=function(e,t){return e&&!A(t)?r(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var A=n(13),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,o={};return e?(A.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=A.trim(e.substr(0,i)).toLowerCase(),n=A.trim(e.substr(i+1)),t){if(o[t]&&r.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},function(e,t,n){"use strict";var A=n(13),r=n(101);e.exports=A.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var A=e;if(r(e))throw new Error("URL contains XSS injection attempt");return t&&(n.setAttribute("href",A),A=n.href),n.setAttribute("href",A),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=A.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";e.exports=function(e){return/(\b)(on\w+)=|javascript|(<\s*)(\/*)script/gi.test(e)}},function(e,t,n){"use strict";var A=n(13);e.exports=A.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),A.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),A.isString(r)&&s.push("path="+r),A.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var A=n(53);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new A(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){var A=n(14),r="model",i="name",o="type",s="vendor",a="version",c="mobile",u="tablet",l="smarttv",f=function(e){var t={};for(var n in e)t[e[n].toUpperCase()]=e[n];return t},h=function(e,t){return"string"===A(e)&&-1!==d(t).indexOf(d(e))},d=function(e){return e.toLowerCase()},p=function(e,t){if("string"===A(e))return e=e.replace(/^\s+|\s+$/g,""),"undefined"===A(t)?e:e.substring(0,255)},g=function(e,t){for(var n,r,i,o,s,a,c=0;c<t.length&&!s;){var u=t[c],l=t[c+1];for(n=r=0;n<u.length&&!s;)if(s=u[n++].exec(e))for(i=0;i<l.length;i++)a=s[++r],o=l[i],"object"===A(o)&&o.length>0?2==o.length?"function"==A(o[1])?this[o[0]]=o[1].call(this,a):this[o[0]]=o[1]:3==o.length?"function"!==A(o[1])||o[1].exec&&o[1].test?this[o[0]]=a?a.replace(o[1],o[2]):void 0:this[o[0]]=a?o[1].call(this,a,o[2]):void 0:4==o.length&&(this[o[0]]=a?o[3].call(this,a.replace(o[1],o[2])):void 0):this[o]=a||void 0;c+=2}},v=function(e,t){for(var n in t)if("object"===A(t[n])&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(h(t[n][r],e))return"?"===n?void 0:n}else if(h(t[n],e))return"?"===n?void 0:n;return e},w={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},m={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[a,[i,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[a,[i,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[i,a],[/opios[\/ ]+([\w\.]+)/i],[a,[i,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[a,[i,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[i,a],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[a,[i,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[a,[i,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[a,[i,"WeChat"]],[/konqueror\/([\w\.]+)/i],[a,[i,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[a,[i,"IE"]],[/yabrowser\/([\w\.]+)/i],[a,[i,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[i,/(.+)/,"$1 Secure Browser"],a],[/\bfocus\/([\w\.]+)/i],[a,[i,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[a,[i,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[a,[i,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[a,[i,"Dolphin"]],[/coast\/([\w\.]+)/i],[a,[i,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[a,[i,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[a,[i,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[i,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[i,/(.+)/,"$1 Browser"],a],[/(comodo_dragon)\/([\w\.]+)/i],[[i,/_/g," "],a],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[i,a],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[i],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[i,"Facebook"],a],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[i,a],[/\bgsa\/([\w\.]+) .*safari\//i],[a,[i,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[a,[i,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[i,"Chrome WebView"],a],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[a,[i,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[i,a],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[a,[i,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[a,i],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[i,[a,v,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[i,a],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[i,"Netscape"],a],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[a,[i,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[i,a]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",d]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",d]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",d]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[r,[s,"Samsung"],[o,u]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[r,[s,"Samsung"],[o,c]],[/\((ip(?:hone|od)[\w ]*);/i],[r,[s,"Apple"],[o,c]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[r,[s,"Apple"],[o,u]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[r,[s,"Huawei"],[o,u]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[r,[s,"Huawei"],[o,c]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[r,/_/g," "],[s,"Xiaomi"],[o,c]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[r,/_/g," "],[s,"Xiaomi"],[o,u]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[r,[s,"OPPO"],[o,c]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[r,[s,"Vivo"],[o,c]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[r,[s,"Realme"],[o,c]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[r,[s,"Motorola"],[o,c]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[r,[s,"Motorola"],[o,u]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[r,[s,"LG"],[o,u]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[r,[s,"LG"],[o,c]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[r,[s,"Lenovo"],[o,u]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[r,/_/g," "],[s,"Nokia"],[o,c]],[/(pixel c)\b/i],[r,[s,"Google"],[o,u]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[r,[s,"Google"],[o,c]],[/droid.+ ([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[r,[s,"Sony"],[o,c]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[r,"Xperia Tablet"],[s,"Sony"],[o,u]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[r,[s,"OnePlus"],[o,c]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[r,[s,"Amazon"],[o,u]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[r,/(.+)/g,"Fire Phone $1"],[s,"Amazon"],[o,c]],[/(playbook);[-\w\),; ]+(rim)/i],[r,s,[o,u]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[r,[s,"BlackBerry"],[o,c]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[r,[s,"ASUS"],[o,u]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[r,[s,"ASUS"],[o,c]],[/(nexus 9)/i],[r,[s,"HTC"],[o,u]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[s,[r,/_/g," "],[o,c]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[r,[s,"Acer"],[o,u]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[r,[s,"Meizu"],[o,c]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[r,[s,"Sharp"],[o,c]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[s,r,[o,c]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[s,r,[o,u]],[/(surface duo)/i],[r,[s,"Microsoft"],[o,u]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[r,[s,"Fairphone"],[o,c]],[/(u304aa)/i],[r,[s,"AT&T"],[o,c]],[/\bsie-(\w*)/i],[r,[s,"Siemens"],[o,c]],[/\b(rct\w+) b/i],[r,[s,"RCA"],[o,u]],[/\b(venue[\d ]{2,7}) b/i],[r,[s,"Dell"],[o,u]],[/\b(q(?:mv|ta)\w+) b/i],[r,[s,"Verizon"],[o,u]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[r,[s,"Barnes & Noble"],[o,u]],[/\b(tm\d{3}\w+) b/i],[r,[s,"NuVision"],[o,u]],[/\b(k88) b/i],[r,[s,"ZTE"],[o,u]],[/\b(nx\d{3}j) b/i],[r,[s,"ZTE"],[o,c]],[/\b(gen\d{3}) b.+49h/i],[r,[s,"Swiss"],[o,c]],[/\b(zur\d{3}) b/i],[r,[s,"Swiss"],[o,u]],[/\b((zeki)?tb.*\b) b/i],[r,[s,"Zeki"],[o,u]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[s,"Dragon Touch"],r,[o,u]],[/\b(ns-?\w{0,9}) b/i],[r,[s,"Insignia"],[o,u]],[/\b((nxa|next)-?\w{0,9}) b/i],[r,[s,"NextBook"],[o,u]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[s,"Voice"],r,[o,c]],[/\b(lvtel\-)?(v1[12]) b/i],[[s,"LvTel"],r,[o,c]],[/\b(ph-1) /i],[r,[s,"Essential"],[o,c]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[r,[s,"Envizen"],[o,u]],[/\b(trio[-\w\. ]+) b/i],[r,[s,"MachSpeed"],[o,u]],[/\btu_(1491) b/i],[r,[s,"Rotor"],[o,u]],[/(shield[\w ]+) b/i],[r,[s,"Nvidia"],[o,u]],[/(sprint) (\w+)/i],[s,r,[o,c]],[/(kin\.[onetw]{3})/i],[[r,/\./g," "],[s,"Microsoft"],[o,c]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[r,[s,"Zebra"],[o,u]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[r,[s,"Zebra"],[o,c]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[s,r,[o,"console"]],[/droid.+; (shield) bui/i],[r,[s,"Nvidia"],[o,"console"]],[/(playstation [345portablevi]+)/i],[r,[s,"Sony"],[o,"console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[r,[s,"Microsoft"],[o,"console"]],[/smart-tv.+(samsung)/i],[s,[o,l]],[/hbbtv.+maple;(\d+)/i],[[r,/^/,"SmartTV"],[s,"Samsung"],[o,l]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[s,"LG"],[o,l]],[/(apple) ?tv/i],[s,[r,"Apple TV"],[o,l]],[/crkey/i],[[r,"Chromecast"],[s,"Google"],[o,l]],[/droid.+aft(\w)( bui|\))/i],[r,[s,"Amazon"],[o,l]],[/\(dtv[\);].+(aquos)/i],[r,[s,"Sharp"],[o,l]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[s,p],[r,p],[o,l]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[o,l]],[/((pebble))app/i],[s,r,[o,"wearable"]],[/droid.+; (glass) \d/i],[r,[s,"Google"],[o,"wearable"]],[/droid.+; (wt63?0{2,3})\)/i],[r,[s,"Zebra"],[o,"wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[s,[o,"embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[r,[o,c]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[r,[o,u]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[o,u]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[o,c]],[/(android[-\w\. ]{0,9});.+buil/i],[r,[s,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[a,[i,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[a,[i,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[i,a],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[a,i]],os:[[/microsoft (windows) (vista|xp)/i],[i,a],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[i,[a,v,w]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[i,"Windows"],[a,v,w]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[a,/_/g,"."],[i,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[i,"Mac OS"],[a,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[a,i],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[i,a],[/\(bb(10);/i],[a,[i,"BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[a,[i,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[a,[i,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[a,[i,"webOS"]],[/crkey\/([\d\.]+)/i],[a,[i,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[i,"Chromium OS"],a],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[i,a],[/(sunos) ?([\w\.\d]*)/i],[[i,"Solaris"],a],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[i,a]]},B=function e(t,n){if("object"===A(t)&&(n=t,t=void 0),!(this instanceof e))return new e(t,n).getResult();var r=t||("undefined"!==("undefined"==typeof window?"undefined":A(window))&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""),o=n?function(e,t){var n={};for(var A in e)t[A]&&t[A].length%2==0?n[A]=t[A].concat(e[A]):n[A]=e[A];return n}(m,n):m;return this.getBrowser=function(){var e,t={};return t[i]=void 0,t[a]=void 0,g.call(t,r,o.browser),t.major=(e=t.version,"string"===A(e)?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0),t},this.getCPU=function(){var e={architecture:void 0};return g.call(e,r,o.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return g.call(e,r,o.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return g.call(e,r,o.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return g.call(e,r,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r="string"===A(e)&&e.length>255?p(e,255):e,this},this.setUA(r),this};B.VERSION="0.7.28",B.BROWSER=f([i,a,"major"]),B.CPU=f(["architecture"]),B.DEVICE=f([r,s,o,"console",c,l,u,"wearable","embedded"]),B.ENGINE=B.OS=f([i,a]),e.exports={UAParser:B}},function(e,t,n){"use strict";n.r(t),n.d(t,"agent",(function(){return wt})),n.d(t,"client",(function(){return mt})),n.d(t,"IRtc",(function(){return vt}));var A=n(21),r=n.n(A),i=n(12),o=n.n(i),s=n(5),a=n.n(s),c=n(9),u=n.n(c),l=n(11),f=n.n(l),h=n(2),d=n.n(h),p=n(0),g=n(10),v=n(8),w=n(7),m=n(6),B=n(31),y=n.n(B),b=n(1),C=n(3);function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var A=0,r=function(){};return{s:r,n:function(){return A>=e.length?{done:!0}:{done:!1,value:e[A++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,A=new Array(t);n<t;n++)A[n]=e[n];return A}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,r=0;if(!e)return A("publication is null"),0;if(!Object.prototype.hasOwnProperty.call(e,"getStats"))return A("publication.getStats is not function"),0;var i=function(t){e.getStats().then((function(e){t(e)})).catch((function(t){p.a.error("".concat(new Date,",publication ").concat(e.id," getstats error,").concat(t,"}")),r&&(clearInterval(r),r=null),A(t)}))};return R()?(r=setInterval((function(){i((function(e){n(I(e))}))}),t),i((function(e){n(I(e))}))):(r=setInterval((function(){i((function(e){n(U(e))}))}),t),i((function(e){n(U(e))}))),r}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,r=0;if(!e)return A("subscription is null"),-1;if(!Object.prototype.hasOwnProperty.call(e,"getStats"))return A("subscription.getStats is not function"),-1;var i=function(t){e.getStats().then((function(n){console.log("".concat(new Date,",subscription ").concat(e.id," getstats error,").concat(n,"}")),t(n)})).catch((function(t){console.log("".concat(new Date,",subscription ").concat(e.id," getstats error,").concat(t,"}")),r&&(clearInterval(r),r=null),A(t)}))};return R()?(r=setInterval((function(){i((function(e){n(O(e))}))}),t),i((function(e){n(O(e))}))):(r=setInterval((function(){i((function(e){n(F(e))}))}),t),i((function(e){n(F(e))}))),r}function U(e){var t,n={actualBitrate:0,actualWidth:0,actualHeight:0,packetsLost:0,packetsSent:0,rate:0,bytesSent:0},A=k(e);try{for(A.s();!(t=A.n()).done;){var r=t.value,i=r[0];"bweforvideo"===i&&(n.actualBitrate=r[1].googTransmitBitrate?r[1].googTransmitBitrate/1e3:0),-1!=i.indexOf("ssrc")&&-1!=i.indexOf("send")&&r[1].mediaType&&"video"===r[1].mediaType&&(n.actualWidth=r[1].googFrameWidthSent?r[1].googFrameWidthSent:0,n.actualHeight=r[1].googFrameHeightSent?r[1].googFrameHeightSent:0,n.rate=r[1].googFrameRateSent?r[1].googFrameRateSent:0,n.bytesSent=r[1].bytesSent?r[1].bytesSent:0,n.packetsSent=r[1].packetsSent?r[1].packetsSent:0,n.packetsLost=r[1].packetsLost?r[1].packetsLost:0)}}catch(e){A.e(e)}finally{A.f()}return n}function I(e){var t={actualBitrate:0,actualWidth:0,actualHeight:0,packetsLost:0,packetsSent:0,rate:0,bytesSent:0};return e.forEach((function(e){var n=e.id;-1!=n.indexOf("RTCOutboundRTPVideoStream")&&(t.bytesSent=e.bytesSent?e.bytesSent:0,t.packetsSent=e.packetsSent?e.packetsSent:0,t.packetsLost=e.nackCount?e.nackCount:0),-1!=n.indexOf("RTCIceCandidatePair")&&(t.actualBitrate=e.availableOutgoingBitrate?e.availableOutgoingBitrate/1e3:0),-1!=n.indexOf("RTCMediaStreamTrack_sender")&&(e.frameWidth&&(t.actualWidth=e.frameWidth),e.frameHeight&&(t.actualHeight=e.frameHeight))})),t}function F(e){var t,n={actualWidth:0,actualHeight:0,packetsLost:0,packetsReceived:0,rate:0,bytesReceived:0,delayMs:0,jitterBufferMs:0,framesEncoded:0},A=k(e);try{for(A.s();!(t=A.n()).done;){var r=t.value;console.debug(r);var i=r[0];-1!=i.indexOf("ssrc")&&-1!=i.indexOf("recv")&&r[1].mediaType&&"video"===r[1].mediaType&&(n.actualWidth=r[1].googFrameWidthReceived?r[1].googFrameWidthReceived:0,n.actualHeight=r[1].googFrameHeightReceived?r[1].googFrameHeightReceived:0,n.rate=r[1].googFrameRateReceived?r[1].googFrameRateReceived:0,n.bytesReceived=r[1].bytesReceived?r[1].bytesReceived:0,n.packetsReceived=r[1].packetsReceived?r[1].packetsReceived:0,n.packetsLost=r[1].packetsLost?r[1].packetsLost:0,n.jitterBufferMs=r[1].googJitterBufferMs?r[1].googJitterBufferMs:0,n.framesEncoded=r[1].framesDecoded?r[1].framesDecoded:0,n.delayMs=r[1].googTargetDelayMs?r[1].googTargetDelayMs:0)}}catch(e){A.e(e)}finally{A.f()}return n}function O(e){var t={actualWidth:0,actualHeight:0,packetsLost:0,packetsReceived:0,bytesReceived:0,framesEncoded:0};return e.forEach((function(e){var n=e.id;-1!=n.indexOf("RTCInboundRTPVideoStream")&&(t.bytesReceived=e.bytesReceived?e.bytesReceived:0,t.packetsReceived=e.packetsReceived?e.packetsReceived:0,t.packetsLost=e.packetsLost?e.packetsLost:0,t.delayMs=e.totalInterFrameDelay?e.totalInterFrameDelay:0,t.framesEncoded=e.framesDecoded?e.framesDecoded:0),-1!=n.indexOf("RTCIceCandidatePair")&&(t.actualBitrate=e.availableOutgoingBitrate?e.availableOutgoingBitrate/1e3:0),-1!=n.indexOf("RTCMediaStreamTrack_receiver")&&(e.frameWidth&&(t.actualWidth=e.frameWidth),e.frameHeight&&(t.actualHeight=e.frameHeight))})),t}function R(){var e=window.navigator.userAgent.toLowerCase().match(/ipad/i),t=window.navigator.userAgent.toLowerCase().match(/iphone/i),n=window.navigator.userAgent.toLowerCase().match(/ios/i);return t=null!==t?t[0]:null,e=null!==e?e[0]:null,n=null!==n?n[0]:null,"iphone"===t||"ipad"===e||"ios"===n||/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)}function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var A=0,r=function(){};return{s:r,n:function(){return A>=e.length?{done:!0}:{done:!1,value:e[A++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,A=new Array(t);n<t;n++)A[n]=e[n];return A}var D="irtc_publicationend",T="irtc_publicationunmute",L="irtc_publicationmute",M="irtc_subscriptionend",H="irtc_subscriptionunmute",P="irtc_subscriptionmute",j="irtc_streamadd",N="irtc_streamended",K="irtc_streamUpdated",V="irtc_participantadd",G="irtc_participantleft",W="serverDisconnected",q="publishFailed",J="subscribeFailed",Y="ASREVENT",X="tts_stream_speaking",Z="tts_stream_speakDone",z=n(54),$=function(){function e(t,n,A){u()(this,e);var r=z.Conference.ConferenceClient;if(t){var i={rtcConfiguration:{iceServers:[{urls:[t],credential:n,username:A}]}};this.irtcClient=new r(i)}else this.irtcClient=new r;this.subscriptionArr=[],this.participants=[],this.publicationArr=[],this.createStreams=[],this.remoteStreams=[],this.localRecordList=new Map,this.audioContextList=new Map}return f()(e,[{key:"createCameraMicStream",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],A=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=z.Base.StreamSourceInfo,o=A?"camera":void 0,s=n?"mic":void 0,a=new i(s,o),c={audio:e,video:!!A&&t};return p.a.info("stream constraints is",c),this.createWebRtcMediaStream(c,a,r)}},{key:"createScreenStream",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},A=z.Base.StreamSourceInfo,r="screen-cast",i="screen-cast",o=new A(i,r),s={audio:e,video:t};return p.a.info("screen stream constraints is",s),this.createWebRtcMediaStream(s,o,n)}},{key:"createWebRtcMediaStream",value:function(e,t,n){var A=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=z.Base,o=i.LocalStream,s=i.MediaStreamFactory;return new Promise((function(i,a){s.createMediaStream(e).then((function(e){var s=new o(e,t,n,r);s&&s.id&&A.createStreams.push(s),i(s)})).catch((function(e){p.a.warning("create Local stream error,".concat(e,",").concat((new Date).toISOString()));var t=e.name||e.message||e,n=C.b.ERROR_ZMS_CREATESTREAM_FAILED;-1!=t.toLowerCase().indexOf("aborterror")?n=C.b.ERROR_ZMS_ABORTERROR:-1!=t.toLowerCase().indexOf("notallowederror")?n=C.b.ERROR_ZMS_NOTALLOWEDERROR:-1!=t.toLowerCase().indexOf("notfounderror")?n=C.b.ERROR_ZMS_NOTFOUNDERROR:-1!=t.toLowerCase().indexOf("notreadableerror")?n=C.b.ERROR_ZMS_NOTREADABLEERROR:-1!=t.toLowerCase().indexOf("overconstrainederror")?n=C.b.ERROR_ZMS_OVERCONSTRAINEDERROR:-1!=t.toLowerCase().indexOf("securityerror")?n=C.b.ERROR_ZMS_SECURITYERROR:-1!=t.toLowerCase().indexOf("typeerror")&&(n=C.b.ERROR_ZMS_TYPEERROR);var A=new b.a(n,"create stream failed,".concat(e));a(A)}))}))}},{key:"createAudioMediaStream",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],A=z.Base.StreamSourceInfo,r=void 0,i="mic",o=new A(i,r);return this.createWebRtcMediaStream(e,o,t,n)}},{key:"createVideoMediaStream",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],A=z.Base.StreamSourceInfo,r="camera",i=void 0,o=new A(i,r);return this.createWebRtcMediaStream(e,o,t,n)}},{key:"joinRoom",value:function(e){var t=this;return new Promise((function(n,A){var r=t;t.irtcClient.join(e).then((function(e){r.setRoomInfo(e),r.clientAddListener(),n(e)})).catch((function(e){A(e)}))}))}},{key:"setRoomInfo",value:function(e){this.participants=e.participants,this.self=e.self,this.id=e.id,this.remoteStreams=e.remoteStreams,this.whiteboards=e.whiteboards,this.mixStreamId=this.remoteStreams[0]?this.remoteStreams[0].id:void 0;for(var t=0;t<this.participants.length;t++){var n=this.participants[t];this.participantAddListener(n)}for(var A=0;A<this.remoteStreams.length;A++){var r=this.remoteStreams[A];this.streamAddListener(r)}}},{key:"getStreamInfo",value:function(e){var t=e.id;e.attributes&&"string"==typeof e.attributes&&Object(m.e)(e.attributes)&&(e.attributes=JSON.parse(e.attributes),e.attributes&&e.attributes.userInfo&&Object(m.e)(e.attributes.userInfo)&&(e.attributes.userInfo=JSON.parse(e.attributes.userInfo)));var n=e.attributes&&e.attributes.type?e.attributes.type:e.id,A=!1;(e.media&&e.media.video&&!e.media.video.status||e.settings&&!e.settings.video)&&(A=!0);var r=void 0;e.media&&e.media.video&&"active"===e.media.video.status?r=!1:e.media&&e.media.video&&"inactive"===e.media.video.status?r=!0:e.settings.video&&(r=!1);var i=void 0;return e.media&&e.media.audio&&"active"===e.media.audio.status?i=!1:e.media&&e.media.audio&&"inactive"===e.media.audio.status?i=!0:e.settings.audio&&(i=!1),e.attributes&&e.attributes.userInfo&&Object(m.e)(e.attributes.userInfo)&&(e.attributes.userInfo=JSON.parse(e.attributes.userInfo)),{id:t,streamLabel:n,audioOnly:A,isAudioMute:i,isVideoMute:r,userInfo:e.attributes&&e.attributes.userInfo?e.attributes.userInfo:{}}}},{key:"clientAddListener",value:function(){var e=this;this.streamAddImplementation=function(t){var n=t.stream;e.remoteStreams.push(n),e.streamAddListener(n);var A=e.getStreamInfo(n);Object(w.c)(j,null,{id:A.id,streamLabel:A.streamLabel,audioOnly:A.audioOnly,userInfo:A.userInfo,isAudioMute:A.isAudioMute,isVideoMute:A.isVideoMute}),p.a.info("new stream add",n,(new Date).toISOString())},this.participantJoinedImplementation=function(t){var n=t.participant;e.participants.push(n),e.participantAddListener(n),Object(w.c)(V,null,n),p.a.info("new participant joined",n,(new Date).toISOString())},this.serverDisconnectedImplementation=function(){Object(w.c)(W,null,null),p.a.info("irtc server disconnected",(new Date).toISOString())},this.serverReconnectedImplementation=function(){p.a.info("irtc server reconnected",(new Date).toISOString())},this.messageReceivedImplementation=function(e){p.a.info("receive message",e,(new Date).toISOString())},this.irtcClient.addEventListener("streamadded",this.streamAddImplementation),this.irtcClient.addEventListener("participantjoined",this.participantJoinedImplementation),this.irtcClient.addEventListener("serverdisconnected",this.serverDisconnectedImplementation),this.irtcClient.addEventListener("serverreconnected",this.serverReconnectedImplementation),this.irtcClient.addEventListener("messagereceived",this.messageReceivedImplementation)}},{key:"sendMessage",value:function(e,t){var n=this;return new Promise((function(A,r){n.irtcClient.send(e,t).then((function(e){A(e)})).catch((function(e){p.a.warning("send message error:"+e+" time:",(new Date).toISOString()),r(e)}))}))}},{key:"leaveRoom",value:function(){for(var e=this,t=0;t<this.participants.length;t++){var n=this.participants[t];this.participantRemoveListener(n)}for(var A=0;A<this.remoteStreams.length;A++){var i=this.remoteStreams[A];this.streamRemoveListener(i)}for(var o=0;o<this.publicationArr.length;o++){var s=this.publicationArr[o];this.publicationRemoveListener(s),s.getStatsIntervalId&&(clearInterval(s.getStatsIntervalId),s.getStatsIntervalId=null)}for(var a=0;a<this.subscriptionArr.length;a++){var c=this.subscriptionArr[a];this.subscriptionRemoveListener(c)}for(var u=0;u<this.createStreams.length;u++){ee(this.createStreams[u])}var l,f=x(this.audioContextList);try{for(f.s();!(l=f.n()).done;){var h=r()(l.value,2),d=h[0];h[1].close(),this.audioContextList.delete(d)}}catch(e){f.e(e)}finally{f.f()}return this.clientRemoveListener(),new Promise((function(t,n){e.irtcClient.leave().then((function(e){p.a.info("leave room success',".concat(e,",").concat((new Date).toISOString())),t(e)})).catch((function(e){p.a.info("leave room error',".concat(e,",").concat((new Date).toISOString())),n(e)}))}))}},{key:"subscribeStream",value:function(e){var t=this,n=[void 0!==e.settings.audio,void 0!==e.settings.video],A={audio:n[0],video:n[1]};return new Promise((function(n,r){var i=t;t.irtcClient.subscribe(e,A).then((function(t){t.originId=e.id,i.subscriptionArr.push(t),i.subscriptionAddListener(t),n(t)})).catch((function(t){Object(w.c)(J,null,{value:e.id}),r(t)}))}))}},{key:"subscriptionAddListener",value:function(e){var t=this;this.subscriptionEndedImplementation=function(n){Object(m.i)(t.subscriptionArr,e.id),setTimeout((function(){var n=t.remoteStreams.filter((function(t){return t.id==e.originId}));if(n&&n.length>0){var A=n[0],r=A.attributes&&A.attributes.type?A.attributes.type:A.id;Object(w.c)(M,null,{value:e.id,streamLabel:r})}}),500),p.a.info("subscription is end with subscriptionId,".concat(e.id,",originStreamId,").concat(e.originId,",event kind,").concat(n.kind,",time:,").concat((new Date).toISOString()))},this.subscriptionMuteImplementation=function(t){Object(w.c)(P,null,{value:e,kind:t.kind}),p.a.info("subscription is muted with subscriptionId,".concat(e.id,",originStreamId,").concat(e.originId,",event kind,").concat(t.kind,",,").concat((new Date).toISOString()))},this.subscriptionUnmuteImplementation=function(t){Object(w.c)(H,null,{value:e,kind:t.kind}),p.a.info("subscription is unmuted with subscriptionId,".concat(e.id,",originStreamId,").concat(e.originId,",event kind,").concat(t.kind,",").concat((new Date).toISOString()))},e.addEventListener("ended",this.subscriptionEndedImplementation),e.addEventListener("mute",this.subscriptionMuteImplementation),e.addEventListener("unmute",this.subscriptionUnmuteImplementation)}},{key:"subscriptionRemoveListener",value:function(e){e&&(e.clearEventListener("ended"),e.clearEventListener("mute"),e.clearEventListener("unmute"),e.removeEventListener("ended",this.subscriptionEndedImplementation),e.removeEventListener("mute",this.subscriptionMuteImplementation),e.removeEventListener("unmute",this.subscriptionUnmuteImplementation))}},{key:"publishStream",value:function(e,t){var n=this;return new Promise((function(A,r){var i=n,o=e.mediaStream?e.mediaStream.getAudioTracks():e.getAudioTracks(),s=e.mediaStream?e.mediaStream.getVideoTracks():e.getVideoTracks();(!o||o.length<=0)&&(t.audio=!1),(!s||s.length<=0)&&(t.video=!1),n.irtcClient.publish(e,t).then((function(t){t.originId=e.id,i.publicationArr.push(t),i.publicationAddListener(t),A(t)})).catch((function(t){Object(w.c)(q,null,{value:e.id}),r(t)}))}))}},{key:"publicationMediaOperate",value:function(e,t,n){return new Promise(t?function(t,A){"audio"==e&&"video"==e?n.mute(e).then((function(e){t(e)})).catch((function(e){A(e)})):A("The parameter type is invalid. Only Audio and video are supported")}:function(t,A){"audio"==e&&"video"==e?n.unmute(e).then((function(e){t(e)})).catch((function(e){A(e)})):A("The parameter type is invalid. Only Audio and video are supported")})}},{key:"publicationAddListener",value:function(e){var t=this;this.publicationEndImplementation=function(n){Object(m.i)(t.publicationArr,e.id),Object(w.c)(D,null,{value:e.id});for(var A="",r=0;r<t.createStreams.length;r++){var i=t.createStreams[r];i.id===e.originId&&(A=i.id)}Object(m.i)(t.createStreams,A),p.a.info("publication end,streamId:".concat(e.id,",").concat(JSON.stringify(n),",").concat(JSON.stringify(e),",").concat((new Date).toISOString()))},this.publicationMuteImplementation=function(t){Object(w.c)(L,null,{value:e,kind:t.kind}),p.a.info("publication publicationId:".concat(e.id," muted ").concat(t.kind,":").concat((new Date).toISOString()))},this.publicationUnmuteImplementation=function(t){Object(w.c)(T,null,{value:e,kind:t.kind}),p.a.info("publication publicationId:".concat(e.id," unmuted ").concat(t.kind,":").concat((new Date).toISOString()))},e.addEventListener("mute",this.publicationMuteImplementation),e.addEventListener("unmute",this.publicationUnmuteImplementation),e.addEventListener("ended",this.publicationEndImplementation)}},{key:"publicationRemoveListener",value:function(e){e&&(e.clearEventListener("ended"),e.clearEventListener("unmute"),e.clearEventListener("mute"),e.removeEventListener("ended",this.publicationEndImplementation),e.removeEventListener("mute",this.publicationMuteImplementation),e.removeEventListener("unmute",this.publicationUnmuteImplementation),p.a.info("".concat(JSON.stringify(e)," remove listener:").concat((new Date).toISOString())))}},{key:"streamAddListener",value:function(e){var t=this;this.streamEndedImplementation=function(n){Object(m.i)(t.remoteStreams,e.id),Object(w.c)(N,null,{id:e.id,attributes:e.attributes}),p.a.info("stream ".concat(e.id," is end,").concat(JSON.stringify(n),",time:").concat((new Date).toISOString()));var A=Object(m.a)(t.getStreamInfo(e));Object(w.c)(Z,null,{streamId:e.id,streamLabel:A.streamLabel,userInfo:A.userInfo,content:"ok"})},this.streamAsrEvent=function(t){var n=e.attributes&&e.attributes.type?e.attributes.type:e.id;Object(w.c)(Y,null,{id:e.id,attributes:e.attributes,content:t&&t.info&&t.info.content?t.info.content:"",streamLabel:n,clientId:e.attributes&&e.attributes.clientId?e.attributes.clientId:"",owner:e.attributes&&e.attributes.owner?e.attributes.owner:""}),p.a.info("stream asr event triggered: ",t,e.id,(new Date).toISOString())},this.streamUpdatedEvent=function(t){if(p.a.info("stream update eventInfo:",t,"with streamId:",e.id,"&streamInfo:",e,(new Date).toISOString()),t&&"updated"===t.type&&t.info&&t.info.length>0){var n=e.attributes&&e.attributes.type?e.attributes.type:e.id,A=e.attributes&&e.attributes.userInfo?e.attributes.userInfo:{};Object(w.c)(K,null,{id:e.id,streamLabel:n,userInfo:A,info:t.info})}},this.streamSpeakEvent=function(n){p.a.info("stream speaking,".concat(JSON.stringify(n),",streamId,").concat(e.id,",time:").concat((new Date).toISOString()));var A=Object(m.a)(t.getStreamInfo(e));n&&"speaking"===n.type&&n.info&&"tts"===n.info.type&&"start"===n.info.status?Object(w.c)(X,null,{streamId:e.id,streamLabel:A.streamLabel,userInfo:A.userInfo,content:n.info.data}):n&&"speaking"===n.type&&n.info&&"tts"===n.info.type&&"done"===n.info.status&&Object(w.c)(Z,null,{streamId:e.id,streamLabel:A.streamLabel,userInfo:A.userInfo,content:n.info.data})},e.addEventListener("ended",this.streamEndedImplementation),e.addEventListener("asr",this.streamAsrEvent),e.addEventListener("updated",this.streamUpdatedEvent),e.addEventListener("speaking",this.streamSpeakEvent)}},{key:"streamRemoveListener",value:function(e){e&&(e.removeEventListener("ended",this.streamEndedImplementation),e.clearEventListener("ended"),p.a.info("".concat(JSON.stringify(e)," remove ended listener,:").concat((new Date).toISOString())))}},{key:"participantAddListener",value:function(e){var t=this;this.participantLeftImplementation=function(n){Object(m.i)(t.participants,e.id),Object(w.c)(G,null,e),p.a.info("participant:".concat(e.id," is left,").concat(JSON.stringify(n),",:").concat((new Date).toISOString()))},e.addEventListener("left",this.participantLeftImplementation)}},{key:"participantRemoveListener",value:function(e){e&&(e.removeEventListener("left",this.participantLeftImplementation),e.clearEventListener("left"),p.a.info("".concat(JSON.stringify(e)," remove left listener,:").concat((new Date).toISOString())))}},{key:"clientRemoveListener",value:function(){this.irtcClient.clearEventListener("streamadded"),this.irtcClient.clearEventListener("serverdisconnected"),this.irtcClient.clearEventListener("participantjoined"),this.irtcClient.clearEventListener("messagereceived"),this.irtcClient.removeEventListener("streamadded",this.streamAddImplementation),this.irtcClient.removeEventListener("participantjoined",this.participantJoinedImplementation),this.irtcClient.removeEventListener("serverdisconnected",this.serverDisconnectedImplementation),this.irtcClient.removeEventListener("serverreconnected",this.serverReconnectedImplementation),this.irtcClient.removeEventListener("messagereceived",this.messageReceivedImplementation)}},{key:"isMePublishStream",value:function(e){return e.origin===this.self.id}},{key:"startLocalRecord",value:function(e,t,n){var A=z.Base,r=A.LocalRecorder,i=new(0,A.RecordOptions)(t),o=new r(e,i);return o.addEventListener("onstart",(function(){p.a.info("start record stream:",e.id),n(e.id)})),o.addEventListener("onpause",(function(){p.a.info("pause record stream:",e.id)})),o.addEventListener("onresume",(function(){p.a.info("resume record stream:",e.id)})),o.start(),o}},{key:"stopLcoalRecord",value:function(e){e.stop()}},{key:"downloadLocalRecord",value:function(e,t){e.download(t)}},{key:"getLocalRecordSupportType",value:function(){var e=z.Base.LocalRecorder,t=[];return e.getSupportedType().forEach((function(e){t.push(e)})),t}},{key:"getPublicationStats",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0;return e?e.getStatsIntervalId&&-1!=e.getStatsIntervalId?(A(new b.a("402","getPublicationStats is in progress")),e.getStatsIntervalId):(e.publishPacketsSent?e.publishPacketsSent:e.publishPacketsSent=0,e.publishPacketsLost?e.publishPacketsLost:e.publishPacketsLost=0,p.a.debug("PacketsSent",e.publishPacketsSent,"PacketsLost",e.publishPacketsLost),e.getStatsIntervalId=S(e,t,(function(t){var A=Number(t.packetsLost)-Number(e.publishPacketsLost),r=Number(t.packetsSent)-Number(e.publishPacketsSent);t.packetsLostRate=(A/(A+r)).toFixed(2),e.publishPacketsLost=Number(t.packetsLost)<Number(e.publishPacketsLost)?Number(e.publishPacketsLost):Number(t.packetsLost),e.publishPacketsSent=Number(t.packetsSent),n(t)}),(function(e){A(new b.a("403",e))})),e.getStatsIntervalId):(A(new b.a("401","publication is null")),-1)}},{key:"stopPublicationStats",value:function(e,t,n,A){return e?t!==e.getStatsIntervalId?(A(new b.a("402","intervalId is error")),-1):void(-1!=t&&(clearInterval(t),e.getStatsIntervalId=null,n("ok"))):(A(new b.a("401","publication is null")),-1)}},{key:"getSubscriptionStats",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0;return e?e.getStatsIntervalId&&-1!=e.getStatsIntervalId?(A(new b.a("402","getSubscriptionStats is in progress")),e.getStatsIntervalId):(e.bytesReceived?e.bytesReceived:e.bytesReceived=0,e.getStatsIntervalId=Q(e,t,(function(A){A.actualBitrate=(Number(A.bytesReceived)-Number(e.bytesReceived))/t*1e3,e.bytesReceived=A.bytesReceived,n(A)}),(function(e){A(new b.a("403",e))})),e.getStatsIntervalId):(A(new b.a("401","subscription is null")),-1)}},{key:"stopSubscriptionStats",value:function(e,t,n,A){return e?t!==e.getStatsIntervalId?(A(new b.a("402","intervalId is error")),-1):void(-1!=t&&(clearInterval(t),e.getStatsIntervalId=null,n("ok"))):(A(new b.a("401","subscription is null")),-1)}},{key:"getAudioLevel",value:function(e,t,n,A){var r=this,i=document.getElementById(e);if(!i)return console.error("".concat(e," dom not exist")),void n("500","".concat(e," dom not exist"));if(!i.srcObject)return console.error("".concat(e," dom srcObject is null")),void n("501","".concat(e," dom srcObject is null"));if(!t||!n||!A)return console.error("onSuccess or onFailure, or cb, is undefined"),void n("502","onSuccess or onFailure, or cb, is undefined");try{var o=new(window.webkitAudioContext||window.AudioContext),s=o.createMediaStreamSource(i.srcObject),a=o.createScriptProcessor(4096,1,1);s.connect(a),a.connect(o.destination),a.onaudioprocess=function(n){var i=n&&n.inputBuffer&&n.inputBuffer.getChannelData(0),s=Math.max.apply(Math,i);A(s?Math.round(100*s):0),t("ok"),r.audioContextList.set(e,o)}}catch(t){console.error("getAudioLevel videoId: ".concat(e," catch error,").concat(t,",time:").concat((new Date).toISOString()))}}},{key:"suspendGetAudioLevel",value:function(e,t,n){if(!document.getElementById(e))return console.error("".concat(e," dom not exist")),void n("500","".concat(e," dom not exist"));var A=this.audioContextList.get(e);A?A.suspend().then((function(n){console.log("audioContext:".concat(A," suspend success with videoId:").concat(e,",result:").concat(n)),t(n)})).catch((function(t){console.log("audioContext:".concat(A," suspend error with videoId:").concat(e,",errorInfo:").concat(t)),n("502",t)})):n("501","".concat(e," not exist audioContext,not getAudioLevel"))}},{key:"resumeGetAudioLevel",value:function(e,t,n){if(!document.getElementById(e))return console.error("".concat(e," dom not exist")),void n("500","".concat(e," dom not exist"));var A=this.audioContextList.get(e);A?A.resume().then((function(n){console.log("audioContext:".concat(A," resume success with videoId:").concat(e,",result:").concat(n)),t(n)})).catch((function(t){console.log("audioContext:".concat(A," resume error with videoId:").concat(e,",errorInfo:").concat(t)),n("502",t)})):n("501","".concat(e," not exist audioContext,not getAudioLevel"))}},{key:"getVideoFirstFrameStatus",value:function(e,t){var n=document.getElementById(e);if(n){n.load();var A=n.play();void 0!==A&&A.then((function(t){console.log("getVideoFirstFrameStatus videoId:".concat(e," playPromise result:").concat(t))})).catch((function(t){console.log("getVideoFirstFrameStatus videoId:".concat(e," playPromise error:").concat(t))})),n.onloadedmetadata=function(){console.log("getVideoFirstFrameStatus videoId:".concat(e," onloadedmetadata,time:").concat((new Date).toISOString())),t({code:200,status:"ok"})},n.onplay=function(){console.log("getVideoFirstFrameStatus videoId:".concat(e," onplay,time:").concat((new Date).toISOString()));var A=document.createElement("canvas");A.width=n.width,A.height=n.height;var r=A.getContext("2d");setTimeout((function(){r.drawImage(customerVideo,0,0,A.width,A.height);for(var e=r.getImageData(0,0,A.width,A.height).data,n=!1,i=!1,o=0;o<e.length;o++){var s=e[o];if(s>0&&s<200)return i=!1,n=!1,y()("canvas"),void t({code:200,status:"imageDate is valid"});0===s?(n=!0,i=!1):255===s&&(i=!0,n=!1)}i&&(y()("canvas"),t({code:405,status:"black screen"})),n&&(y()("canvas"),t({code:406,status:"white screen"}))}),100)},n.oncanplay=function(){console.log("getVideoFirstFrameStatus videoId:".concat(e," oncanplay,time:").concat((new Date).toISOString()))},n.onloadeddata=function(){console.log("getVideoFirstFrameStatus videoId:".concat(e," onloadeddata,time:").concat((new Date).toISOString()))},n.onabort=function(){console.log("getVideoFirstFrameStatus videoId:".concat(e," onabort,time:").concat((new Date).toISOString()))}}else t({code:404,status:"videoId is invalid"})}}]),e}();function ee(e){e&&(e.mediaStream?e.mediaStream.getTracks().forEach((function(e){e.stop()})):e.getTracks().forEach((function(e){e.stop()})))}function te(e){e&&e.stop()}function ne(e,t,n){return Ae.apply(this,arguments)}function Ae(){return(Ae=a()(d.a.mark((function e(t,n,A){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){t.joinRoom(A).then((function(t){p.a.info("join roomId,".concat(n," success,").concat(JSON.stringify(t),",at:").concat((new Date).toISOString())),e(t)})).catch((function(e){p.a.error("join roomId ".concat(n," failed,").concat(e,",at:").concat((new Date).toISOString()));var t=new b.a(C.b.ERROR_ZMS_JOINROOM_FAILED,"join roomId,".concat(n," failed,").concat(e));r(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t,n,A,r,i){return ie.apply(this,arguments)}function ie(){return(ie=a()(d.a.mark((function e(t,n,A,r,i,o){var s,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.length>6&&void 0!==a[6]?a[6]:{},e.next=3,new Promise((function(e,a){t.createCameraMicStream(n.audioConstraints,n.videoConstraints,r,i,{type:A,owner:o&&o.participantId?o.participantId:"",clientId:o&&o.clientId?o.clientId:"",audioOnly:!(!o||!o.audioOnly)&&o.audioOnly,userInfo:s}).then((function(t){p.a.info("create Camera Mic stream success,".concat(JSON.stringify(n),",streamId:").concat(t.id,",").concat((new Date).toISOString())),e(t)})).catch((function(e){p.a.info("createCameraMicStream failed,".concat(JSON.stringify(e),",").concat((new Date).toISOString(),",").concat(e.message,",").concat(e.code));var t=new b.a(e.code,"createCameraMicStream failed,error,".concat(JSON.stringify(e),",time:").concat((new Date).toISOString()));a(t)}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t,n){return se.apply(this,arguments)}function se(){return(se=a()(d.a.mark((function e(t,n,A){var r,i=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>3&&void 0!==i[3]?i[3]:{},e.next=3,new Promise((function(e,i){t.createScreenStream(n.audioConstraints,n.videoConstraints,{type:A,userInfo:r}).then((function(t){p.a.info("create screen stream success,".concat(JSON.stringify(n),",streamId:").concat(t.id,",").concat((new Date).toISOString())),e(t)})).catch((function(e){p.a.info("create screen stream failed,".concat(JSON.stringify(e),",").concat((new Date).toISOString()));var t=new b.a(e.code,"create screen stream failed,".concat(e));i(t)}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t,n){return ce.apply(this,arguments)}function ce(){return(ce=a()(d.a.mark((function e(t,n,A){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){t.publishStream(n,A).then((function(t){p.a.info("publish stream ".concat(n.id," success,").concat((new Date).toISOString())),e(t)})).catch((function(e){ee(n),p.a.info("publish stream failed,".concat(n.id,",").concat(e,",").concat((new Date).toISOString()));var t=new b.a(C.b.ERROR_ZMS_PUBLISH_FAILED,"publish stream,".concat(n.id,",failed,").concat(e));r(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t,n,A){return le.apply(this,arguments)}function le(){return(le=a()(d.a.mark((function e(t,n,A,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=a()(d.a.mark((function e(i,o){var s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t&&t.stop(),e.next=4,ae(n,A,r);case 4:s=e.sent,console.log("newPublication:",s,A),i(s),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),p.a.error("republish  stream ".concat(A.id," error,").concat((new Date).toISOString())),a=new b.a(C.b.ERROR_ZMS_PUBLISH_FAILED,"republish stream,".concat(A.id,",failed,").concat(e.t0)),o(a);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t){return he.apply(this,arguments)}function he(){return(he=a()(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,A){t.subscribeStream(n).then((function(t){p.a.info("subscribe stream,".concat(n.id," success,").concat((new Date).toISOString())),e(t)})).catch((function(e){p.a.info("subscribe stream ".concat(n.id,",error ,").concat(e,",").concat((new Date).toISOString()));var t=new b.a(C.b.ERROR_ZMS_SUBSCRIBE_FAILED,"subscribe stream ".concat(n.id,",error ,").concat(e));A(t)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){return pe.apply(this,arguments)}function pe(){return(pe=a()(d.a.mark((function e(t,n){var A,r,i,o=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=o.length>2&&void 0!==o[2]&&o[2],r=o.length>3?o[3]:void 0,i=o.length>4?o[4]:void 0,e.next=5,new Promise((function(e,o){var s=document.getElementById(n);if(s){s.srcObject=t.mediaStream?t.mediaStream:t,A?s.setAttribute("muted","true"):s.setAttribute("muted","false"),t&&t.mediaStream&&t.mediaStream.getVideoTracks()?t.mediaStream.getVideoTracks()[0]&&(t.mediaStream.getVideoTracks()[0].onended=function(){i(n)}):t&&t.getVideoTracks()&&t.getVideoTracks()[0]&&(t.getVideoTracks()[0].onended=function(){i(n)}),s.play();var a=!1,c=setTimeout((function(){!a&&!s.isPlay&&r(new b.a(C.b.ERROR_ZMS_VIDEOPLAY_FAILED,"video id ".concat(n," is not play in 3 seconds")))}),3e3);s.onplay=function(){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is onplay,time:").concat((new Date).toISOString())),a=!0,s.isPlay=!0,clearTimeout(c),c=null},s.onloadedmetadata=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is onloadmetadata,time:").concat((new Date).toISOString()),e),a=!0,s.isPlay=!0,clearTimeout(c),c=null;var t=s.play();void 0!==t&&t.catch((function(e){p.a.error("".concat(n," play error,").concat(e)),r(new b.a(C.b.ERROR_ZMS_VIDEOPLAY_FAILED,e.name||e.message||e))})).then((function(){}))},s.onerror=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is onerror,time:").concat((new Date).toISOString()),e),s.isPlay=!1},s.onemptied=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is onemptied,time:").concat((new Date).toISOString()),e)},s.onplaying=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is onplaying,time:").concat((new Date).toISOString()),e)},s.onloadeddata=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is onloadeddata,time:").concat((new Date).toISOString()),e)},s.onvolumechange=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is onvolumechange,time:").concat((new Date).toISOString()),e)},s.onwaiting=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is onwaiting,time:").concat((new Date).toISOString()),e)},s.onsuspend=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is onsuspend,time:").concat((new Date).toISOString()),e)},s.onended=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is onended,time:").concat((new Date).toISOString()),e),s.isPlay=!1},s.onratechange=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is onratechange,time:").concat((new Date).toISOString()),e)},s.oncanplaythrough=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is oncanplaythrough,time:").concat((new Date).toISOString()),e)},s.oncanplay=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is oncanplay,time:").concat((new Date).toISOString()),e)},s.onloadstart=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is onloadstart,time:").concat((new Date).toISOString()),e)},s.onstalled=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is onstalled,time:").concat((new Date).toISOString()),e)},s.onseeked=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is onseeked,time:").concat((new Date).toISOString()),e)},s.onseeking=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is onseeking,time:").concat((new Date).toISOString()),e)},s.onpause=function(e){p.a.info("renderStreamWithVideoLabel video id ".concat(n," is onpause,time:").concat((new Date).toISOString()),e),s.play()},e()}else{p.a.info("renderStreamWithVideoLabel video id ".concat(n," dom not exist,time:").concat((new Date).toISOString())),o(new b.a(C.b.ERROR_ZMS_RENDERVIDEO_NOTEXIST,"dom not exist ,".concat(n)))}}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){return ve.apply(this,arguments)}function ve(){return(ve=a()(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){t?t.leaveRoom().then((function(t){e(t)})).catch((function(e){n(new b.a(C.b.ERROR_ZMS_JOINROOM_FAILED,e))})):n(new b.a(C.b.ERROR_ZMS_IRTC_UNDEFINED,"irtc Client is null"))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,t){var n=e.filter((function(e){return e.id===t}));return n.length>0?n[0]:null}var me=function(e){return"audio"===e||"video"===e},Be=function(e,t){return null!=we(e,t)};function ye(e,t,n){return be.apply(this,arguments)}function be(){return(be=a()(d.a.mark((function e(t,n,A){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){me(n)?Be(A.publicationArr,t)?we(A.publicationArr,t).mute(n).then((function(){e()})).catch((function(e){r("audio"===n?new b.a(C.b.ERROR_ZMS_MUTE_AUDIO_FAILED,e):new b.a(C.b.ERROR_ZMS_MUTE_VIDEO_FAILED,e))})):r("stream source is invalid,publication id is invalid"):r("type is invalid,only support 'audio' & 'video'")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e,t,n){return ke.apply(this,arguments)}function ke(){return(ke=a()(d.a.mark((function e(t,n,A){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){me(n)?Be(A.publicationArr,t)?we(A.publicationArr,t).unmute(n).then((function(){e()})).catch((function(e){r("audio"===n?new b.a(C.b.ERROR_ZMS_UNMUTE_AUDIO_FAILED,e):new b.a(C.b.ERROR_ZMS_UNMUTE_VIDEO_FAILED,e))})):r("stream source is invalid,publication id is invalid"):r("type is invalid,only support 'audio' & 'video'")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(e){if(e.mediaStream){if("function"!=typeof e.mediaStream.getTracks)return!1;if(e.mediaStream.getTracks()&&0==e.mediaStream.getTracks().length)return!1}else{if("function"!=typeof e.getTracks)return!1;if(e.getTracks()&&0==e.getTracks().length)return!1}return!0}function Se(e,t,n,A,r,i,o){return Qe.apply(this,arguments)}function Qe(){return(Qe=a()(d.a.mark((function e(t,n,A,r,i,o,s){var a,c,u,l,f,h,p,g,v,w,m,B;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return i(new b.a(C.b.ERROR_ZMS_IRTC_UNDEFINED,"irtc Client is null")),e.abrupt("return");case 3:a=!1,c=0;case 5:if(!(c<t.createStreams.length)){e.next=23;break}if(!(u=t.createStreams[c]).attributes||u.attributes.type!==n){e.next=20;break}return a=!0,e.prev=9,e.next=12,de(u,A,!0,o,s);case 12:e.sent,r(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),i(e.t0);case 19:return e.abrupt("return");case 20:c++,e.next=5;break;case 23:l=0;case 24:if(!(l<t.remoteStreams.length)){e.next=63;break}if(f=t.remoteStreams[l],n!=f.id){e.next=43;break}return a=!0,e.prev=28,h=t.isMePublishStream(f),e.next=32,fe(t,f);case 32:return p=e.sent,e.next=35,de(f,A,h,o,s);case 35:e.sent,r(p.id,p),e.next=42;break;case 39:e.prev=39,e.t1=e.catch(28),i(e.t1);case 42:return e.abrupt("return");case 43:if(!f.attributes||f.attributes.type!==n){e.next=60;break}return a=!0,e.prev=45,g=t.isMePublishStream(f),e.next=49,fe(t,f);case 49:return v=e.sent,e.next=52,de(f,A,g,o,s);case 52:e.sent,r(v.id,v),e.next=59;break;case 56:e.prev=56,e.t2=e.catch(45),i(e.t2);case 59:return e.abrupt("return");case 60:l++,e.next=24;break;case 63:w=0;case 64:if(!(w<t.remoteStreams.length)){e.next=84;break}if("admin"!==(m=t.remoteStreams[w]).origin||m.attributes){e.next=81;break}return e.prev=67,e.next=70,fe(t,m);case 70:return B=e.sent,e.next=73,de(m,A,!1,o,s);case 73:e.sent,r(B.id,B),e.next=80;break;case 77:e.prev=77,e.t3=e.catch(67),i(e.t3);case 80:return e.abrupt("return");case 81:w++,e.next=64;break;case 84:a||i(new b.a(C.b.ERROR_ZMS_STREAMLABEL_INVALID,"streamLabel is invalid"));case 85:case"end":return e.stop()}}),e,null,[[9,16],[28,39],[45,56],[67,77]])})))).apply(this,arguments)}function Ue(e,t){e.remoteStreams.forEach((function(t){if(t.id!==e.mixStreamId){var n=e.getStreamInfo(t);Object(w.c)(j,null,{id:n.id,streamLabel:n.streamLabel,audioOnly:n.audioOnly,userInfo:n.userInfo,isAudioMute:n.isAudioMute,isVideoMute:n.isVideoMute}),Object(w.c)("onStreamAdd",null,{id:n.id,streamLabel:n.streamLabel,audioOnly:n.audioOnly,userInfo:n.userInfo,isAudioMute:n.isAudioMute,isVideoMute:n.isVideoMute})}})),e.streamAddEvent=Object(w.a)(j,(function(e){var t=e.data;Object(w.c)("onStreamAdd",null,{id:t.id,streamLabel:t.streamLabel,audioOnly:t.audioOnly,userInfo:t.userInfo,isAudioMute:t.isAudioMute,isVideoMute:t.isVideoMute}),p.a.info("stream add ".concat(JSON.stringify(e)))})),e.streamEndEvent=Object(w.a)(N,(function(e){var t=e.data,n=t.attributes&&t.attributes.type?t.attributes.type:t.id;Object(w.c)("onStreamEnd",null,{streamLabel:n}),p.a.info("stream end ".concat(JSON.stringify(e)))})),e.streamUpdateEvent=Object(w.a)(K,(function(e){var t=e.data;Object(w.c)("onStreamUpdated",null,t)})),e.serverDisConnectEvent=Object(w.a)(W,(function(e){Object(w.c)(w.f,w.e.zmsServerDisconnected,"mcu server disconnected")})),e.publishEndEvent=Object(w.a)(D,(function(e){e.data.value===t.id&&Object(w.c)(w.f,w.e.localStreamEnd,"local stream is end")})),e.subscribeEndEvent=Object(w.a)(M,(function(e){var t=e.data.value;Object(w.c)(w.f,w.e.subscribeStreamEnd,t)}))}function Ie(e){e&&(Object(w.d)(W,e.serverDisConnectEvent),Object(w.d)(D,e.publishEndEvent),Object(w.d)(M,e.subscribeEndEvent),Object(w.d)(j,e.streamAddEvent),Object(w.d)(N,e.streamEndEvent))}function Fe(e){if(!e)return!1;if(e.mediaStream){if(!e.mediaStream.getVideoTracks())return!1}else if(!e.getVideoTracks())return!1;return!0}function Oe(e){if(e)if(e.mediaStream){var t,n=e.mediaStream.getVideoTracks(),A=e.mediaStream.getAudioTracks(),r=x(n);try{for(r.s();!(t=r.n()).done;){t.value.stop()}}catch(e){r.e(e)}finally{r.f()}var i,o=x(A);try{for(o.s();!(i=o.n()).done;){i.value.stop()}}catch(e){o.e(e)}finally{o.f()}}else{var s,a=e.getVideoTracks(),c=e.getAudioTracks(),u=x(a);try{for(u.s();!(s=u.n()).done;){s.value.stop()}}catch(e){u.e(e)}finally{u.f()}var l,f=x(c);try{for(f.s();!(l=f.n()).done;){l.value.stop()}}catch(e){f.e(e)}finally{f.f()}}}function Re(e,t,n,A,r){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(n&&n.getPCSenders)if(Fe(e))if(Fe(t)){i&&Oe(e);var o=t.mediaStream?t.mediaStream.getVideoTracks()[0]:t.getVideoTracks()[0],s=t.mediaStream?t.mediaStream.getAudioTracks()[0]:t.getAudioTracks()[0];n.getPCSenders()&&n.getPCSenders().forEach((function(e){e.track&&"video"==e.track.kind&&e.replaceTrack(o);e.track&&"audio"==e.track.kind&&e.replaceTrack(s)})),!n.getPCSenders()&&Oe(t),A("ok")}else{var a=new b.a("1000","newMediaStream is invalid");r(a)}else{var c=new b.a("1000","oldMediaStream is invalid");r(c)}else{var u=new b.a("1000","publication is invalid");r(u)}}var xe=n(4),_e=8001,De=8002,Te=8003,Le=8004,Me=8005,He=8006,Pe=function(){function e(t){var n=this;u()(this,e),this.irtc=t;this.irtc.irtcClient.addEventListener("whiteboardadded",(function(e){var t=e.whiteboard;p.a.info("new whiteboard add:".concat(t,",").concat(t.id,",at:").concat((new Date).toISOString())),n.irtc.whiteboards=[].concat(o()(n.irtc.whiteboards),[t])}))}return f()(e,[{key:"addEvent",value:function(e){e.addEventListener("remove",(function(){p.a.info("whiteboard ".concat(e.id," removed at:").concat((new Date).toISOString()))}))}},{key:"create",value:function(e,t){var n=this,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,i){n.irtc.irtcClient.createWhiteboard(e,t,A).then((function(e){r(e)})).catch((function(n){p.a.error("createWhiteboard error,".concat(n,",with name:").concat(e,",url:").concat(t,",attribute:").concat(JSON.stringify(A),",at:").concat((new Date).toISOString())),i(new b.a(_e,n))}))}))}},{key:"start",value:function(e){var t=this;return new Promise((function(n,A){t.irtc.irtcClient.startWhiteboard(e).then((function(e){n(e)})).catch((function(t){p.a.error("startWhiteboard error，whiteboard:".concat(e,",at:").concat((new Date).toISOString())),A(new b.a(De,t))}))}))}},{key:"startWithId",value:function(e,t,n){var A=this.irtc.whiteboards.find((function(t){return t.id===e}));A?this.start(A).then((function(e){var n=window.location.host,A=e.src;if(console.log("iframeUrl origin url",A),new URL(A)){var r=new URL(A),i=A.replace(r.host,n);e.src=i,console.log("iframeUrl replace url",i)}else p.a.error("iframe url is invalid,at:".concat((new Date).toISOString()));t(e)})).catch((function(e){n(e)})):n(new b.a(He,"whiteboardId ,".concat(e," is invalid")))}},{key:"stop",value:function(e){var t=this;return new Promise((function(n,A){t.irtc.irtcClient.stopWhiteboard(e).then((function(){n("ok")})).catch((function(t){p.a.error("stopWhiteboard error，whiteboard:".concat(e,",at:").concat((new Date).toISOString())),A(new b.a(Te,t))}))}))}},{key:"stopWithId",value:function(e,t,n){var A=this.irtc.whiteboards.find((function(t){return t.id===e}));A?this.stop(A).then((function(){t("ok")})).catch((function(e){n(e)})):n(new b.a(He,"whiteboardId ,".concat(e," is invalid")))}},{key:"remove",value:function(e){var t=this;return new Promise((function(n,A){t.irtc.irtcClient.removeWhiteboard(e).then((function(){n("ok")})).catch((function(t){p.a.error("removeWhiteboard error，whiteboard:".concat(e,",at:").concat((new Date).toISOString())),A(new b.a(Le,t))}))}))}},{key:"removeWithId",value:function(e,t,n){var A=this.irtc.whiteboards.find((function(t){return t.id===e}));A?this.remove(A).then((function(){t("ok")})).catch((function(e){n(e)})):n(new b.a(He,"whiteboardId ,".concat(e," is invalid")))}},{key:"snapshot",value:function(e){var t=this;return new Promise((function(n,A){t.irtc.irtcClient.snapshot(e).then((function(e){n(e)})).catch((function(t){p.a.error("snapshot error，whiteboard:".concat(e,",at:").concat((new Date).toISOString())),A(new b.a(Me,t))}))}))}},{key:"snapshotWithId",value:function(e,t,n){var A=this.irtc.whiteboards.find((function(t){return t.id===e}));A?this.snapshot(A).then((function(e){t(e)})).catch((function(e){n(e)})):n(new b.a(He,"whiteboardId ,".concat(e," is invalid")))}}]),e}();function je(){if(navigator&&navigator.onLine)this.online=navigator.onLine;else if(!navigator&&wx&&wx.getNetworkType){var e=this;wx.getNetworkType({success:function(t){e.online=t.networkType}})}}je.prototype.start=function(e){var t=this;!navigator&&wx&&wx.onNetworkStatusChange?wx.onNetworkStatusChange((function(t){console.log(t.isConnected),console.log(t.networkType),t.isConnected?e("online"):e("offline")})):(this.offlineEvent?window.removeEventListener("offline",this.offlineEvent):this.offlineEvent=function(){t.online=!1,e("offline")},this.onlineEvent?window.removeEventListener("online",this.onlineEvent):this.onlineEvent=function(){t.online=!0,e("online")},window.addEventListener("offline",this.offlineEvent),window.addEventListener("online",this.onlineEvent),this.online=navigator.onLine)},je.prototype.stop=function(){!navigator&&wx&&wx.offNetworkStatusChange?wx.offNetworkStatusChange((function(e){console.log(e)})):(window.removeEventListener("offline",this.offlineEvent),window.removeEventListener("online",this.onlineEvent),this.online=navigator.onLine)};var Ne=n(23),Ke=n.n(Ne),Ve=n(24),Ge=n.n(Ve),We=n(17),qe=n.n(We);function Je(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var A=0,r=function(){};return{s:r,n:function(){return A>=e.length?{done:!0}:{done:!1,value:e[A++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,A=new Array(t);n<t;n++)A[n]=e[n];return A}function Xe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var A=0,r=function(){};return{s:r,n:function(){return A>=e.length?{done:!0}:{done:!1,value:e[A++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,A=new Array(t);n<t;n++)A[n]=e[n];return A}function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,A=qe()(e);if(t){var r=qe()(this).constructor;n=Reflect.construct(A,arguments,r)}else n=A.apply(this,arguments);return Ge()(this,n)}}var $e=function(e){Ke()(A,e);var t,n=ze(A);function A(){var e;return u()(this,A),(e=n.call(this)).facingMode="user",e.deviceIndex=0,e.userPhone=e.getUserPhone(),e}return f()(A,[{key:"getUserMedia",value:function(e,t,n){window.navigator.mediaDevices.getUserMedia?window.navigator.mediaDevices.getUserMedia(e).then((function(e){return t(e)})).catch((function(e){return n(e)})):navigator.webkitGetUserMedia?window.navigator.webkitGetUserMedia(e).then((function(e){return t(e)})).catch((function(e){return n(e)})):navigator.mozGetUserMedia?window.navigator.mozGetUserMedia(e).then((function(e){return t(e)})).catch((function(e){return n(e)})):navigator.getUserMedia&&window.navigator.getUserMedia(e).then((function(e){return t(e)})).catch((function(e){return n(e)}))}},{key:"audioTest",value:function(e,t){this.getUserMedia({audio:!0,video:!1},(function(t){var n,A=Xe(t.getAudioTracks());try{for(A.s();!(n=A.n()).done;){n.value.stop()}}catch(e){A.e(e)}finally{A.f()}e("ok")}),(function(e){var n=new b.a("70007","audio test error ".concat(e));t(n)}))}},{key:"videoTest",value:function(e,t,n){var A={audio:!1,video:!e||{deviceId:e}};this.getUserMedia(A,(function(e){var n,A=Xe(e.getVideoTracks());try{for(A.s();!(n=A.n()).done;){n.value.stop()}}catch(e){A.e(e)}finally{A.f()}t("ok")}),(function(e){var t=new b.a("70006","video test error ".concat(e));n(t)}))}},{key:"changeCameraWithDeviceId",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(A,r){try{var i={audio:!n&&{echoCancellation:!0},video:!e||{deviceId:e}};t.getUserMedia(i,(function(e){A(e)}),(function(t){var n=t.name||t.message||t,A=C.b.ERROR_ZMS_CREATESTREAM_FAILED;-1!=n.toLowerCase().indexOf("aborterror")?A=C.b.ERROR_ZMS_ABORTERROR:-1!=n.toLowerCase().indexOf("notallowederror")?A=C.b.ERROR_ZMS_NOTALLOWEDERROR:-1!=n.toLowerCase().indexOf("notfounderror")?A=C.b.ERROR_ZMS_NOTFOUNDERROR:-1!=n.toLowerCase().indexOf("notreadableerror")?A=C.b.ERROR_ZMS_NOTREADABLEERROR:-1!=n.toLowerCase().indexOf("overconstrainederror")?A=C.b.ERROR_ZMS_OVERCONSTRAINEDERROR:-1!=n.toLowerCase().indexOf("securityerror")?A=C.b.ERROR_ZMS_SECURITYERROR:-1!=n.toLowerCase().indexOf("typeerror")&&(A=C.b.ERROR_ZMS_TYPEERROR);var i=new b.a(A,"getUserMedia with deviceId ".concat(e," error ").concat(t));r(i)}))}catch(t){var o=new b.a("70000","getUserMedia error: with deviceId ".concat(e," error ").concat(t));r(o)}}))}},{key:"changeMicWithDeviceId",value:function(e){var t=this;return new Promise((function(n,A){try{var r={audio:{deviceId:e,echoCancellation:!0},video:!0};t.getUserMedia(r,(function(e){n(e)}),(function(e){var t=new b.a("70005","change mic with deviceId error ".concat(e));A(t)}))}catch(e){var i=new b.a("70005","change camera mic deviceId error ".concat(e));A(i)}}))}},{key:"changeConstraints",value:(t=a()(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=a()(d.a.mark((function e(A,r){var i,o,s,a,c,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=t.mediaStream?t.mediaStream.getVideoTracks()[0]:t.getVideoTracks()[0])?(o=i.getCapabilities(),s=o.width,a=o.height,n.width>s.max||n.height>a.max?(c=new b.a("70009","stream apply constraints failed: constraints width or height max ".concat(s.max,"-").concat(a.max)),r(c)):i.applyConstraints({width:n.width,height:n.height}).then((function(){A(t.mediaStream)})).catch((function(e){console.log(e)}))):(u=new b.a("70009","stream track is null"),r(u));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})},{key:"changeIosCamera",value:function(e,t,n){var A={audio:{echoCancellation:!0},video:{facingMode:e}};this.getUserMedia(A,(function(e){t(e)}),(function(t){console.log("changeIosCamera error",t);var r=new b.a("70004","iOS device change camera error ".concat(t,", faceMode:").concat(e,",constraints:").concat(A));n(r)}))}},{key:"getUserDevices",value:function(e,t){var n=this,A=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[],i=[];if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)try{navigator.mediaDevices.enumerateDevices().then((function(e){e.forEach((function(e){"videoinput"===e.kind?r.push({kind:e.kind,label:e.label,groupId:e.groupId,deviceId:e.deviceId}):"audioinput"===e.kind&&i.push({kind:e.kind,label:e.label,groupId:e.groupId,deviceId:e.deviceId})}))})).then(a()(d.a.mark((function i(){var o,s,a,c,u;return d.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return(o=n.filterAndroidCameraLabel(r)).length<0?(s=new b.a("70002","notfound devices"),t(s)):"Webview"===n.userPhone||"Android"===n.userPhone?0===n.deviceIndex?n.deviceIndex=o.length-1:n.deviceIndex=0:(n.deviceIndex=n.deviceIndex+1,n.deviceIndex>=o.length&&(n.deviceIndex=0)),a=o[n.deviceIndex].deviceId,i.next=5,n.changeCameraWithDeviceId(a,A);case 5:(c=i.sent)?e(c):(u=new b.a("70008","change camera witch deviceId:".concat(a," error, stream is null")),t(u));case 7:case"end":return i.stop()}}),i)})))).catch((function(e){console.log("getUserDevices enumerateDevices error",e,(new Date).toISOString());var n=new b.a("70003","enumerate deivces error ".concat(e.name+": "+e.message));t(n)}))}catch(e){console.log("getUserDevices crash error",e,(new Date).toISOString());var o=new b.a("70003","enumerate deivces error ".concat(e));t(o)}else{var s=new b.a("70001","devices not support");t(s)}}},{key:"switchCamera",value:function(e,t){"IOS"===this.userPhone?("user"===this.facingMode?this.facingMode="environment":this.facingMode="user",this.changeIosCamera(this.facingMode,e,t)):this.getUserDevices(e,t)}},{key:"switchCameraGetDeviceId",value:function(e,t){var n=this,A=[];if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)try{navigator.mediaDevices.enumerateDevices().then((function(e){e.forEach((function(e){"videoinput"===e.kind&&A.push({kind:e.kind,label:e.label,groupId:e.groupId,deviceId:e.deviceId})}))})).then((function(){var r=n.filterAndroidCameraLabel(A);if(r.length<0){var i=new b.a("70002","notfound devices");t(i)}else"Webview"===n.userPhone||"Android"===n.userPhone?0===n.deviceIndex?n.deviceIndex=r.length-1:n.deviceIndex=0:(n.deviceIndex=n.deviceIndex+1,n.deviceIndex>=r.length&&(n.deviceIndex=0));var o=r[n.deviceIndex].deviceId;e(o)})).catch((function(e){console.log("switchCameraGetDeviceId enumerateDevices error",e,(new Date).toISOString());var n=new b.a("70003","switchCameraGetDeviceId enumerate deivces error ".concat(e.name+": "+e.message));t(n)}))}catch(e){console.log("switchCameraGetDeviceId crash error",e,(new Date).toISOString());var r=new b.a("70003","switchCameraGetDeviceId enumerate deivces error ".concat(e));t(r)}else{var i=new b.a("70001","devices not support");t(i)}}},{key:"createStream",value:function(e,t,n,A,r,i,o){var s=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],a=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];if(e)if(Object(m.f)(A))o(new b.a("1000","audioConstraints is not object"));else if(Object(m.f)(r))o(new b.a("1000","videoConstraints is not object"));else{t&&(A.deviceId=t),n&&(r.deviceId=n),"IOS"===this.userPhone&&(this.facingMode="user"===this.facingMode?"environment":"user",r.facingMode=this.facingMode);var c={audioConstraints:A,videoConstraints:r};p.a.info("switch createStream options",c,(new Date).toISOString());var u="",l={},f={};re(e,c,u,s,a,l,f).then((function(e){i(e)})).catch((function(e){o(e)}))}else o(new b.a("1000","irtcClient is null"))}},{key:"getRearCameraVideoStream",value:function(e,t){if("IOS"===this.userPhone){this.getUserMedia({audio:!1,video:{facingMode:"environment"}},(function(t){e(t)}),(function(e){var n=e.name||e.message||e,A=C.b.ERROR_ZMS_CREATESTREAM_FAILED;-1!=n.toLowerCase().indexOf("aborterror")?A=C.b.ERROR_ZMS_ABORTERROR:-1!=n.toLowerCase().indexOf("notallowederror")?A=C.b.ERROR_ZMS_NOTALLOWEDERROR:-1!=n.toLowerCase().indexOf("notfounderror")?A=C.b.ERROR_ZMS_NOTFOUNDERROR:-1!=n.toLowerCase().indexOf("notreadableerror")?A=C.b.ERROR_ZMS_NOTREADABLEERROR:-1!=n.toLowerCase().indexOf("overconstrainederror")?A=C.b.ERROR_ZMS_OVERCONSTRAINEDERROR:-1!=n.toLowerCase().indexOf("securityerror")?A=C.b.ERROR_ZMS_SECURITYERROR:-1!=n.toLowerCase().indexOf("typeerror")&&(A=C.b.ERROR_ZMS_TYPEERROR);var r=new b.a(A,"ios getBackCameraVideoStream error ".concat(e));t(r)}))}else{this.getUserDevices(e,t,!0)}}}]),A}(function(){function e(){u()(this,e),this.micDevices=[],this.speakerDevices=[],this.videoDevices=[],this.allMediaDevices=[],this.init()}var t,n,A;return f()(e,[{key:"init",value:(A=a()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserDevicesEnum();case 2:this.addUserDeviceUpdate();case 3:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"getUserDevicesEnum",value:(n=a()(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.enumerateDevices();case 3:t=e.sent,this.setAllMediaDevices(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("get user devices failed");case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return n.apply(this,arguments)})},{key:"setMicDevices",value:function(){this.micDevices=this.getAllMediaDevices().filter((function(e){return"audioinput"===e.kind})).map((function(e){return{id:e.id,label:e.label,groupId:e.groupId}}))}},{key:"getMicDevices",value:function(){return this.micDevices}},{key:"setSpeakerDevices",value:function(){this.speakerDevices=this.getAllMediaDevices().filter((function(e){return"audiooutput"===e.kind})).map((function(e){return{id:e.id,label:e.label,groupId:e.groupId}}))}},{key:"getSpeakerDevices",value:function(){return this.speakerDevices}},{key:"setVideoDevices",value:function(){this.videoDevices=this.getAllMediaDevices().filter((function(e){return"videoinput"===e.kind})).map((function(e){return{id:e.id,label:e.label,groupId:e.groupId}}))}},{key:"getVideoDevices",value:function(){return this.videoDevices}},{key:"setAllMediaDevices",value:(t=a()(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.map((function(e){return{id:e.deviceId,label:e.label,kind:e.kind,groupId:e.groupId}})),this.allMediaDevices=n,this.setMicDevices(),this.setSpeakerDevices(),this.setVideoDevices();case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getAllMediaDevices",value:function(){return this.allMediaDevices}},{key:"addUserDeviceUpdate",value:function(){var e=this;(navigator.mediaDevices||window.navigator.mediaDevices)&&navigator.mediaDevices.addEventListener("devicechange",function(){var t=a()(d.a.mark((function t(n){var A,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.target.enumerateDevices();case 2:A=t.sent,r=A.map((function(e){return{id:e.deviceId,label:e.label,kind:e.kind,groupId:e.groupId}})),e.getDeviceChange(r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"getDeviceChange",value:function(e){var t=this.getAllMediaDevices();this.getDiffKey(t,e),this.getUserDevicesEnum()}},{key:"getDiffKey",value:function(e,t){var n=[],A={type:"remove",devices:[]};e.length<t.length&&(n=t,t=e,e=n,A.type="add");for(var r=e.length-1;r>=0;r--){for(var i=!1,o=0;o<t.length;o++)e[r].label===t[o].label&&(i=!0);i||"communications"!==e[r].id&&"default"!==e[r].id&&(console.log(e[r].id),A.devices.push(e[r]))}return A}},{key:"arrUnique",value:function(e,t){for(var n=0;n<e.length;n++)for(var A=n+1;A<e.length;A++)e[n][t]==e[A][t]&&(e.splice(A,1),A--);return e}},{key:"getUserPhone",value:function(){if(window.navigator.userAgent){var e=window.navigator.userAgent.toLocaleLowerCase(),t="micromessenger"==e.match(/MicroMessenger/i),n="android"==e.match(/Android/i)||"linux"==e.match(/Linux/i),A="iphone"==e.match(/iPhone/i)||"ios"==e.match(/IOS/i);return t&&!A?"Webview":n&&!t?"Android":A?"IOS":"PC"}}},{key:"filterAndroidCameraLabel",value:function(e){for(var t=[],n=0;n<e.length;n++){var A=e[n].label;(-1!==A.indexOf("front")||-1!==A.indexOf("Front")||-1!==A.indexOf("back")||-1!==A.indexOf("Back"))&&-1==e[n].label.indexOf("camera2 0")&&-1==e[n].label.indexOf("camera2 1")||t.push(e[n])}return t}},{key:"stopStream",value:function(e){if(e)if(e.mediaStream){var t,n=e.mediaStream.getVideoTracks(),A=e.mediaStream.getAudioTracks(),r=Je(n);try{for(r.s();!(t=r.n()).done;){t.value.stop()}}catch(e){r.e(e)}finally{r.f()}var i,o=Je(A);try{for(o.s();!(i=o.n()).done;){i.value.stop()}}catch(e){o.e(e)}finally{o.f()}}else{var s,a=e.getVideoTracks(),c=e.getAudioTracks(),u=Je(a);try{for(u.s();!(s=u.n()).done;){s.value.stop()}}catch(e){u.e(e)}finally{u.f()}var l,f=Je(c);try{for(f.s();!(l=f.n()).done;){l.value.stop()}}catch(e){f.e(e)}finally{f.f()}}}}]),e}());function et(e,t,n,A,r,i,o){var s=Object(xe.D)(e);"ok"==s?e.sendPeerCmd(t,n,A,r,(function(e,n){"ok"===e?i(n):(p.a.error("sendPeerCmd ".concat(t,",error:").concat(n,",at:").concat(new Date)),o(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,n)))})):o(s)}function tt(e,t,n,A,r,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"normal",s=Object(xe.D)(e);"ok"==s?e.sendPeerCancel(t,n,A,(function(e,A){"ok"===e?r(A):(p.a.error("cancelPeerCmd cmdName:".concat(t,",cmdId:").concat(n,",error:").concat(A,",at:").concat(new Date)),i(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,A)))}),o):i(s)}function nt(e,t,n){var A=Object(xe.D)(e);"ok"==A?e.onPeerResponse(t,(function(e){n(e)})):p.a.error("onPeerCmdResponse:".concat(t," error', ").concat(A))}function At(e,t,n){var A=Object(xe.D)(e);"ok"==A?e.onPeerCmd(t,(function(e){n(e)})):p.a.error("onPeerCmd:".concat(t," error', ").concat(A))}function rt(e,t,n){var A=Object(xe.D)(e);"ok"==A?e.onPeerCancel(t,(function(e){n(e)})):p.a.error("onCancelPeerCmd:".concat(t," error', ").concat(A))}function it(e,t,n,A,r,i,o,s){var a=Object(xe.D)(e);"ok"==a?e.sendPeerResponse(t,n,A,r,i,(function(e,A){"ok"===e?o(A):(p.a.info("responsePeerCmd:".concat(t," cmdId:").concat(n," error,").concat(A,",").concat(new Date)),s(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,A)))})):p.a.error("responsePeerCmd:".concat(t," cmdId:").concat(n," error', ").concat(a))}function ot(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var A=0,r=function(){};return{s:r,n:function(){return A>=e.length?{done:!0}:{done:!1,value:e[A++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,A=new Array(t);n<t;n++)A[n]=e[n];return A}var at=function(){function e(){u()(this,e),this.miniType="mini",this.networkTool=new je,this.mediaDevices=new $e,this.eventList=new Map}var t,n,A,i,s,c,l,h,B,y,k,E,S,Q,U,I,F,O,R,x,_,D,T,L,M,H,P,N,K,V,G,W;return f()(e,[{key:"microphoneTest",value:function(e,t){this.mediaDevices.audioTest((function(t){e(t)}),(function(e){t(e)}))}},{key:"cameraTest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;this.mediaDevices.videoTest(e,(function(e){t(e)}),(function(e){n(e)}))}},{key:"startMonitorNetwork",value:function(e){return this.networkTool.start((function(t){e(t)})),this.networkTool.online}},{key:"stopMonitorNetwork",value:function(){this.networkTool.stop()}},{key:"init",value:(W=a()(d.a.mark((function e(t,n,A,r){var i,o,s,a,c,u,l,f,h,g=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=g.length>4&&void 0!==g[4]?g[4]:C.a,o=g.length>5?g[5]:void 0,s=g.length>6?g[6]:void 0,void 0!==t&&""!==t){e.next=8;break}return p.a.warning("backendUrl is empty"),a=new b.a(C.b.ERROR_PARAMETER,"backendUrl is empty"),s(a),e.abrupt("return");case 8:if(void 0!==n&&""!==n){e.next=13;break}return p.a.warning("name is empty"),c=new b.a(C.b.ERROR_PARAMETER,"name is empty"),s(c),e.abrupt("return");case 13:if(void 0!==A&&""!==A){e.next=18;break}return p.a.warning("password is empty"),u=new b.a(C.b.ERROR_PARAMETER,"password is empty"),s(u),e.abrupt("return");case 18:if(void 0!==r&&""!==r){e.next=23;break}return p.a.warning("organization is empty"),l=new b.a(C.b.ERROR_PARAMETER,"organization is empty"),s(l),e.abrupt("return");case 23:if("ok"==Object(C.c)(i)){e.next=26;break}return s(Object(C.c)(i)),e.abrupt("return");case 26:return this.mediaOptions=Object(m.a)(i),this.backendUrl=Object(m.a)(t),this.ccsUrl=Object(m.a)(t),e.prev=29,e.next=32,Object(v.d)(t,n,A,r);case 32:f=e.sent,this.associatedUrls=f.data&&f.data.data&&f.data.data.urls?f.data.data.urls:{},this.accessToken=f.data&&f.data.data&&f.data.data.accessToken?f.data.data.accessToken:"",this.ticket=f.data&&f.data.data&&f.data.data.ticket?f.data.data.ticket:"",h=f.data&&f.data.data&&f.data.data.tokenData?f.data.data.tokenData:null,this.agentName=h&&h.data&&h.data.userName?h.data.userName:"unknown",this.initWithAms(h,(function(e){o(e)}),(function(e){s(e)})),e.next=44;break;case 41:e.prev=41,e.t0=e.catch(29),s(e.t0);case 44:case"end":return e.stop()}}),e,this,[[29,41]])}))),function(e,t,n,A){return W.apply(this,arguments)})},{key:"initWithExternal",value:(G=a()(d.a.mark((function e(t,n,A,r,i){var o,s,a,c,u,l,f,h,g,w=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=w.length>5&&void 0!==w[5]?w[5]:C.a,s=w.length>6?w[6]:void 0,a=w.length>7?w[7]:void 0,void 0!==t&&""!==t){e.next=8;break}return p.a.warning("backendUrl is empty"),c=new b.a(C.b.ERROR_PARAMETER,"backendUrl is empty"),a(c),e.abrupt("return");case 8:if(void 0!==n&&""!==n){e.next=13;break}return p.a.warning("name is empty"),u=new b.a(C.b.ERROR_PARAMETER,"name is empty"),a(u),e.abrupt("return");case 13:if(void 0!==A&&""!==A){e.next=18;break}return p.a.warning("password is empty"),l=new b.a(C.b.ERROR_PARAMETER,"password is empty"),a(l),e.abrupt("return");case 18:if(void 0!==r&&""!==r){e.next=23;break}return p.a.warning("organization is empty"),f=new b.a(C.b.ERROR_PARAMETER,"organization is empty"),a(f),e.abrupt("return");case 23:if("ok"==Object(C.c)(o)){e.next=26;break}return a(Object(C.c)(o)),e.abrupt("return");case 26:return this.mediaOptions=Object(m.a)(o),this.backendUrl=Object(m.a)(t),this.ccsUrl=Object(m.a)(t),e.prev=29,e.next=32,Object(v.j)(t,n,A,r,i);case 32:h=e.sent,this.associatedUrls=h.data&&h.data.data&&h.data.data.urls?h.data.data.urls:{},this.accessToken=h.data&&h.data.data&&h.data.data.accessToken?h.data.data.accessToken:"",this.ticket=h.data&&h.data.data&&h.data.data.ticket?h.data.data.ticket:"",g=h.data&&h.data.data&&h.data.data.tokenData?h.data.data.tokenData:null,this.agentName=g&&g.data&&g.data.userName?g.data.userName:"unknown",this.initWithAms(g,(function(e){s(e)}),(function(e){a(e)})),e.next=44;break;case 41:e.prev=41,e.t0=e.catch(29),a(e.t0);case 44:case"end":return e.stop()}}),e,this,[[29,41]])}))),function(e,t,n,A,r){return G.apply(this,arguments)})},{key:"initWithTicket",value:(V=a()(d.a.mark((function e(t,n){var A,r,i,o,s,a,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=c.length>2&&void 0!==c[2]?c[2]:C.a,r=c.length>3?c[3]:void 0,i=c.length>4?c[4]:void 0,void 0!==n&&""!==n&&null!=n){e.next=8;break}return p.a.warning("ticketId is empty"),o=new b.a(C.b.ERROR_PARAMETER,"ticketId is empty"),i(o),e.abrupt("return");case 8:if("ok"==Object(C.c)(A)){e.next=11;break}return i(Object(C.c)(A)),e.abrupt("return");case 11:return this.mediaOptions=Object(m.a)(A),this.backendUrl=Object(m.a)(t),this.ccsUrl=Object(m.a)(t),e.prev=14,e.next=17,Object(v.f)(t,n);case 17:s=e.sent,this.associatedUrls=s.data&&s.data.data&&s.data.data.urls?s.data.data.urls:{},this.accessToken=s.data&&s.data.data&&s.data.data.accessToken?s.data.data.accessToken:"",this.ticket=s.data&&s.data.data&&s.data.data.ticket?s.data.data.ticket:"",a=s.data&&s.data.data&&s.data.data.tokenData?s.data.data.tokenData:null,this.agentName=a&&a.data&&a.data.userName?a.data.userName:"unknown",this.initWithAms(a,(function(e){r(e)}),(function(e){i(e)})),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(14),i(e.t0);case 29:case"end":return e.stop()}}),e,this,[[14,26]])}))),function(e,t){return V.apply(this,arguments)})},{key:"initWithEncrypt",value:(K=a()(d.a.mark((function e(t,n,A,r){var i,o,s,a,c,u,l,f,h,g,w=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=w.length>4&&void 0!==w[4]?w[4]:"",o=w.length>5&&void 0!==w[5]?w[5]:C.a,s=w.length>6?w[6]:void 0,a=w.length>7?w[7]:void 0,void 0!==t&&""!==t){e.next=9;break}return p.a.warning("backendUrl is empty"),c=new b.a(C.b.ERROR_PARAMETER,"backendUrl is empty"),a(c),e.abrupt("return");case 9:if(void 0!==n&&""!==n){e.next=14;break}return p.a.warning("name is empty"),u=new b.a(C.b.ERROR_PARAMETER,"name is empty"),a(u),e.abrupt("return");case 14:if(void 0!==A&&""!==A){e.next=19;break}return p.a.warning("password is empty"),l=new b.a(C.b.ERROR_PARAMETER,"password is empty"),a(l),e.abrupt("return");case 19:if(void 0!==r&&""!==r){e.next=24;break}return p.a.warning("organization is empty"),f=new b.a(C.b.ERROR_PARAMETER,"organization is empty"),a(f),e.abrupt("return");case 24:if("ok"==Object(C.c)(o)){e.next=27;break}return a(Object(C.c)(o)),e.abrupt("return");case 27:return i&&(i=i.toLowerCase(),p.a.debug("encrypt is ".concat(i))),this.mediaOptions=Object(m.a)(o),this.backendUrl=Object(m.a)(t),this.ccsUrl=Object(m.a)(t),e.prev=31,e.next=34,Object(v.e)(t,n,A,r,i);case 34:h=e.sent,this.associatedUrls=h.data&&h.data.data&&h.data.data.urls?h.data.data.urls:{},this.accessToken=h.data&&h.data.data&&h.data.data.accessToken?h.data.data.accessToken:"",this.ticket=h.data&&h.data.data&&h.data.data.ticket?h.data.data.ticket:"",g=h.data&&h.data.data&&h.data.data.tokenData?h.data.data.tokenData:null,this.agentName=g&&g.data&&g.data.userName?g.data.userName:"unknown",this.initWithAms(g,(function(e){s(e)}),(function(e){a(e)})),e.next=46;break;case 43:e.prev=43,e.t0=e.catch(31),a(e.t0);case 46:case"end":return e.stop()}}),e,this,[[31,43]])}))),function(e,t,n,A){return K.apply(this,arguments)})},{key:"initWithAms",value:(N=a()(d.a.mark((function e(t,n,A){var r,i,o,s=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.userId=t.data.id,this.domainType=this.associatedUrls.domainType?this.associatedUrls.domainType:"public",this.amsUrl=this.backendUrl?this.backendUrl:this.associatedUrls.amsurl,r=t.exp-t.iat-1>0?1e3*(t.exp-t.iat-1):1e3,i=Math.pow(2,31)-1,r>i&&(r=i),this.refreshTokenInterval=setInterval(a()(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.m)(s.backendUrl,s.userId,s.ticket);case 3:t=e.sent,s.ticket=t.ticket,s.accessToken=t.accessToken,s.amsClient.accessToken=t.accessToken,e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),p.a.error("refreshTokenInterval error",e.t0),clearInterval(s.refreshTokenInterval),A(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])}))),r),e.next=10,Object(v.k)(this.backendUrl,this.accessToken);case 10:return o=e.sent,this.amsClient=new g.a,e.next=14,Object(g.d)(this.amsClient,this.amsUrl,this.accessToken);case 14:e.sent,Object(g.b)((function(e){Object(w.c)(w.f,w.e.amsSocketIoError,e)})),n({token:this.accessToken,groupsList:o,rtmpServer:this.associatedUrls.rtmpServer,backendUrl:this.associatedUrls.backendurl,user:t.data,urls:this.associatedUrls}),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),p.a.error("init error",e.t0),A(e.t0);case 23:case"end":return e.stop()}}),e,this,[[0,19]])}))),function(e,t,n){return N.apply(this,arguments)})},{key:"login",value:function(e,t){var n=this,A=Object(g.i)(this.amsClient);"ok"==A?this.amsClient.login(null,(function(A,r){"ok"===A?(p.a.info("ams login success",r,new Date),n.amsClient.ticket=r.ticket,n.amsClient.refersh_ticket_time=r.refersh_ticket_time,Object(g.f)(n.amsClient,n.amsClient.refersh_ticket_time,(function(e){p.a.error("refreshAmsTicket error",e)})),e(r)):"timeout"===A?(p.a.warning("ams login timeout",r,new Date),t(new b.a(C.b.ERROR_AMS_MESSAGE_TIMEOUT,r))):"reconnecting"===A?(p.a.warning("ams login reconnecting",r,new Date),t(new b.a(C.b.ERROR_AMS_RECONNECTING,r))):(p.a.error("ams login error",r,new Date),t(new b.a(C.b.ERROR_AMS_API_FAILED,r)))})):t(A)}},{key:"logout",value:function(e,t){var n=this,A=Object(g.i)(this.amsClient);"ok"!=A&&t(A),this.amsClient.logout((function(A,r){"ok"===A?(p.a.info("ams logout success",r,new Date),e()):"timeout"===A?(p.a.warning("ams logout timeout",r,new Date),t(new b.a(C.b.ERROR_AMS_MESSAGE_TIMEOUT,r))):"reconnecting"===A?(p.a.warning("ams logout reconnecting",r,new Date),t(new b.a(C.b.ERROR_AMS_RECONNECTING,r))):(p.a.error("ams logout error",r,new Date),t(new b.a(C.b.ERROR_AMS_API_FAILED,r))),Object(g.g)(n.amsClient),clearInterval(n.refreshTokenInterval)}))}},{key:"checkIn",value:function(e,t,n){var A=Object(g.i)(this.amsClient);"ok"!=A&&n(A),this.amsClient.checkIn(e,(function(A,r){"ok"===A?(p.a.info("ams checkIn ".concat(e," success"),r,new Date),t()):"timeout"===A?(p.a.warning("ams checkin ".concat(e," timeout"),r,new Date),n(new b.a(C.b.ERROR_AMS_MESSAGE_TIMEOUT,r))):"reconnecting"===A?(p.a.warning("ams checkin ".concat(e," reconnecting"),r,new Date),n(new b.a(C.b.ERROR_AMS_RECONNECTING,r))):(p.a.error("ams checkIn ".concat(e," error"),r,new Date),n(new b.a(C.b.ERROR_AMS_API_FAILED,r)))}))}},{key:"checkOut",value:function(e,t,n){var A=Object(g.i)(this.amsClient);"ok"!=A&&n(A),this.amsClient.checkOut(e,(function(A,r){"ok"===A?(p.a.info("ams checkOut ".concat(e," success"),r,new Date),t()):"timeout"===A?(p.a.warning("ams checkout ".concat(e," timeout"),r,new Date),n(new b.a(C.b.ERROR_AMS_MESSAGE_TIMEOUT,r))):"reconnecting"===A?(p.a.warning("ams checkout ".concat(e," reconnecting"),r,new Date),n(new b.a(C.b.ERROR_AMS_RECONNECTING,r))):(p.a.error("ams checkOut ".concat(e," error"),r,new Date),n(new b.a(C.b.ERROR_AMS_API_FAILED,r)))}))}},{key:"ready",value:function(e,t){var n=Object(g.i)(this.amsClient);"ok"!=n&&t(n),this.amsClient.ready((function(n,A){"ok"===n?(p.a.info("ams ready success",A,new Date),e()):"timeout"===n?(p.a.warning("ams ready timeout",A,new Date),t(new b.a(C.b.ERROR_AMS_MESSAGE_TIMEOUT,A))):"reconnecting"===n?(p.a.warning("ams ready reconnecting",A,new Date),t(new b.a(C.b.ERROR_AMS_RECONNECTING,A))):(p.a.error("ams ready error",A,new Date),t(new b.a(C.b.ERROR_AMS_API_FAILED,A)))}))}},{key:"unReady",value:function(e,t){var n=Object(g.i)(this.amsClient);"ok"!=n&&t(n),this.amsClient.unReady((function(n,A){"ok"===n?(p.a.info("ams unready success",A,new Date),e()):"timeout"===n?(p.a.warning("ams unready timeout",A,new Date),t(new b.a(C.b.ERROR_AMS_MESSAGE_TIMEOUT,A))):"reconnecting"===n?(p.a.warning("ams unready reconnecting",A,new Date),t(new b.a(C.b.ERROR_AMS_RECONNECTING,A))):(p.a.error("ams unReady error",A,new Date),t(new b.a(C.b.ERROR_AMS_API_FAILED,A)))}))}},{key:"otherWork",value:function(e,t,n){var A=Object(g.i)(this.amsClient);"ok"!=A&&n(A),this.amsClient.otherWork(e,(function(A,r){"ok"===A?(p.a.info("ams otherWork reason:".concat(e," success"),r,new Date),t()):"timeout"===A?(p.a.warning("ams otherWork reason:".concat(e," timeout"),r,new Date),n(new b.a(C.b.ERROR_AMS_MESSAGE_TIMEOUT,r))):"reconnecting"===A?(p.a.warning("ams otherWork reason:".concat(e," reconnecting"),r,new Date),n(new b.a(C.b.ERROR_AMS_RECONNECTING,r))):(p.a.error("ams otherWork reason:".concat(e," error"),r,new Date),n(new b.a(C.b.ERROR_AMS_API_FAILED,r)))}))}},{key:"appoint",value:function(e,t,n){var A=Object(g.i)(this.amsClient);"ok"!=A&&n(A),this.amsClient.appoint(e,(function(A,r){"ok"===A?(p.a.info("ams appoint data:".concat(e," success"),r,new Date),t()):"timeout"===A?(p.a.warning("ams appoint data:".concat(e," timeout"),r,new Date),n(new b.a(C.b.ERROR_AMS_MESSAGE_TIMEOUT,r))):"reconnecting"===A?(p.a.warning("ams appoint data:".concat(e," reconnecting"),r,new Date),n(new b.a(C.b.ERROR_AMS_RECONNECTING,r))):(p.a.error("ams appoint data:".concat(e," error"),r,new Date),n(new b.a(C.b.ERROR_AMS_API_FAILED,r)))}))}},{key:"setOtherWorkReason",value:function(e,t,n){var A=Object(g.i)(this.amsClient);"ok"!=A&&n(A),this.amsClient.setOtherWorkReason(e,(function(A,r){"ok"===A?(p.a.info("ams setOtherWorkReason reason:".concat(e," success"),r,new Date),t()):"timeout"===A?(p.a.warning("ams setOtherWorkReason reason:".concat(e," timeout"),r,new Date),n(new b.a(C.b.ERROR_AMS_MESSAGE_TIMEOUT,r))):"reconnecting"===A?(p.a.warning("ams setOtherWorkReason reason:".concat(e," reconnecting"),r,new Date),n(new b.a(C.b.ERROR_AMS_RECONNECTING,r))):(p.a.error("ams setOtherWorkReason reason:".concat(e," error"),r,new Date),n(new b.a(C.b.ERROR_AMS_API_FAILED,r)))}))}},{key:"onConnectStatus",value:function(e){this.amsClient.onConnectStatus(e)}},{key:"onRing",value:function(e){var t=this;this.amsClient.onRing((function(n){var A;p.a.info("ring data",n,new Date),t.ringData=Object(m.a)(n),"public"==t.domainType?A=new URL(n.url.publicUrl):"private"==t.domainType?A=new URL(n.url.privateUrl):"local"==t.domainType&&(A=new URL(n.url.localUrl)),t.ringData.url=A.toString(),e(t.ringData)}))}},{key:"onCancelRing",value:function(e){var t=this;this.amsClient.onStopRinging((function(n){p.a.info("stop ring",n,new Date),t.ringData={},e(n)}))}},{key:"requestMediaSwitch",value:function(e,t,n){var A=this,r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.requestMediaSwitch(e,(function(e,r){"ok"==e?(A.roomToken=r.roomToken,A.roomId=r.roomId,t(r)):n(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,r))})):n(r)}},{key:"onMediaSwitch",value:function(e){var t=this;"ok"==Object(xe.D)(this.ccsClient)&&this.ccsClient.onMediaSwitch((function(n){t.roomId=n.data&&n.data.roomId?n.data.roomId:"",t.roomToken=n.data&&n.data.roomToken?n.data.roomToken:"",e(n)}))}},{key:"startVideo",value:(P=a()(d.a.mark((function e(t){var n,A,r,i,o,s,a,c,u,l,f,h,g,w=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w.length>1&&void 0!==w[1]?w[1]:"video",A=w.length>2?w[2]:void 0,r=w.length>3?w[3]:void 0,e.prev=3,i=this.associatedUrls.turnserverUrl,o=this.associatedUrls.turnserverCredential,s=this.associatedUrls.turnserverUsername,this.irtcClient=new $(i,o,s),p.a.info("request-progress-start-join-room:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),e.next=11,ne(this.irtcClient,this.roomId,this.roomToken);case 11:return this.roomInfo=e.sent,a={audioConstraints:this.mediaOptions.cameraStreamAudioConstraints,videoConstraints:this.mediaOptions.cameraStreamVideoConstraints,publishOptions:this.mediaOptions.cameraPublishOptions},this.clientVideoLabel=Object(m.a)(t),p.a.info("request-progress-start-create-stream:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),c=!0,u="video"===n,l={participantId:this.participantId?this.participantId:"",clientId:this.ccsClient&&this.ccsClient.clientId?this.ccsClient.clientId:""},f={clientId:this.ccsClient&&this.ccsClient.clientId?this.ccsClient.clientId:"",userName:this.agentName?this.agentName:""},e.next=21,re(this.irtcClient,a,t,c,u,l,f);case 21:return h=e.sent,p.a.info("request-progress-start-publish-stream:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),e.next=25,ae(this.irtcClient,h,a.publishOptions);case 25:return g=e.sent,this.ccsClient&&this.ccsClient.noticeStreamId({streamId:g.id}),this.publicationStatIntervals=[],this.irtcClient.subscriptionList=new Map,p.a.info("request-progress-start-add-to-mix:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),e.next=32,Object(v.c)(this.backendUrl,this.roomId,g.id,this.accessToken);case 32:this.localPublicationId=g.id,this.publication=g,this.localStream=h,this.camera=new $e,this.subscriptionStatIntervals=[],this.participantId=this.roomInfo.self.id,A({publicationId:g.id,roomInfo:this.roomInfo,localStream:this.localStream}),Ue(this.irtcClient,g),e.next=45;break;case 42:e.prev=42,e.t0=e.catch(3),r(e.t0);case 45:case"end":return e.stop()}}),e,this,[[3,42]])}))),function(e){return P.apply(this,arguments)})},{key:"republishStreamWithOptions",value:(H=a()(d.a.mark((function e(t,n,A){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p.a.info("republish start: ".concat(JSON.stringify(t)," ").concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),e.next=4,ue(this.publication,this.irtcClient,this.localStream,t);case 4:if(!(r=e.sent)){e.next=14;break}return this.localPublicationId=r.id,this.publication=r,e.next=10,Object(v.c)(this.backendUrl,this.roomId,this.publication.id,this.accessToken);case 10:p.a.info("republish success publication: ".concat(JSON.stringify(this.publication)," ").concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),n({publicationId:this.publication.id,roomInfo:this.roomInfo,localStream:this.localStream}),e.next=15;break;case 14:A({code:400,message:"republish failed publication is null"});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),A({code:400,messgae:JSON.stringify(e.t0)});case 20:case"end":return e.stop()}}),e,this,[[0,17]])}))),function(e,t,n){return H.apply(this,arguments)})},{key:"answerImCall",value:(M=a()(d.a.mark((function e(t,n){var A,r,i,s,c,u,l=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ringData.url){e.next=5;break}return p.a.warning("no ring or ring stop,".concat(new Date)),A=new b.a(C.b.ERROR_PARAMETER,"no ring or ring stop"),n(A),e.abrupt("return");case 5:e.prev=5,r=this.ringData.sessionId,i=this.ringData.invitationId?this.ringData.invitationId:"",s=this.accessToken,c={media:"video",userData:{skill:"",specifyAgent:""},sessionId:r,clientInfo:Object(m.c)(),invitationId:i},p.a.info("answer-start-answerCall:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),u=setTimeout(a()(d.a.mark((function e(){var A;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g.c)(l.amsClient);case 3:return e.sent,l.ccsClient=new xe.a,p.a.info("answer-start-connect-ccs:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),e.next=8,Object(xe.d)(l.ccsClient,l.ccsUrl,s,(function(e){n(e),clearTimeout(u)}));case 8:return e.sent,Object(xe.c)((function(e){p.a.warning("css-error-event: ".concat(JSON.stringify(e),"  ").concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),Object(xe.u)(l.ccsClient),Object(w.c)(w.b,w.e.ccsSocketIoError,e),clearTimeout(u)})),A=[],l.onTextMessage((function(e){A.push(e)})),p.a.info("answer-start-joinsession:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),e.next=15,Object(xe.g)(l.ccsClient,c);case 15:if(l.joinResult=e.sent,l.ccsClient.members=l.joinResult.members,Object(xe.B)(l.ccsClient,(function(e){l.onCustomerQuitSession(e),l.ccsClient.members||n(new b.a("1017","customer quit session"))}),(function(e){l.ccsClient.members=[].concat(o()(l.ccsClient.members),[e])}),(function(e){l.ccsClient.members=[].concat(o()(l.ccsClient.members),[e])})),!(l.joinResult.members&&l.joinResult.members.length>1)){e.next=23;break}return t({sessionId:r,sessionData:l.joinResult,customerSendMessage:A,customerClientType:l.joinResult.customerClientType}),e.abrupt("return");case 23:return n(new b.a("1017","there is no other user in the current session")),e.abrupt("return");case 25:e.next=32;break;case 27:return e.prev=27,e.t0=e.catch(0),p.a.info("answer-error:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds(),",error:").concat(e.t0)),n(e.t0),e.abrupt("return");case 32:case"end":return e.stop()}}),e,null,[[0,27]])})))),e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(5),p.a.info("answer-error:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds(),",error:").concat(e.t0)),n(e.t0),e.abrupt("return");case 19:case"end":return e.stop()}}),e,this,[[5,14]])}))),function(e,t){return M.apply(this,arguments)})},{key:"onCustomerQuitSession",value:function(e){if((p.a.info("customer quitSession with info",e),this.ccsClient&&this.ccsClient.members)&&this.ccsClient.members.filter((function(e){return"customer"===e.role})).length>1)return Object(m.i)(this.ccsClient.members,e.id),void p.a.info("session exist other Customer,members",this.ccsClient.members);Ie(this.irtcClient),this.localStream&&ee(this.localStream)}},{key:"onDrop",value:function(e){var t=this,n={code:401,message:"connect forced termination drop"},A={code:402,message:"socket io connect error"},r={code:403,message:"other person login,the current account login is invalid"},i={code:404,message:"ams socketio is disconnected"},o={code:405,message:"ams socketio is reconnect failed"};this.amsClient.onDrop((function(){p.a.warning("ams connect forced termination drop",new Date),Object(g.g)(t.amsClient),e(n)})),this.amsClient.onError(function(){var n=a()(d.a.mark((function n(r){var i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(p.a.warning("ams connect error,need to stop current business processing",JSON.stringify(r),new Date),!r||"1101"!==r.code){n.next=13;break}return n.next=4,Object(v.m)(t.backendUrl,t.userId,t.ticket);case 4:return i=n.sent,t.ticket=i.ticket,t.accessToken=i.accessToken,n.next=9,Object(g.d)(t.amsClient,t.amsUrl,t.accessToken);case 9:n.sent,Object(g.h)(t.amsClient,t.amsClient.ticket),n.next=15;break;case 13:Object(g.g)(t.amsClient),e(A);case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),this.amsClient.onReplaced((function(){p.a.info("other person login,the current account login is invalid, agent that are currently logged in need to be notified, and login again",new Date),Object(g.g)(t.amsClient),e(r)})),this.amsClient.onDisconnect((function(){Object(g.g)(t.amsClient),e(i)})),this.amsClient.onReconnectFailed((function(){Object(g.g)(t.amsClient),e(o)}))}},{key:"dropClient",value:function(e,t,n){if(Object(m.d)(e)){p.a.warning("clientId is invalid");var A=new b.a(C.b.ERROR_PARAMETER,"clientId is a required parameter");n(A)}else{var r=Object(xe.D)(this.ccsClient);"ok"!=r&&n(r),this.ccsClient.dropClient(e,(function(A,r){"ok"===A?(p.a.info("ams dropClient clientId:".concat(e," success"),r,new Date),t("ok","success")):(p.a.error("ams dropClient clientId:".concat(e," error"),r,new Date),n(new b.a("1021",r)))}))}}},{key:"joinSession",value:(L=a()(d.a.mark((function e(t,n,A,r,i,s,c){var u,l,f,h,g,B,y,k,E,S,Q,U=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(m.d)(t)){e.next=5;break}return p.a.warning("The videoLabel is used to tag the current role information,videoLabel is invalid"),u=new b.a(C.b.ERROR_PARAMETER,"videoLabel is a required parameter"),c(u),e.abrupt("return");case 5:if(!Object(m.d)(A)){e.next=10;break}return p.a.warning("accessToken is invalid"),l=new b.a(C.b.ERROR_PARAMETER,"accessToken is a required parameter"),c(l),e.abrupt("return");case 10:if(!n){e.next=16;break}if(Ee(n)){e.next=16;break}return p.a.warning("customizedMediaStreams is invalid"),f=new b.a(C.b.ERROR_PARAMETER,"customized MediaStreams is invalid"),c(f),e.abrupt("return");case 16:if(!Object(m.d)(r)){e.next=21;break}return p.a.warning("ccsUrl is invalid"),h=new b.a(C.b.ERROR_PARAMETER,"ccsUrl is a required parameter"),c(h),e.abrupt("return");case 21:if(!Object(m.d)(i)){e.next=26;break}return p.a.warning("sessionId is invalid"),g=new b.a(C.b.ERROR_PARAMETER,"sessionId is a required parameter"),c(g),e.abrupt("return");case 26:try{B=this.backendUrl,y=this.associatedUrls.turnserverUrl,k=this.associatedUrls.turnserverCredential,E=this.associatedUrls.turnserverUsername,this.irtcClient=new $(y,k,E),S={audioConstraints:this.mediaOptions.cameraStreamAudioConstraints,videoConstraints:this.mediaOptions.cameraStreamVideoConstraints},Q=setTimeout(a()(d.a.mark((function e(){var a,u,l,f,h,g,y,C,k,E;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,U.ccsClient=new xe.a,e.next=4,Object(xe.d)(U.ccsClient,r,A,(function(e){c(e),clearTimeout(Q)}));case 4:return e.sent,U.ccsUrl=Object(m.a)(r),U.accessToken=Object(m.a)(A),Object(xe.c)((function(e){p.a.warning("css-error-event: ".concat(JSON.stringify(e),"  ").concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),Object(xe.u)(U.ccsClient),Object(w.c)(w.b,w.e.ccsSocketIoError,e),clearTimeout(Q),U.localStream&&ee(U.localStream)})),a=[],U.onTextMessage((function(e){a.push(e)})),u={media:"video",userData:{skill:"",specifyAgent:""},sessionId:i,clientInfo:Object(m.c)(),type:"force"},e.next=13,Object(xe.g)(U.ccsClient,u);case 13:if(U.joinResult=e.sent,!(U.joinResult.members&&U.joinResult.members.length>1)){e.next=60;break}return e.next=17,ne(U.irtcClient,U.joinResult.roomId,U.joinResult.roomToken);case 17:if(U.roomInfo=e.sent,U.roomId=U.roomInfo.id,l=U.roomInfo.self.id,f=!0,h=!0,g={participantId:l||"",clientId:U.ccsClient&&U.ccsClient.clientId?U.ccsClient.clientId:""},y={clientId:U.ccsClient&&U.ccsClient.clientId?U.ccsClient.clientId:"",userName:U.agentName?U.agentName:""},!n){e.next=28;break}e.t0=n,e.next=31;break;case 28:return e.next=30,re(U.irtcClient,S,t,f,h,g,y);case 30:e.t0=e.sent;case 31:return C=e.t0,U.localStream=C,e.next=35,ae(U.irtcClient,C,U.mediaOptions.cameraPublishOptions);case 35:return k=e.sent,U.ccsClient&&U.ccsClient.noticeStreamId({streamId:k.id}),U.publication=k,e.next=40,Object(xe.r)(l,{},"customers",U.ccsClient);case 40:if(e.sent,U.joinResult.customerClientType=Object(xe.e)(U.joinResult.members),U.joinResult.customerClientType!=U.miniType){e.next=47;break}return E=U.associatedUrls.rtmpServer+"/"+U.joinResult.clientId+U.joinResult.sessionId,e.next=46,Object(v.q)(B,U.joinResult.roomId,k.id,k.id,E);case 46:e.sent;case 47:return e.next=49,Object(v.c)(B,U.joinResult.roomId,k.id,A);case 49:e.sent,U.irtcClient.mixStreamId,U.localPublicationId=k.id,s({sessionId:i,sessionData:U.joinResult,customerSendMessage:a,customerClientType:U.joinResult.customerClientType,publicationId:k.id,participantId:U.roomInfo.self.id}),Ue(U.irtcClient,k),U.streamAddListener=Object(w.a)(j,(function(e){p.a.info("new stream add with info:",e," at:",new Date),e&&e.data&&(p.a.info("new stream add with stream:",e.data," at:",new Date),Object(v.o)(U.backendUrl,U.roomId,e.data.id,U.accessToken,l,"baidu"))})),U.streamAsrListener=Object(w.a)(Y,(function(e){p.a.info("new stream asr event:",e," at:",new Date),e&&e.data&&(p.a.info("new stream asr event:",e.data," at:",new Date),U.sendTextMessageWithFromClientId(e.data.content,e.data.clientId,"all",(function(e){p.a.info("send asr text message success",e)}),(function(e){p.a.info("send asr text message error",e)})))})),U.ccsClient.members=U.joinResult.members,Object(xe.B)(U.ccsClient,(function(e){U.onCustomerQuitSession(e)}),(function(e){U.ccsClient.members=[].concat(o()(U.ccsClient.members),[e])}),(function(e){U.ccsClient.members=[].concat(o()(U.ccsClient.members),[e])})),e.next=64;break;case 60:return p.a.warning("there is no other user in the current session"),U.localStream&&ee(U.localStream),c(new b.a("1017","there is no other user in the current session")),e.abrupt("return");case 64:e.next=71;break;case 66:e.prev=66,e.t1=e.catch(0),p.a.warning("join session error",e.t1),U.localStream&&ee(U.localStream),c(e.t1);case 71:case"end":return e.stop()}}),e,null,[[0,66]])}))))}catch(e){p.a.warning("join session error",e),this.localStream&&ee(this.localStream),c(e)}case 27:case"end":return e.stop()}}),e,this)}))),function(e,t,n,A,r,i,o){return L.apply(this,arguments)})},{key:"answer",value:(T=a()(d.a.mark((function e(t){var n,A,r,i,s,c,u,l,f,h,B,y,k,E,S,Q,U=this,I=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=I.length>1&&void 0!==I[1]?I[1]:"video",A=I.length>2?I[2]:void 0,r=I.length>3?I[3]:void 0,i=I.length>4?I[4]:void 0,!Object(m.d)(t)){e.next=9;break}return p.a.warning("The videoLabel is used to tag the current role information,videoLabel is invalid"),s=new b.a(C.b.ERROR_PARAMETER,"videoLabel is a required parameter"),i(s),e.abrupt("return");case 9:if(this.ringData.url){e.next=14;break}return p.a.warning("no ring or ring stop,".concat(new Date)),c=new b.a(C.b.ERROR_PARAMETER,"no ring or ring stop"),i(c),e.abrupt("return");case 14:if(!A){e.next=20;break}if(Ee(A)){e.next=20;break}return p.a.warning("customizedMediaStreams is invalid"),u=new b.a(C.b.ERROR_PARAMETER,"customized MediaStreams is invalid"),i(u),e.abrupt("return");case 20:e.prev=20,l=this.ringData.sessionId,f=this.ringData.invitationId?this.ringData.invitationId:"",h=this.accessToken,B={media:"video",userData:{skill:"",specifyAgent:""},sessionId:l,clientInfo:Object(m.c)(),invitationId:f},y=this.backendUrl,k=this.associatedUrls.turnserverUrl,E=this.associatedUrls.turnserverCredential,S=this.associatedUrls.turnserverUsername,p.a.info("answer-start-answerCall:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),Q=setTimeout(a()(d.a.mark((function e(){var s,a,c,u,f,m,C,I,F,O,R,x,_;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g.c)(U.amsClient);case 3:return e.sent,s={audioConstraints:U.mediaOptions.cameraStreamAudioConstraints,videoConstraints:U.mediaOptions.cameraStreamVideoConstraints},U.ccsClient=new xe.a,p.a.info("answer-start-connect-ccs:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),e.next=9,Object(xe.d)(U.ccsClient,U.ccsUrl,h,(function(e){i(e),clearTimeout(Q)}));case 9:return e.sent,Object(xe.c)((function(e){p.a.warning("css-error-event: ".concat(JSON.stringify(e),"  ").concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),Object(xe.u)(U.ccsClient),Object(w.c)(w.b,w.e.ccsSocketIoError,e),clearTimeout(Q)})),a=[],U.onTextMessage((function(e){a.push(e)})),p.a.info("answer-start-joinsession:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),e.next=16,Object(xe.g)(U.ccsClient,B);case 16:if(U.joinResult=e.sent,U.ccsClient.members=U.joinResult.members,Object(xe.B)(U.ccsClient,(function(e){U.onCustomerQuitSession(e),U.ccsClient.members||i(new b.a("1017","customer quit session"))}),(function(e){U.ccsClient.members=[].concat(o()(U.ccsClient.members),[e])}),(function(e){U.ccsClient.members=[].concat(o()(U.ccsClient.members),[e])})),!(U.joinResult.members&&U.joinResult.members.length>1)){e.next=85;break}if(p.a.info("answer-start-create-stream:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),U.irtcClient=new $(k,E,S),c=!0,u="video"===n,f={participantId:U.participantId?U.participantId:"",clientId:U.ccsClient&&U.ccsClient.clientId?U.ccsClient.clientId:""},m={clientId:U.ccsClient&&U.ccsClient.clientId?U.ccsClient.clientId:"",userName:U.agentName?U.agentName:""},!A){e.next=30;break}e.t0=A,e.next=33;break;case 30:return e.next=32,re(U.irtcClient,s,t,c,u,f,m);case 32:e.t0=e.sent;case 33:return C=e.t0,U.localStream=C,console.log("answer localstream:",C,U.localStream),p.a.info("answer-start-join-room:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),e.next=39,ne(U.irtcClient,U.joinResult.roomId,U.joinResult.roomToken);case 39:return U.roomInfo=e.sent,U.roomId=U.roomInfo.id,p.a.info("answer-start-publish-stream:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),e.next=44,ae(U.irtcClient,C,U.mediaOptions.cameraPublishOptions);case 44:return I=e.sent,U.ccsClient&&U.ccsClient.noticeStreamId({streamId:I.id}),U.publication=I,F=U.roomInfo.self.id,p.a.info("answer-start-reasy-to-talk:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),e.next=51,Object(xe.r)(F,{},"customers",U.ccsClient);case 51:if(e.sent,U.joinResult.customerClientType=Object(xe.e)(U.joinResult.members),U.joinResult.customerClientType!=U.miniType){e.next=69;break}return p.a.info("answer-start-createTokenWithRtmpServer:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),e.next=57,Object(v.g)(y,U.accessToken,60);case 57:return O=e.sent,R=U.associatedUrls.rtmpServer+"/"+U.joinResult.clientId+U.joinResult.sessionId+"?token="+O,x="video"!=n?null:I.id,p.a.info("answer-start-streamOutsToMediaServer:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),e.next=63,Object(v.q)(y,U.joinResult.roomId,I.id,x,R);case 63:_=e.sent,U.joinResult.callMediaType=n,U.joinResult.audioId=I.id,U.joinResult.videoId=I.id,U.joinResult.streamOutsUrl=R,U.joinResult.streamingOutsId=_.data.id;case 69:return p.a.info("answer-start-addStreamToMixStream:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),e.next=72,Object(v.c)(y,U.joinResult.roomId,I.id,h);case 72:return e.sent,U.irtcClient.mixStreamId,U.localPublicationId=I.id,r({sessionId:l,sessionData:U.joinResult,customerSendMessage:a,customerClientType:U.joinResult.customerClientType,publicationId:I.id,participantId:U.roomInfo.self.id}),U.ccsClient.members=U.joinResult.members,p.a.info("answer-success:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),setTimeout((function(){p.a.info("notify-stream-add-agentName:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds())),Object(v.a)(y,l,U.localPublicationId,U.agentName,h)}),1e3),Ue(U.irtcClient,I),U.streamAddListener=Object(w.a)(j,(function(e){p.a.info("new stream add with info:",e," at:",new Date),e&&e.data&&(p.a.info("new stream add with stream:",e.data," at:",new Date),Object(v.o)(U.backendUrl,U.roomId,e.data.id,U.accessToken,F,"baidu"))})),U.streamAsrListener=Object(w.a)(Y,(function(e){p.a.info("new stream asr event:",e," at:",new Date),e&&e.data&&(p.a.info("new stream asr event:",e.data," at:",new Date),U.sendTextMessageWithFromClientId(e.data.content,e.data.clientId,"all",(function(e){p.a.info("send asr text message success",e)}),(function(e){p.a.info("send asr text message error",e)})))})),e.abrupt("return");case 85:return U.localStream&&ee(U.localStream),i(new b.a("1017","there is no other user in the current session")),e.abrupt("return");case 88:e.next=96;break;case 90:return e.prev=90,e.t1=e.catch(0),p.a.info("answer-error:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds(),",error:").concat(e.t1)),U.localStream&&ee(U.localStream),i(e.t1),e.abrupt("return");case 96:case"end":return e.stop()}}),e,null,[[0,90]])})))),e.next=39;break;case 33:return e.prev=33,e.t0=e.catch(20),p.a.info("answer-error:".concat((new Date).getHours(),":").concat((new Date).getMinutes(),":").concat((new Date).getSeconds(),".").concat((new Date).getMilliseconds(),",error:").concat(e.t0)),this.localStream&&ee(this.localStream),i(e.t0),e.abrupt("return");case 39:case"end":return e.stop()}}),e,this,[[20,33]])}))),function(e){return T.apply(this,arguments)})},{key:"sendReadyToTalk",value:(D=a()(d.a.mark((function e(t,n,A){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(xe.r)(t,{},"customers",this.ccsClient);case 3:r=e.sent,n(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),A(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e,t,n){return D.apply(this,arguments)})},{key:"voiceToVideo",value:(_=a()(d.a.mark((function e(t,n){var A,r,i,o,s,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=a.length>2&&void 0!==a[2]?a[2]:void 0,this.publication){e.next=6;break}return p.a.warning("no audio or video calls"),r=new b.a("1022","No audio or video calls"),n(r),e.abrupt("return");case 6:if(i={audio:this.mediaOptions.cameraStreamAudioConstraints,video:this.mediaOptions.cameraStreamVideoConstraints},e.prev=7,!A){e.next=12;break}e.t0=A,e.next=15;break;case 12:return e.next=14,this.irtcClient.createAudioMediaStream(i,{},!1);case 14:e.t0=e.sent;case 15:o=e.t0,this.publication.updateMedia(o).then((function(e){p.a.info("voice to video success",e),t("ok")})).catch((function(e){p.a.error("voice to video error",e);var t=new b.a("1023",e.message||e.name||e);n(t)})),e.next=24;break;case 19:e.prev=19,e.t1=e.catch(7),p.a.error("voice to video crash error",e.t1),s=new b.a(e.t1.code||"1023",e.t1.message||e.t1.name||e.t1),n(s);case 24:case"end":return e.stop()}}),e,this,[[7,19]])}))),function(e,t){return _.apply(this,arguments)})},{key:"videoToVoice",value:(x=a()(d.a.mark((function e(t,n){var A,r,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.publication){e.next=5;break}return p.a.warning("no audio or video calls"),A=new b.a("1022","No audio or video calls"),n(A),e.abrupt("return");case 5:return r={audio:this.mediaOptions.cameraStreamAudioConstraints,video:!1},e.prev=6,e.next=9,this.irtcClient.createVideoMediaStream(r,{},!1);case 9:i=e.sent,this.publication.updateMedia(i).then((function(e){p.a.info("video to voice success",e),t("ok")})).catch((function(e){p.a.error("video to voice error",e);var t=new b.a("1023",e.message||e.name||e);n(t)})),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(6),p.a.error("video to voice crash error",e.t0),o=new b.a(e.t0.code||"1023",e.t0.message||e.t0.name||e.t0),n(o);case 18:case"end":return e.stop()}}),e,this,[[6,13]])}))),function(e,t){return x.apply(this,arguments)})},{key:"onTTSStreamSpeaking",value:function(e){this.addEventListener(X,(function(t){var n=t.data;e(n)}))}},{key:"onTTSStreamSpeakDone",value:function(e){var t=this;this.ttsStreamSpeakDones=new Map,this.addEventListener(Z,(function(n){var A=Object(m.a)(n).data;if(0===t.ttsStreamSpeakDones.size)return t.ttsStreamSpeakDones.set(A.streamId,A),void e(A);var i,o=!1,s=ot(t.ttsStreamSpeakDones.entries());try{for(s.s();!(i=s.n()).done;){var a=r()(i.value,2),c=a[0];a[1];if(c===A.streamId)return p.a.info("ttsStreamSpeakDone already happen",A),void(o=!0)}}catch(e){s.e(e)}finally{s.f()}o||(t.ttsStreamSpeakDones.set(A.streamId,A),e(A))}))}},{key:"reject",value:function(e,t){this.amsClient.rejectCall((function(n,A){"ok"===n?(p.a.info("ams reject call success",A,new Date),e()):"timeout"===n?(p.a.warning("ams reject call timeout",A,new Date),t(new b.a(C.b.ERROR_AMS_MESSAGE_TIMEOUT,A))):"reconnecting"===n?(p.a.warning("ams reject call reconnecting",A,new Date),t(new b.a(C.b.ERROR_AMS_RECONNECTING,A))):(p.a.error("ams reject call failed",A,new Date),t(new b.a(C.b.ERROR_AMS_API_FAILED,A)))}))}},{key:"hangup",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,A=arguments.length>2?arguments[2]:void 0;this.irtcWhiteBoard=null,this.irtcClient&&Ie(this.irtcClient);var r=[];try{this.amsClient&&this.amsClient.accessToken&&this.ringData&&this.ringData.sessionId&&r.push(Object(g.e)(this.amsClient)),this.ccsClient&&this.ccsClient.accessToken&&r.push(Object(xe.q)(t,this.ccsClient)),this.irtcClient&&this.roomInfo&&(r.push(ge(this.irtcClient)),this.irtcClient=null,this.roomInfo=null),this.localStream&&(ee(this.localStream),this.localStream=null),this.eventList&&this.eventList.forEach((function(t,n){n!=w.f&&e.removeEventListener(n,t)})),Promise.allSettled(r).then((function(e){p.a.info("agent hangup success",e),n(e)})).catch((function(e){p.a.info("agent hangup error",e),A(e)})),this.streamAddListener&&Object(w.d)(j,this.streamAddListener),this.streamAsrListener&&Object(w.d)(Y,this.streamAsrListener),this.ringData={}}catch(e){p.a.info("agent hangup error",e),A(e)}}},{key:"addEventListener",value:function(e,t){p.a.info("add event listener with Name,".concat(e));var n=Object(w.a)(e,t);return this.eventList.set(e,n),n}},{key:"removeEventListener",value:function(e,t){p.a.info("remove event listener with Name,".concat(e)),Object(w.d)(e,t)}},{key:"renderStream",value:(R=a()(d.a.mark((function e(t,n,A,r,i,o){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Se(this.irtcClient,t,n,(function(e){A(e)}),(function(e){r(e)}),(function(e){i(e)}),(function(e){o(e)}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,n,A,r,i){return R.apply(this,arguments)})},{key:"stopRenderStream",value:function(e,t,n){if(this.irtcClient){for(var A=this.irtcClient.subscriptionArr?this.irtcClient.subscriptionArr:[],r=0;r<A.length;r++){var i=A[r];if(e===i.id)return i.stop(),void t("ok")}n(new b.a("1024","subscriptionId, ".concat(e," is invalid")))}else n(new b.a("1024","irtcClient is invalid"))}},{key:"screenShare",value:(O=a()(d.a.mark((function e(t,n,A){var r,i,o,s,a,c,u,l,f,h,g,w,B,y=this,b=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.length>3&&void 0!==b[3]?b[3]:"screen",i=b.length>4&&void 0!==b[4]?b[4]:"customers",e.prev=2,o={audioConstraints:this.mediaOptions.screenStreamAudioConstraints,videoConstraints:this.mediaOptions.screenStreamVideoConstraints},s={from:{participantId:this.participantId?this.participantId:"",clientId:this.ccsClient&&this.ccsClient.clientId?this.ccsClient.clientId:"",userName:this.agentName?this.agentName:""},to:i},a=Object(m.a)(r),e.next=8,oe(this.irtcClient,o,a,s);case 8:return c=e.sent,this.screenShareStream=c,this.irtcClient.createStreams.push(c),u=Object(m.a)(this.mediaOptions.screenPublishOptions),c.mediaStream.getAudioTracks().length>0?u.audio||(u.audio=Object(m.a)(this.mediaOptions.screenPublishOptions.audio)):u.audio=!1,c.mediaStream.getVideoTracks().length>0?u.video||(u.video=Object(m.a)(this.mediaOptions.screenPublishOptions.video)):u.video=!1,e.next=16,ae(this.irtcClient,c,u);case 16:if(l=e.sent,this.joinResult.customerClientType!=this.miniType){e.next=28;break}return f=this.backendUrl,e.next=21,Object(v.g)(f,this.accessToken,60);case 21:return h=e.sent,g=this.associatedUrls.rtmpServer+"/screen"+this.joinResult.sessionId+"?token="+h,w=c.mediaStream.getAudioTracks().length>0?l.id:null,B=c.mediaStream.getVideoTracks().length>0?l.id:null,e.next=27,Object(v.q)(f,this.joinResult.roomId,w,B,g);case 27:e.sent;case 28:c.mediaStream.getVideoTracks()[0].onended=function(){y.stopScreenShare(l.id,(function(e){p.a.info("screen shared popup has been closed",e)}),(function(e){p.a.info("screen shared popup has been closed",e)})),A()},t(l.id),e.next=37;break;case 32:e.prev=32,e.t0=e.catch(2),p.a.info("screen share error",e.t0),this.screenShareStream&&ee(this.screenShareStream),n(e.t0);case 37:case"end":return e.stop()}}),e,this,[[2,32]])}))),function(e,t,n){return O.apply(this,arguments)})},{key:"saveScreenShareRecord",value:function(e){this.ccsClient&&this.ccsClient.screenShare({},e,(function(e){p.a.info("save screenShare operate status,",e)}))}},{key:"stopScreenShare",value:(F=a()(d.a.mark((function e(t,n,A){var r,i,o,s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,this.irtcClient){for(i=0;i<this.irtcClient.publicationArr.length;i++)if((o=this.irtcClient.publicationArr[i]).id===t)for(r=!0,te(o),s=0;s<this.irtcClient.createStreams.length;s++)(a=this.irtcClient.createStreams[s]).id===o.originId&&(ee(a),this.irtcClient.createStreams.splice(s,1));r?n():A(new b.a("1010","publicationId is invalid"))}else A(new b.a("1011","no video session"));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return F.apply(this,arguments)})},{key:"saveStopScreenShareRecord",value:function(e){this.ccsClient&&this.ccsClient.stopScreenShare({},e,(function(e){p.a.info("save stopScreenShare operate status,",e)}))}},{key:"startRecordScreen",value:(I=a()(d.a.mark((function e(t,n,A){var r,i,o,s,c,u,l,f,h,g,w=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={audioConstraints:this.mediaOptions.screenStreamAudioConstraints,videoConstraints:this.mediaOptions.screenStreamVideoConstraints},i={clientId:this.ccsClient&&this.ccsClient.clientId?this.ccsClient.clientId:"",userName:this.agentName||""},e.next=6,oe(this.irtcClient,r,"recordScreen",i);case 6:return o=e.sent,this.recordScreenStream=o,this.irtcClient.createStreams.push(o),s=Object(m.a)(this.mediaOptions.screenPublishOptions),o.mediaStream.getAudioTracks().length>0?s.audio||(s.audio=Object(m.a)(this.mediaOptions.screenPublishOptions.audio)):s.audio=!1,o.mediaStream.getVideoTracks().length>0?s.video||(s.video=Object(m.a)(this.mediaOptions.screenPublishOptions.video)):s.video=!1,e.next=14,ae(this.irtcClient,o,s);case 14:return c=e.sent,u=this.amsClient.accessToken,l=this.backendUrl,f=o.mediaStream.getAudioTracks()&&o.mediaStream.getAudioTracks().length>0?c.id:null,h=o.mediaStream.getVideoTracks()&&o.mediaStream.getVideoTracks().length>0?c.id:null,e.next=22,Object(v.l)(l,this.joinResult.roomId,f,h,u,!0);case 22:g=e.sent,o.mediaStream.getVideoTracks()[0].onended=a()(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.stopRecordScreen(c.id,g,(function(e){p.a.warning("screen record shared popup has been closed",e),g=null}),(function(e){p.a.warning("screen record shared popup has been closed",e)})),A();case 2:case"end":return e.stop()}}),e)}))),this.ccsClient&&this.ccsClient.screenRecord({},this.ccsClient.clientId,(function(e){p.a.info("save screenRecord operate status,",e)})),t({publicationId:c.id,recordId:g}),e.next=33;break;case 28:e.prev=28,e.t0=e.catch(0),p.a.info("start record screen error",e.t0),this.recordScreenStream&&ee(this.recordScreenStream),n(e.t0);case 33:case"end":return e.stop()}}),e,this,[[0,28]])}))),function(e,t,n){return I.apply(this,arguments)})},{key:"stopRecordScreen",value:(U=a()(d.a.mark((function e(t,n,A,r){var i,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=this.amsClient.accessToken,o=this.backendUrl,!n){e.next=9;break}return e.next=6,Object(v.p)(o,this.joinResult.roomId,n,i,!1);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0="";case 10:s=e.t0,this.stopScreenShare(t,(function(e){p.a.info("stop screen share success",e)}),(function(e){p.a.info("stop screen share error",e)})),this.ccsClient&&this.ccsClient.stopScreenRecord({},this.ccsClient.clientId,(function(e){p.a.info("save stopScreenRecord operate status,",e)})),A(s),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(0),r(e.t1);case 19:case"end":return e.stop()}}),e,this,[[0,16]])}))),function(e,t,n,A){return U.apply(this,arguments)})},{key:"inviteOther",value:(Q=a()(d.a.mark((function e(t,n,A){var r,i=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.service||(t.service=""),t.agentId||(t.agentId="*"),e.next=4,Object(xe.f)(this.ccsClient,t).catch((function(e){A(e)}));case 4:r=Object(xe.n)(this.ccsClient,(function(e){p.a.info("invite other agent progress",e,new Date);var t=e.code;"403"===t||"405"===t?(i.ccsClient.offInvitationProgress(r),n(e)):"402"===t?(i.cancelInvitations((function(e){p.a.info("cancelInvitations success",e)}),(function(e){p.a.error("cancelInvitations error",e)})),i.ccsClient.offInvitationProgress(r),A(e)):"401"!==t&&"404"!==t&&"406"!==t&&"407"!==t&&"408"!==t&&"412"!==t||(i.ccsClient.offInvitationProgress(r),A(e))}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return Q.apply(this,arguments)})},{key:"transfer",value:(S=a()(d.a.mark((function e(t){var n,A,r,i,o,s=this,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],A=c.length>2&&void 0!==c[2]?c[2]:{},r=c.length>3?c[3]:void 0,i=c.length>4?c[4]:void 0,t.service||(t.service=""),t.agentId||(t.agentId="*"),e.next=8,Object(xe.f)(this.ccsClient,t).catch((function(e){i(e)}));case 8:return t.status="start",e.next=11,Object(xe.i)(this.ccsClient,t);case 11:o=Object(xe.n)(this.ccsClient,function(){var e=a()(d.a.mark((function e(a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.a.info("transfer agent progress",a,new Date),"401"!==(c=a.code)&&"404"!==c&&"406"!==c&&"407"!==c&&"408"!==c&&"409"!==c&&"410"!==c&&"411"!==c&&"412"!==c){e.next=11;break}return t.status="end",e.next=6,Object(xe.i)(s.ccsClient,t);case 6:return s.ccsClient.offInvitationProgress(o),i(a),e.abrupt("return");case 11:if(e.prev=11,"402"!==c){e.next=30;break}if("1004"!=a.waitingCode&&(!n||"1001"!=a.waitingCode&&"1002"!=a.waitingCode&&"1003"!=a.waitingCode)){e.next=21;break}return t.status="end",e.next=17,Object(xe.i)(s.ccsClient,t);case 17:return s.ccsClient.offInvitationProgress(o),s.cancelInvitations((function(e){p.a.info("cancelInvitations success",e,new Date)}),(function(e){p.a.error("cancelInvitations error",e,new Date)})),i(a),e.abrupt("return");case 21:if(n){e.next=28;break}return s.ccsClient.offInvitationProgress(o),t.status="end",e.next=26,Object(xe.i)(s.ccsClient,t);case 26:return s.hangup(A,(function(e){r(e)}),(function(e){i(e)})),e.abrupt("return");case 28:e.next=47;break;case 30:if("403"!==c){e.next=40;break}if(n){e.next=38;break}return s.ccsClient.offInvitationProgress(o),t.status="end",e.next=36,Object(xe.i)(s.ccsClient,t);case 36:return s.hangup(A,(function(e){r(e)}),(function(e){i(e)})),e.abrupt("return");case 38:e.next=47;break;case 40:if("405"!==c){e.next=47;break}return s.ccsClient.offInvitationProgress(o),t.status="end",e.next=45,Object(xe.i)(s.ccsClient,t);case 45:return s.hangup(A,(function(e){r(e)}),(function(e){i(e)})),e.abrupt("return");case 47:e.next=54;break;case 49:return e.prev=49,e.t0=e.catch(11),s.ccsClient.offInvitationProgress(o),i(e.t0),e.abrupt("return");case 54:case"end":return e.stop()}}),e,null,[[11,49]])})));return function(t){return e.apply(this,arguments)}}());case 12:case"end":return e.stop()}}),e,this)}))),function(e){return S.apply(this,arguments)})},{key:"cancelInvitations",value:function(e,t){var n=Object(xe.D)(this.ccsClient);"ok"!=n&&t(n),this.ccsClient.cancelInvitations(void 0,(function(n,A,r){"ok"===n?e():(p.a.error("cancel invitations failed,".concat(A,",msgId ").concat(r,",").concat(new Date)),t(new b.a("1019",A)))}))}},{key:"mute",value:(E=a()(d.a.mark((function e(t,n,A){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye(this.localPublicationId,t,this.irtcClient);case 3:n(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),A(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,t,n){return E.apply(this,arguments)})},{key:"unmute",value:(k=a()(d.a.mark((function e(t,n,A){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce(this.localPublicationId,t,this.irtcClient);case 3:n(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),A(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,t,n){return k.apply(this,arguments)})},{key:"shareResource",value:(y=a()(d.a.mark((function e(t,n){var A,r,i,o,s,a,c,u=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=u.length>2&&void 0!==u[2]?u[2]:"customers",r=u.length>3?u[3]:void 0,i=u.length>4?u[4]:void 0,-1!==["doc","pic","video","audio","page","paper"].indexOf(t)){e.next=8;break}return o=new b.a("2001","type is invalid,only support 'doc','pic', 'video', 'audio', 'page', 'paper'"),i(o),e.abrupt("return");case 8:return"ok"!=(s=Object(xe.D)(this.ccsClient))&&i(s),e.prev=10,a=this.backendUrl,e.next=14,Object(v.r)(a,n,this.accessToken);case 14:c=e.sent,this.ccsClient.shareResource(t,c.url,c.originalname,A,(function(e,t,n){"ok"===e?r(c):(p.a.info("send shareResource message failed,".concat(t,",msgId").concat(n,",").concat(new Date)),i(t))})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),i(e.t0);case 21:case"end":return e.stop()}}),e,this,[[10,18]])}))),function(e,t){return y.apply(this,arguments)})},{key:"shareResourceWithUrl",value:(B=a()(d.a.mark((function e(t,n){var A,r,i,o,s,a,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=c.length>2&&void 0!==c[2]?c[2]:"customers",r=c.length>3&&void 0!==c[3]?c[3]:"",i=c.length>4?c[4]:void 0,o=c.length>5?c[5]:void 0,-1!==["doc","pic","video","audio","page","paper"].indexOf(t)){e.next=9;break}return s=new b.a("2001","type is invalid,only support 'doc','pic', 'video', 'audio', 'page', 'paper'"),o(s),e.abrupt("return");case 9:"ok"!=(a=Object(xe.D)(this.ccsClient))&&o(a);try{this.ccsClient.shareResource(t,n,r,A,(function(e,t,n){"ok"===e?i():(p.a.info("send shareResource message failed,".concat(t,",msgId").concat(n,",").concat(new Date)),o(t))}))}catch(e){o(e)}case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return B.apply(this,arguments)})},{key:"shareResourceWithFileInfo",value:(h=a()(d.a.mark((function e(t,n){var A,r,i,o,s,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=a.length>2&&void 0!==a[2]?a[2]:"customers",r=a.length>3?a[3]:void 0,i=a.length>4?a[4]:void 0,-1!==["doc","pic","video","audio","page","paper"].indexOf(t)){e.next=8;break}return o=new b.a("2001","type is invalid,only support 'doc','pic', 'video', 'audio', 'page', 'paper'"),i(o),e.abrupt("return");case 8:"ok"!=(s=Object(xe.D)(this.ccsClient))&&i(s);try{this.ccsClient.shareResourceWithFileInfo(t,n,A,(function(e,t,n){"ok"===e?r():(p.a.info("send shareResourceWithFileInfo message failed,".concat(t,",msgId").concat(n,",").concat(new Date)),i(t))}))}catch(e){i(e)}case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"sendTTSBroadMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,r=Object(xe.D)(this.ccsClient);"ok"!=r&&A(r),this.ccsClient.sendTTSBroadMessage(e,t,(function(r,i,o){"ok"===r?n("ok"):(p.a.info("send tts text message:".concat(e," to ").concat(t," failed,reason:").concat(i,",msgId:").concat(o,",").concat((new Date).toISOString())),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,i)))}))}},{key:"sendTextMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"customers",n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,r=Object(xe.D)(this.ccsClient);"ok"!=r&&A(r),this.ccsClient.sendTextMessage(e,t,(function(t,r,i){"ok"===t?n():(p.a.info("send text message:".concat(e," failed,reason:").concat(r,",msgId").concat(i,",").concat(new Date)),A(new b.a("1014",r)))}))}},{key:"onTextMessage",value:function(e){this.ccsClient.onTextMessage((function(t){e(t)}))}},{key:"onAiRecognitionMessage",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?(this.ccsClient.onAsrTextMessage(e),this.ccsClient.onTtsTextMessage((function(t){var n,A=Object(m.a)(t);A.data=null==t||null===(n=t.data)||void 0===n?void 0:n.content,e(A)})),this.ccsClient.onPreRecordVideoTextMessage(e)):p.a.error("onAiRecognitionMessage error",t)}},{key:"onResourceMessage",value:function(e){this.ccsClient.onSharedResource((function(t){e(t)}))}},{key:"onOtherResumeConnect",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onClientResumeConnectStatus((function(t){e(t)})):p.a.error("onOtherResumeConnect error",t)}},{key:"onOtherReconnecting",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onClientReconnectingStatus((function(t){e(t)})):p.a.error("onOtherReconnecting error",t)}},{key:"onOtherPageStatus",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPageStatus((function(t){e(t)})):p.a.error("onOtherPageStatus error",t)}},{key:"onOtherNetworkStatus",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onNetworkStatus((function(t){e(t)})):p.a.error("onOtherNetworkStatus error",t)}},{key:"sendCustomMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"customers",n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,r=Object(xe.D)(this.ccsClient);"ok"!=r&&A(r),Object(xe.z)(this.ccsClient,e,t,(function(e){n(e)}),(function(e){A(new b.a("1016",e))}))}},{key:"onCustomMessage",value:function(e){Object(xe.k)(this.ccsClient,(function(t){e(t)}))}},{key:"viewScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"customers",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;Object(xe.x)(this.ccsClient,e,(function(e){t(e)}),(function(e){n(e)}))}},{key:"releaseScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"customers",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;Object(xe.v)(this.ccsClient,e,(function(e){t(e)}),(function(e){n(e)}))}},{key:"markScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"customers",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i={x:t,y:n};Object(xe.h)(this.ccsClient,i,e,(function(e){A(e)}),(function(e){r(e)}))}},{key:"onDeviceScreenSize",value:function(e){Object(xe.l)(this.ccsClient,(function(t){e(t)}))}},{key:"sendTransferReasonMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"customers",n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendTransferReason(e,t,(function(e,t,r){"ok"===e?n():(p.a.error("sendTransferReason error",e,t,r),A(new b.a("1020",t)))})):A(r)}},{key:"onTransferReasonMessage",value:function(e){this.ccsClient.onTransferReason((function(t){e(t)}))}},{key:"onSessionDrop",value:function(e){var t=this,n={code:401,message:"socket io link for the session is disconnected by system"},A={code:402,message:"socket io link for the session is disconnected"},r={code:404,message:"ccs socketio is disconnected"},i={code:405,message:"ccs socketio is reconnect failed"};this.ccsClient.onDrop((function(A){Object(xe.u)(t.ccsClient),Ie(t.irtcClient),e(n)})),this.ccsClient.onError(function(){var n=a()(d.a.mark((function n(r){var i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r||"1101"!==r.code){n.next=12;break}return n.next=3,Object(v.m)(t.backendUrl,t.userId,t.ticket);case 3:return i=n.sent,t.ticket=i.ticket,t.accessToken=i.accessToken,n.next=8,Object(xe.d)(t.ccsClient,t.ccsUrl,t.accessToken);case 8:n.sent,Object(xe.y)(t.ccsClient,t.ccsClient.ticket),n.next=14;break;case 12:Object(xe.u)(t.ccsClient),e(A);case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),this.ccsClient.onDisconnect((function(n){Object(xe.u)(t.ccsClient),e(r)})),this.ccsClient.onReconnectFailed((function(n){Object(xe.u)(t.ccsClient),e(i)}))}},{key:"sendMessageConfirmation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"customers",n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendMessageConfirmation(e,t,(function(e,t,r){"ok"===e?n():A(new b.a("1017",t))})):A(r)}},{key:"onMessageConfirmation",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onMessageConfirmation((function(t){e(t)})):p.a.warning("onMessageConfirmation error,".concat(JSON.stringify(t)))}},{key:"sendCancelInstructionMessage",value:function(e,t,n,A){Object(xe.b)(this.ccsClient,e,t,(function(e){n(e)}),(function(e){A(e)}))}},{key:"onCancelInstruction",value:function(e){Object(xe.j)(this.ccsClient,(function(t){e(t)}))}},{key:"saveRecordScreen",value:function(e,t){var n=this;return new Promise((function(A,r){var i=Object(xe.D)(n.ccsClient);if("ok"==i){n.ccsClient.sendPeerCmd("screen-record",!1,e,t,(function(e,t){"ok"===e?A(t):(p.a.error("recordScreen,error:".concat(t,",at:").concat(new Date)),r(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else r(i)}))}},{key:"saveCancelRecordScreen",value:function(e,t){var n=this;return new Promise((function(A,r){var i=Object(xe.D)(n.ccsClient);"ok"==i?n.ccsClient.sendPeerCancel("screen-record",e,t,(function(e,t){"ok"===e?A(t):(p.a.error("cancelRecordScreen,error:".concat(t,",at:").concat(new Date)),r(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):r(i)}))}},{key:"saveScreenShare",value:function(e,t){var n=this;return new Promise((function(A,r){var i=Object(xe.D)(n.ccsClient);if("ok"==i){n.ccsClient.sendPeerCmd("screen-share",!1,e,t,(function(e,t){"ok"===e?A(t):(p.a.error("saveScreenShare,error:".concat(t,",at:").concat(new Date)),r(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else r(i)}))}},{key:"saveCancelScreenShare",value:function(e,t){var n=this;return new Promise((function(A,r){var i=Object(xe.D)(n.ccsClient);"ok"==i?n.ccsClient.sendPeerCancel("screen-share",e,t,(function(e,t){"ok"===e?A(t):(p.a.error("saveCancelScreenShare,error:".concat(t,",at:").concat(new Date)),r(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):r(i)}))}},{key:"faceRecognition",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);if("ok"==r){this.ccsClient.sendPeerCmd("face-recognition",!1,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("faceRecognition,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"faceIdcardValidate",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);if("ok"==r){this.ccsClient.sendPeerCmd("face-idcard-validate",!1,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("faceIdcardValidate,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"screenMark",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);if("ok"==r){this.ccsClient.sendPeerCmd("screen-mark",!1,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("screenMark,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"cancelScreenMark",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendPeerCancel("screen-mark",e,t,(function(e,t){"ok"===e?n(t):(p.a.error("cancelScreenMark,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"onScreenMark",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerResponse("screen-mark",(function(t){e(t)})):p.a.error("onScreenMark error",t)}},{key:"remoteControl",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);if("ok"==r){this.ccsClient.sendPeerCmd("remote-control",!1,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("remoteControl,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"cancelRemoteControl",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendPeerCancel("screen-sync",e,t,(function(e,t){"ok"===e?n(t):(p.a.error("cancelRemoteControl,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"sendGuideBox",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);if("ok"==r){this.ccsClient.sendPeerCmd("show-guide-box",!1,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("sendGuideBox,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"cancelGuideBox",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendPeerCancel("show-guide-box",e,t,(function(e,t){"ok"===e?n(t):(p.a.error("cancelGuideBox,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"onGuideBox",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerResponse("show-guide-box",(function(t){e(t)})):p.a.error("onGuideBox error",t)}},{key:"collectUserInfo",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);if("ok"==r){this.ccsClient.sendPeerCmd("collect-info",!1,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("collectUserInfo,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"sendViewResource",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);if("ok"==r){this.ccsClient.sendPeerCmd("view",!1,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("sendViewResource,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"cancelViewResource",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendPeerCancel("view",e,t,(function(e,t){"ok"===e?n(t):(p.a.error("cancelViewResource,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"onViewResource",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerResponse("view",(function(t){e(t)})):p.a.error("onViewResource error",t)}},{key:"screenshot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,r=Object(xe.D)(this.ccsClient);if("ok"==r){var i=!1;this.ccsClient.sendPeerCmd("get-screenshot",i,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("screenshot,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"cancelScreenshot",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendPeerCancel("get-screenshot",e,t,(function(e,t){"ok"===e?n(t):(p.a.error("cancelScreenshot,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"onScreenShot",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerResponse("get-screenshot",(function(t){e(t)})):p.a.error("onScreenShot error",t)}},{key:"screenCapture",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,r=Object(xe.D)(this.ccsClient);if("ok"==r){var i=!1;this.ccsClient.sendPeerCmd("get-screencapture",i,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("screenCapture,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"cancelScreencapture",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendPeerCancel("get-screencapture",e,t,(function(e,t){"ok"===e?n(t):(p.a.error("cancelScreencapture,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"onScreenCapture",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerResponse("get-screencapture",(function(t){e(t)})):p.a.error("onScreenCapture error",t)}},{key:"sendOnlineForm",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);if("ok"==r){this.ccsClient.sendPeerCmd("fill-form",!1,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("sendOnlineForm,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"cancelOnlineForm",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendPeerCancel("fill-form",e,t,(function(e,t){"ok"===e?n(t):(p.a.error("cancelOnlineForm,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"onFillForm",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerResponse("fill-form",(function(t){e(t)})):p.a.error("onFillForm error",t)}},{key:"inviteHandWriting",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,r=Object(xe.D)(this.ccsClient);if("ok"==r){var i=!1;this.ccsClient.sendPeerCmd("get-handwriting",i,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("inviteHandWriting,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"cancelHandWriting",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendPeerCancel("get-handwriting",e,t,(function(e,t){"ok"===e?n(t):(p.a.error("cancelHandWriting,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"onHandWriting",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerResponse("get-handwriting",(function(t){e(t)})):p.a.error("onHandWriting error",t)}},{key:"requestCustomerLocation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,r=Object(xe.D)(this.ccsClient);if("ok"==r){var i=!1;this.ccsClient.sendPeerCmd("get-geo-location",i,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("requestCustomerLocation,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"cancelRequestCustomerLocation",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendPeerCancel("get-geo-location",e,t,(function(e,t){"ok"===e?n(t):(p.a.error("cancelRequestCustomerLocation,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"onGeoLocation",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerResponse("get-geo-location",(function(t){e(t)})):p.a.error("onGeoLocation error",t)}},{key:"requestCustomerScanCode",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);if("ok"==r){this.ccsClient.sendPeerCmd("scan-code",!1,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("requestCustomerScanCode,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"cancelCustomerScanCode",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendPeerCancel("scan-code",e,t,(function(e,t){"ok"===e?n(t):(p.a.error("cancelCustomerScanCode,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"onScanCode",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerResponse("scan-code",(function(t){e(t)})):p.a.error("onScanCode error",t)}},{key:"sendConfirm",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);if("ok"==r){this.ccsClient.sendPeerCmd("confirm",!1,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("sendConfirm,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"sendCancelConfirm",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendPeerCancel("confirm",e,t,(function(e,t){"ok"===e?n(t):(p.a.error("sendCancelConfirm,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"onConfirm",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerResponse("confirm",(function(t){e(t)})):p.a.error("onConfirm error",t)}},{key:"makeChoice",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);if("ok"==r){this.ccsClient.sendPeerCmd("make-choice",!1,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("makeChoice,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"cancelMakeChoice",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendPeerCancel("make-choice",e,t,(function(e,t){"ok"===e?n(t):(p.a.error("cancelMakeChoice,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"onMakeChoice",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerResponse("make-choice",(function(t){e(t)})):p.a.error("onMakeChoice error",t)}},{key:"coBrowsing",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);if("ok"==r){this.ccsClient.sendPeerCmd("co-browsing",!1,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("coBrowsing,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"cancelCoBrowsing",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendPeerCancel("co-browsing",e,t,(function(e,t){"ok"===e?n(t):(p.a.error("cancelCoBrowsing,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"onCoBrowsing",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerResponse("co-browsing",(function(t){e(t)})):p.a.error("onCoBrowsing error",t)}},{key:"browsingMark",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);if("ok"==r){this.ccsClient.sendPeerCmd("browsing-mark",!1,e,t,(function(e,t){"ok"===e?n(t):(p.a.error("browsingMark,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}else A(r)}},{key:"cancelBrowsingMark",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendPeerCancel("browsing-mark",e,t,(function(e,t){"ok"===e?n(t):(p.a.error("cancelBrowsingMark,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"onBrowsingMark",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerResponse("browsing-mark",(function(t){e(t)})):p.a.error("onBrowsingMark error",t)}},{key:"getLocalStreamStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.irtcClient.getPublicationStats(this.publication,e,t,n)}},{key:"stopLocalStreamStats",value:function(e,t,n){this.irtcClient.stopPublicationStats(this.publication,e,t,n)}},{key:"switchCameraWithDevice",value:(l=a()(d.a.mark((function e(t,n,A,r){var i,o=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.mediaDevices.changeCameraWithDeviceId(t);case 3:if(i=e.sent,this.localStream){e.next=7;break}return p.a.error("switch camera with deviceId error localStream is null"),e.abrupt("return");case 7:if(i){e.next=10;break}return p.a.error("switch camera with deviceId error stream is null"),e.abrupt("return");case 10:i&&i.mediaStream&&i.mediaStream.getVideoTracks()?i.mediaStream.getVideoTracks()[0].onended=function(){r()}:i&&i.getVideoTracks()&&(i.getVideoTracks()[0].onended=function(){r()}),Re(this.localStream,i,this.publication,(function(e){o.localStream=i,p.a.info("switch camera with deviceId success"+e),n(o.localStream)}),(function(e){p.a.error("switch camera with deviceId is failed"+e),A(e)})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),p.a.error("switch camera with deviceId is failed"+e.t0),A(e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,14]])}))),function(e,t,n,A){return l.apply(this,arguments)})},{key:"switchMicWithDevice",value:(c=a()(d.a.mark((function e(t,n,A,r){var i,o=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.mediaDevices.changeMicWithDeviceId(t);case 3:if(i=e.sent,this.localStream){e.next=7;break}return p.a.error("switch mic with deviceId error localStream is null"),e.abrupt("return");case 7:if(i){e.next=10;break}return p.a.error("switch mic with deviceId error stream is null"),e.abrupt("return");case 10:i&&i.mediaStream&&i.mediaStream.getVideoTracks()?i.mediaStream.getVideoTracks()[0].onended=function(){r()}:i&&i.getVideoTracks()&&(i.getVideoTracks()[0].onended=function(){r()}),Re(this.localStream,i,this.publication,(function(e){o.localStream=i,p.a.info("switch mic with deviceId success"+e),n(o.localStream)}),(function(e){p.a.error("switch mic with deviceId is failed"+e),A(e)})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),p.a.error("switch mic with deviceId is failed"+e.t0),A(e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,14]])}))),function(e,t,n,A){return c.apply(this,arguments)})},{key:"changeConstraintsWidthStream",value:(s=a()(d.a.mark((function e(t,n,A){var r,i=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.localStream){e.next=3;break}return p.a.error("change constraints failed localStream is null"),e.abrupt("return");case 3:return e.prev=3,e.next=6,this.mediaDevices.changeConstraints(this.localStream,t);case 6:if(r=e.sent){e.next=10;break}return p.a.error("change constraints failed stream is null"),e.abrupt("return");case 10:Re(this.localStream,r,this.publication,(function(e){i.localStream=r,p.a.info("change constraints  success"+e),n(r)}),(function(e){p.a.error("change constraints  is failed"+e),A(e)}),!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),A(e.t0);case 16:case"end":return e.stop()}}),e,this,[[3,13]])}))),function(e,t,n){return s.apply(this,arguments)})},{key:"sendTextMessageWithFromClientId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"customers",A=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=Object(xe.D)(this.ccsClient);"ok"==i?this.ccsClient.sendMessageFromTo("text",e,t,n,(function(e,t,n){"ok"===e?A():r(new b.a("1014",t))})):r(i)}},{key:"switchCameraWithStream",value:(i=a()(d.a.mark((function e(t,n,A,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.localStream){e.next=4;break}return p.a.error("switch camera with stream error localStream is null"),e.abrupt("return");case 4:if(t){e.next=7;break}return p.a.error("switch camera with stream error stream is null"),e.abrupt("return");case 7:t&&t.mediaStream&&t.mediaStream.getVideoTracks()?(t.mediaStream,t.mediaStream.getVideoTracks()[0].onended=function(){r()}):t&&t.getVideoTracks()&&(t.getVideoTracks()[0].onended=function(){r()}),this.publication.updateMedia(t).then((function(e){p.a.info("switch camera with stream success",e),n("ok")})).catch((function(e){p.a.error("switch camera with stream error",e);var t=new b.a("1023",e.message||e.name||e);A(t)})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),p.a.error("switch camera with stream is failed"+e.t0),A(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(e,t,n,A){return i.apply(this,arguments)})},{key:"screenShareMarkDrawing",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.screenShareMarkDrawing(e,t,(function(e,t){"ok"===e?n(t):(p.a.error("screenShareMarkDrawing,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"stopScreenShareMarkDrawing",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.stopScreenShareMarkDrawing(e,t,(function(e,t){"ok"===e?n(t):(p.a.error("stopScreenShareMarkDrawing,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"getAudioLevel",value:function(e,t,n,A){this.irtcClient?this.irtcClient.getAudioLevel(e,t,n,A):n("600","not join Room")}},{key:"suspendGetAudioLevel",value:function(e,t,n){this.irtcClient?this.irtcClient.suspendGetAudioLevel(e,t,n):n("600","not join Room")}},{key:"resumeGetAudioLevel",value:function(e,t,n){this.irtcClient?this.irtcClient.resumeGetAudioLevel(e,t,n):n("600","not join Room")}},{key:"sendOcrRecord",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendOcrRecord(e,t,(function(e,t){"ok"===e?n(e):(p.a.error("sendOcrRecord,error:".concat(t,",at:").concat(new Date)),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):A(r)}},{key:"collectIdCard",value:function(e,t,n,A){et(this.ccsClient,"idcard-collection",!1,e,t,n,A)}},{key:"cancelIdCardCollection",value:function(e,t,n,A){tt(this.ccsClient,"idcard-collection",e,t,n,A)}},{key:"onIdCardCollectResult",value:function(e){nt(this.ccsClient,"idcard-collection",e)}},{key:"collectBankCard",value:function(e,t,n,A){et(this.ccsClient,"bankcard-collection",!1,e,t,n,A)}},{key:"cancelBankCardCollection",value:function(e,t,n,A){tt(this.ccsClient,"bankcard-collection",e,t,n,A)}},{key:"onBankCardCollectResult",value:function(e){nt(this.ccsClient,"bankcard-collection",e)}},{key:"onAiStartSpeak",value:function(e){this.ccsClient.onAiStartSpeak((function(t){e(t)}))}},{key:"onAiStartDone",value:function(e){this.ccsClient.onAiStartDone((function(t){e(t)}))}},{key:"startWhiteboard",value:(A=a()(d.a.mark((function e(t,n,A,r){var i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.irtcClient){e.next=3;break}return p.a.error("not join room"),e.abrupt("return");case 3:return e.prev=3,!this.irtcWhiteBoard&&(this.irtcWhiteBoard=new Pe(this.irtcClient)),e.next=7,this.irtcWhiteBoard.create(t,n);case 7:return i=e.sent,e.next=10,this.irtcWhiteBoard.start(i);case 10:o=e.sent,A({whiteboardId:i.id,iframe:o}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),p.a.error("startWhiteboard error,at:".concat((new Date).toISOString())),r(e.t0);case 18:case"end":return e.stop()}}),e,this,[[3,14]])}))),function(e,t,n,r){return A.apply(this,arguments)})},{key:"deleteWhiteboard",value:function(e,t,n){this.irtcClient?this.irtcWhiteBoard?this.irtcWhiteBoard.removeWithId(e,t,n):p.a.error("not startWhiteboard"):p.a.error("not join room")}},{key:"startPdfWhiteboard",value:(n=a()(d.a.mark((function e(t,n,A,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.startWhiteboard(t,n,A,r);case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,A,r){return n.apply(this,arguments)})},{key:"deletePdfWhiteboard",value:function(e,t,n){this.deleteWhiteboard(e,t,n)}},{key:"startTestimonyWrite",value:(t=a()(d.a.mark((function e(t,n,A,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.startWhiteboard(t,n,A,r);case 1:case"end":return e.stop()}}),e,this)}))),function(e,n,A,r){return t.apply(this,arguments)})},{key:"deleteTestimonyWrite",value:function(e,t,n){this.deleteWhiteboard(e,t,n)}},{key:"collectVariable",value:function(e,t,n,A){et(this.ccsClient,"collect-variable",!1,e,t,n,A)}},{key:"cancelCollectVariable",value:function(e,t,n,A){tt(this.ccsClient,"collect-variable",e,t,n,A)}},{key:"onCollectVariableResult",value:function(e){nt(this.ccsClient,"collect-variable",e)}},{key:"sendWhiteboard",value:function(e,t,n,A){et(this.ccsClient,"whiteboard",!1,e,t,n,A)}},{key:"cancelWhiteboard",value:function(e,t,n,A){tt(this.ccsClient,"whiteboard",e,t,n,A)}},{key:"onWhiteboardResult",value:function(e){nt(this.ccsClient,"whiteboard",e)}},{key:"sendPdfWhiteboard",value:function(e,t,n,A){et(this.ccsClient,"whiteboard-pdf",!1,e,t,n,A)}},{key:"cancelPdfWhiteboard",value:function(e,t,n,A){tt(this.ccsClient,"whiteboard-pdf",e,t,n,A)}},{key:"onPdfWhiteboardResult",value:function(e){nt(this.ccsClient,"whiteboard-pdf",e)}},{key:"sendTestimonyWrite",value:function(e,t,n,A){et(this.ccsClient,"testimony-write",!1,e,t,n,A)}},{key:"cancelTestimonyWrite",value:function(e,t,n,A){tt(this.ccsClient,"testimony-write",e,t,n,A)}},{key:"onTestimonyWriteResult",value:function(e){nt(this.ccsClient,"testimony-write",e)}},{key:"collectShortVideo",value:function(e,t,n,A){et(this.ccsClient,"collect-short-video",!1,e,t,n,A)}},{key:"cancelCollectShortVideo",value:function(e,t,n,A){tt(this.ccsClient,"collect-short-video",e,t,n,A)}},{key:"onCollectShortVideoResult",value:function(e){nt(this.ccsClient,"collect-short-video",e)}}]),e}(),ct=function(){function e(t){u()(this,e),this.key=t||"3b4d2ba929f223fc6109121b51e47693",this.src="https://webapi.amap.com/maps?v=1.4.15&key=".concat(this.key),this.loadScript(this.src)}return f()(e,[{key:"loadScript",value:function(e){if(this.key){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.src=e||"",t.appendChild(n),n.onload=function(){p.a.info("地图 API 加载完成",new Date)}}else p.a.info("定位未开启,key is empty",new Date)}},{key:"getGaoDeLocation",value:function(e,t,n){var A=n||1e4;try{AMap.plugin("AMap.Geolocation",(function(){var n=new AMap.Geolocation({enableHighAccuracy:!0,timeout:A,buttonOffset:new AMap.Pixel(10,20),zoomToAccuracy:!0,buttonPosition:"RB"});n.getCurrentPosition();var r={};AMap.event.addListener(n,"complete",(function(t){r.code=200,r.data=t,r.type="success",e(r)})),AMap.event.addListener(n,"error",(function(e){-1!=e.message.indexOf("time out")?(r.code=408,r.type="timeout",r.reason="获取地理位置信息超时"):-1!=e.message.indexOf("permission denied")&&(r.code=407,r.type="permissionDenied",r.reason="访问权限拒绝");var n=new b.a("80001","request location is fail".concat(JSON.stringify(r)));p.a.error(n,new Date),t(r)}))}))}catch(e){p.a.error("getGaoDeLocation error",e,new Date)}}}]),e}(),ut=n(57),lt=n.n(ut),ft=function(){function e(){u()(this,e)}return f()(e,[{key:"getScreenshots",value:function(e,t){return new Promise((function(n,A){try{var r=e||document.body;lt()(r,t).then((function(e){n(e)}))}catch(e){A(e)}}))}},{key:"getBase64ImgWidthStream",value:function(e,t,n,A){return new Promise((function(r,i){try{var o=e.mediaStream||e,s=document.getElementById(t),a=document.createElement("canvas"),c=o.getVideoTracks()[0].getSettings(),u=c.height,l=c.width;a.height=u,a.width=l,a.getContext("2d").drawImage(s,0,0,a.width,a.height),r(a.toDataURL(n,A))}catch(e){i(e)}}))}}]),e}();function ht(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var A=0,r=function(){};return{s:r,n:function(){return A>=e.length?{done:!0}:{done:!1,value:e[A++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,A=new Array(t);n<t;n++)A[n]=e[n];return A}var pt=n(105).UAParser,gt=function(){function e(){u()(this,e),this.networkTool=new je,this.snapshotModule=new ft,this.eventList=new Map,this.cameraNavigator=new $e}var t,n,A,i,s,c,l,h,g,B,y,k,E,S,Q,U,I,F,O,R;return f()(e,[{key:"isSupportWebrtc",value:function(){return Object(m.g)()}},{key:"microphoneTest",value:function(e,t){(new $e).audioTest((function(t){e(t)}),(function(e){t(e)}))}},{key:"cameraTest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,A=new $e;A.videoTest(e,(function(e){t(e)}),(function(e){n(e)}))}},{key:"startMonitorNetwork",value:function(e){return this.networkTool.start((function(t){e(t)})),this.networkTool.online}},{key:"stopMonitorNetwork",value:function(){this.networkTool.stop()}},{key:"init",value:(R=a()(d.a.mark((function e(t,n,A,r){var i,o,s,c,u,l,f,h,g,w,B,y,k=this,E=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=E.length>4&&void 0!==E[4]?E[4]:C.a,o=E.length>5?E[5]:void 0,s=E.length>6?E[6]:void 0,c=E.length>7?E[7]:void 0,void 0!==t&&""!==t){e.next=9;break}return p.a.warning("backendUrl is empty"),u=new b.a(C.b.ERROR_PARAMETER,"backendUrl is empty"),s(u),e.abrupt("return");case 9:if(void 0!==n&&""!==n){e.next=14;break}return p.a.warning("name is empty"),l=new b.a(C.b.ERROR_PARAMETER,"name is empty"),s(l),e.abrupt("return");case 14:if(void 0!==A&&""!==A){e.next=19;break}return p.a.warning("password is empty"),f=new b.a(C.b.ERROR_PARAMETER,"password is empty"),s(f),e.abrupt("return");case 19:if(void 0!==r&&""!==r){e.next=24;break}return p.a.warning("organization is empty"),h=new b.a(C.b.ERROR_PARAMETER,"organization is empty"),s(h),e.abrupt("return");case 24:if("ok"==Object(C.c)(i)){e.next=27;break}return s(Object(C.c)(i)),e.abrupt("return");case 27:return this.mediaOptions=Object(m.a)(i),this.islogs=Object(m.a)(c),e.prev=29,this.backendUrl=Object(m.a)(t),e.next=33,Object(v.h)(t,n,A,r);case 33:g=e.sent,this.accessToken=g.data&&g.data.data&&g.data.data.accessToken?g.data.data.accessToken:"",w=g.data&&g.data.data&&g.data.data.tokenData?g.data.data.tokenData:null,this.userId=w.data.id,this.ticket=g.data&&g.data.data&&g.data.data.ticket?g.data.data.ticket:"",this.mapLocation=new ct,this.associatedUrls=g.data&&g.data.data&&g.data.data.urls?g.data.data.urls:"",this.ccsUrl=t||g.data.data.urls.ccsurl,B=w.exp-w.iat-1>0?1e3*(w.exp-w.iat-1):1e3,y=Math.pow(2,31)-1,B>y&&(B=y),this.refreshTokenInterval=setInterval(a()(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.m)(t,k.userId,k.ticket);case 3:n=e.sent,k.ticket=n.ticket,k.accessToken=n.accessToken,k.ccsClient.accessToken=n.accessToken,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),clearInterval(k.refreshTokenInterval),s(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),B),o(g.data.data),e.next=52;break;case 48:e.prev=48,e.t0=e.catch(29),p.a.error("init catch error:".concat(e.t0,",time:").concat((new Date).toISOString())),s(e.t0);case 52:case"end":return e.stop()}}),e,this,[[29,48]])}))),function(e,t,n,A){return R.apply(this,arguments)})},{key:"visitorInit",value:(O=a()(d.a.mark((function e(t,n,A,r,i){var o,s,c,u,l,f,h,g,w,B,y,k=this,E=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=E.length>5&&void 0!==E[5]?E[5]:C.a,s=E.length>6?E[6]:void 0,c=E.length>7?E[7]:void 0,u=E.length>8?E[8]:void 0,!Object(m.d)(t)){e.next=9;break}return p.a.warning("backendUrl is empty"),l=new b.a(C.b.ERROR_PARAMETER,"backendUrl is empty"),c(l),e.abrupt("return");case 9:if(!Object(m.d)(A)){e.next=14;break}return p.a.warning("accessToken is empty"),f=new b.a(C.b.ERROR_PARAMETER,"accessToken is empty"),c(f),e.abrupt("return");case 14:if(!Object(m.d)(i)){e.next=19;break}return p.a.warning("ticket is empty"),h=new b.a(C.b.ERROR_PARAMETER,"ticket is empty"),c(h),e.abrupt("return");case 19:if(!Object(m.f)(n)){e.next=24;break}return p.a.warning("associatedUrls is error"),g=new b.a(C.b.ERROR_PARAMETER,"associatedUrls is error"),c(g),e.abrupt("return");case 24:if("ok"==Object(C.c)(o)){e.next=27;break}return c(Object(C.c)(o)),e.abrupt("return");case 27:if(this.mediaOptions=Object(m.a)(o),this.accessToken=Object(m.a)(A),this.islogs=Object(m.a)(u),r){e.next=35;break}return p.a.warning("accessToken is Invalid Signature"),w=new b.a(C.b.ERROR_PARAMETER,"accessToken is Invalid Signature"),c(w),e.abrupt("return");case 35:try{this.backendUrl=Object(m.a)(t),this.userId=r.data.id,this.ticket=Object(m.a)(i),this.mapLocation=new ct,this.associatedUrls=Object(m.a)(n),this.ccsUrl=t||this.associatedUrls.ccsurl,B=r.exp-r.iat-1>0?1e3*(r.exp-r.iat-1):1e3,y=Math.pow(2,31)-1,B>y&&(B=y),this.refreshTokenInterval=setInterval(a()(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.m)(t,k.userId,k.ticket);case 3:n=e.sent,k.ticket=n.ticket,k.accessToken=n.accessToken,k.ccsClient.accessToken=n.accessToken,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),clearInterval(k.refreshTokenInterval),c(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),B),s("ok")}catch(e){p.a.error("visitorInit catch error:".concat(e,",time:").concat((new Date).toISOString())),c(e)}case 36:case"end":return e.stop()}}),e,this)}))),function(e,t,n,A,r){return O.apply(this,arguments)})},{key:"unRegisteredInit",value:(F=a()(d.a.mark((function e(t){var n,A,r,i,o,s,c,u,l,f,h,g=this,w=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=w.length>1&&void 0!==w[1]?w[1]:void 0,A=w.length>2&&void 0!==w[2]?w[2]:C.a,r=w.length>3?w[3]:void 0,i=w.length>4?w[4]:void 0,o=w.length>5?w[5]:void 0,s=w.length>6&&void 0!==w[6]?w[6]:"",!Object(m.d)(t)){e.next=11;break}return p.a.warning("backendUrl is empty"),c=new b.a(C.b.ERROR_PARAMETER,"backendUrl is empty"),i(c),e.abrupt("return");case 11:if("ok"==Object(C.c)(A)){e.next=14;break}return i(Object(C.c)(A)),e.abrupt("return");case 14:return this.mediaOptions=Object(m.a)(A),this.islogs=Object(m.a)(o),e.prev=16,this.backendUrl=Object(m.a)(t),e.next=20,Object(v.i)(t,n,s);case 20:u=e.sent,this.accessToken=u.data&&u.data.data&&u.data.data.token?u.data.data.token:"",l=u.data&&u.data.data&&u.data.data.tokenData?u.data.data.tokenData:null,this.userId=l.data.id,this.ticket=u.data&&u.data.data&&u.data.data.ticket?u.data.data.ticket:"",this.mapLocation=new ct,this.associatedUrls=u.data&&u.data.data&&u.data.data.urls?u.data.data.urls:"",this.ccsUrl=t||u.data.data.urls.ccsurl,f=l.exp-l.iat-1>0?1e3*(l.exp-l.iat-1):1e3,h=Math.pow(2,31)-1,f>h&&(f=h),this.refreshTokenInterval=setInterval(a()(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.m)(t,g.userId,g.ticket);case 3:n=e.sent,g.ticket=n.ticket,g.accessToken=n.accessToken,g.ccsClient.accessToken=n.accessToken,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),clearInterval(g.refreshTokenInterval),i(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),f),r(u.data.data),e.next=39;break;case 35:e.prev=35,e.t0=e.catch(16),p.a.error("unRegisteredInit catch error:".concat(e.t0,",time:").concat((new Date).toISOString())),i(e.t0);case 39:case"end":return e.stop()}}),e,this,[[16,35]])}))),function(e){return F.apply(this,arguments)})},{key:"requestSession",value:(I=a()(d.a.mark((function e(t,n,A){var r,i,s,a,c,u,l,f=this,h=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h.length>3&&void 0!==h[3]?h[3]:10,!Object(m.d)(this.ccsUrl)){e.next=5;break}return i=new b.a(C.b.ERROR_CCS_UNDEFINED,"please init"),A(i),e.abrupt("return");case 5:if(!Object(m.f)(t)){e.next=9;break}return s=new b.a(C.b.ERROR_PARAMETER,"requestParameter is invalid"),A(s),e.abrupt("return");case 9:return e.prev=9,this.ccsClient=new xe.a,this.requestProgressLogs=[],p.a.info("request-progress-start-connect-ccs:".concat((new Date).toISOString())),this.requestProgressLogs.push("request-progress-start-connect-ccs:".concat((new Date).toISOString())),e.next=16,Object(xe.d)(this.ccsClient,this.ccsUrl,this.accessToken,(function(e){A(e)}),r);case 16:if(e.sent,p.a.info("request-progress-connect-ccs-success:".concat((new Date).toISOString())),this.requestProgressLogs.push("request-progress-connect-ccs-success:".concat((new Date).toISOString())),a=Object(xe.c)((function(e){p.a.error("ccs error event",e),Object(w.c)(w.f,w.e.ccsSocketIoError,e)})),"ok"==(c=Object(xe.D)(this.ccsClient))){e.next=24;break}return A(c),e.abrupt("return");case 24:t.userData&&(u=new pt,l=u.getResult(),t.userData.ua=l,t.userData.customerRole?this.customerRole=t.userData.customerRole:this.customerRole="",t.userData.userName?this.customerName=t.userData.userName:this.customerName=""),p.a.info("request-progress-start-request-session:".concat((new Date).toISOString())),this.requestProgressLogs.push("request-progress-start-request-session:".concat((new Date).toISOString())),this.ccsClient.requestSession(t,(function(e,t){if("ok"===e){f.roomId=t.roomId,f.roomToken=t.roomToken,f.sessionId=t.sessionId,f.ccsClient.ticket=t.ticket;var r=t.refersh_ticket_time;Object(xe.t)(f.ccsClient,r),f.ccsClient.members=t.members,Object(xe.B)(f.ccsClient,(function(e){p.a.info("customer:".concat(JSON.stringify(e)," quit session,at:").concat((new Date).toISOString())),Object(m.i)(f.ccsClient.members,e.id)}),(function(e){f.roomId=e.roomId?e.roomId:f.roomId,f.roomToken=e.roomToken?e.roomToken:f.roomToken,p.a.info("agent:".concat(JSON.stringify(e)," join session with roomId:").concat(f.roomId,",roomToken:").concat(f.roomToken,",at:").concat((new Date).toISOString())),f.ccsClient.members=[].concat(o()(f.ccsClient.members),[e])}),(function(e){f.ccsClient.members=[].concat(o()(f.ccsClient.members),[e])})),p.a.info("request-progress-request-session-success:".concat((new Date).toISOString(),",result:").concat(e,",").concat(t)),f.requestProgressLogs.push("request-progress-request-session-success:".concat((new Date).toISOString())),n(t)}else p.a.info("request-progress-request-session-error:".concat((new Date).toISOString(),",result:").concat(e,",").concat(t)),f.islogs&&f.islogs.isOpen&&Object(m.b)("request-session-error"+t,f.islogs,f.sessionId),A("codeExpired"===e?new b.a("501",t):"scenariodisabled"===e?new b.a("502",t):"bizIdInvalid"===e?new b.a("503",t):"agentIdInvalidInBiz"===e?new b.a("504",t):"callCodeUsed"===e?new b.a("505",t):"codeNotStarted"===e?new b.a("506",t):"callCodeNotExists"===e?new b.a("507",t):"audioVideoRecordingCompleted"===e?new b.a("601",t):"audioVideoRecordingWaited"===e?new b.a("602",t):"audioVideoRecordingInProgress"===e?new b.a("603",t):new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)),Object(xe.w)(a)})),e.next=35;break;case 30:e.prev=30,e.t0=e.catch(9),p.a.error("request session error",e.t0,"at:",(new Date).toISOString()),A(new b.a(C.b.ERROR_SDK_CATCH,e.t0.name||e.t0.message||e.t0)),this.islogs&&this.islogs.isOpen&&Object(m.b)(e.t0,this.islogs,this.sessionId?this.sessionId:(new Date).toISOString());case 35:case"end":return e.stop()}}),e,this,[[9,30]])}))),function(e,t,n){return I.apply(this,arguments)})},{key:"requestMediaSwitch",value:function(e,t,n){var A=this,r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.requestMediaSwitch(e,(function(e,r){"ok"==e?(A.roomToken=r.roomToken,A.roomId=r.roomId,t(r)):n(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,r))})):n(r)}},{key:"onMediaSwitch",value:function(e){var t=this;"ok"==Object(xe.D)(this.ccsClient)&&this.ccsClient.onMediaSwitch((function(n){t.roomId=n.data&&n.data.roomId?n.data.roomId:"",t.roomToken=n.data&&n.data.roomToken?n.data.roomToken:"",e(n)}))}},{key:"onInvitationProgress",value:function(e){var t=this;Object(xe.n)(this.ccsClient,(function(n){p.a.info("request-progress-on-invitationProgress:".concat((new Date).toISOString())),t.requestProgressLogs.push("request-progress-on-invitationProgress:".concat((new Date).toISOString(),",").concat(JSON.stringify(n))),e(n)}))}},{key:"joinSession",value:(U=a()(d.a.mark((function e(t,n,A){var r,i,s,a,c,u=this,l=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>3&&void 0!==l[3]?l[3]:10,e.prev=1,this.ccsClient=new xe.a,this.requestProgressLogs=[],e.next=6,Object(xe.d)(this.ccsClient,this.ccsUrl,this.accessToken,(function(e){A(e)}),r);case 6:if(e.sent,i=Object(xe.c)((function(e){p.a.error("ccs error event",e),Object(w.c)(w.f,w.e.ccsSocketIoError,e)})),"ok"==(s=Object(xe.D)(this.ccsClient))){e.next=12;break}return A(s),e.abrupt("return");case 12:t.userData&&(a=new pt,c=a.getResult(),t.userData.ua=c,t.userData.customerRole?this.customerRole=t.userData.customerRole:this.customerRole="",t.userData.userName?this.customerName=t.userData.userName:this.customerName=""),this.ccsClient.joinSession(t,(function(e,t){if(p.a.info("join session result,",e,t),u.requestProgressLogs=[],"ok"===e){u.ccsClient.ticket=t.ticket;var r=t.refersh_ticket_time;u.roomId=t.roomId,u.roomToken=t.roomToken,u.customerRole=t.customerRole,u.inviteBizScenId=t.bizScenId,u.inviteOrg=t.org,u.inviteSession=t.sessionId,u.ccsClient.members=t.members,Object(xe.B)(u.ccsClient,(function(e){p.a.info("customer:".concat(JSON.stringify(e)," quit session,at:").concat((new Date).toISOString())),Object(m.i)(u.ccsClient.members,e.id)}),(function(e){u.roomId=e.roomId?e.roomId:u.roomId,u.roomToken=e.roomToken?e.roomToken:u.roomToken,p.a.info("agent:".concat(JSON.stringify(e)," join session with roomId:").concat(u.roomId,",roomToken:").concat(u.roomToken,",at:").concat((new Date).toISOString())),u.ccsClient.members=[].concat(o()(u.ccsClient.members),[e])}),(function(e){u.ccsClient.members=[].concat(o()(u.ccsClient.members),[e])})),Object(xe.t)(u.ccsClient,r),n(t)}else A("inviteCodeNotExists"===e?new b.a("501",t):"inviteCodeUsed"===e?new b.a("502",t):"inviteCodeNotStarted"===e?new b.a("503",t):"inviteCodeExpired"===e?new b.a("504",t):"invalidSession"===e?new b.a("505",t):"sessionClosed"===e?new b.a("506",t):"virtualAgentExists"===e?new b.a("507",t):"Non-exist session"===t?new b.a(C.b.ERROR_CCS_NOT_EXIST_SESSION,t):new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)),Object(xe.w)(i)})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),p.a.error("join session error",e.t0,"at:",new Date),A(e.t0);case 20:case"end":return e.stop()}}),e,this,[[1,16]])}))),function(e,t,n){return U.apply(this,arguments)})},{key:"quitSession",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,A=arguments.length>2?arguments[2]:void 0;this.irtcWhiteBoard=null,this.islogs&&this.islogs.isOpen&&Object(m.b)(this.requestProgressLogs,this.islogs,this.sessionId),this.irtcClient&&Ie(this.irtcClient);var r=[];this.ccsClient&&this.ccsClient.accessToken&&r.push(Object(xe.q)(t,this.ccsClient)),this.irtcClient&&(r.push(ge(this.irtcClient)),this.irtcClient.subscriptionList&&this.irtcClient.subscriptionList.forEach((function(t,n){var A=n,r=t.getStatsIntervalId;e.stopRemoteStreamStats(A,r,(function(){}),(function(){}))})),this.irtcClient.subscriptionList=null),this.localStream&&Oe(this.localStream),this.eventList&&this.eventList.forEach((function(t,n){e.removeEventListener(n,t)})),Promise.allSettled(r).then((function(t){p.a.info("quit session success",t),Object(xe.u)(e.ccsClient),n(t)})).catch((function(t){p.a.info("quit session error",t),Object(xe.u)(e.ccsClient),e.islogs&&e.islogs.isOpen&&Object(m.b)("quit session all task catch error ",e.islogs,e.sessionId),e.islogs&&e.islogs.isOpen&&Object(m.b)(t,e.islogs,e.sessionId),A(t)})),this.streamAddListener&&Object(w.d)(j,this.streamAddListener),this.streamAsrListener&&Object(w.d)(Y,this.streamAsrListener),this.clearSessionData()}},{key:"readyToTalk",value:function(e,t,n,A,r){var i=this,o=Object(xe.D)(this.ccsClient);"ok"==o?this.ccsClient.readyToTalk(e,t,n,(function(o,s){p.a.info("ready to talk ".concat(n,",success,',").concat(s,",").concat((new Date).toISOString())),"ok"===o?A(s):(i.islogs&&i.islogs.isOpen&&Object(m.b)("ready-to-talk,participantId:".concat(e,",user:").concat(t,",toWho:").concat(n," error:").concat(s),i.islogs,i.sessionId),r(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,s)))})):r(o)}},{key:"noticeCustomerJoinRoom",value:function(e,t,n,A){var r=this,i=Object(xe.D)(this.ccsClient);"ok"==i?Object(m.d)(this.participantId)?A(new b.a("5014","not start video")):this.ccsClient.customerJoinRoom(this.participantId,e,t,(function(i,o,s){if("ok"===i)p.a.info("noticeCustomerJoinRoom success: user: ".concat(JSON.stringify(e),",to ").concat(t,",time:,").concat((new Date).toISOString())),n("ok");else{p.a.info("notice customer join room error participantId:".concat(r.participantId,",to ").concat(t," failed,reason:").concat(o,",msgId ").concat(s,",time:").concat((new Date).toISOString()));var a=new b.a("5013",o);r.islogs&&r.islogs.isOpen&&Object(m.b)("notice customer-join-room participantId:".concat(r.participantId,",to ").concat(t," error:").concat(o),r.islogs,r.sessionId),A(a)}})):A(i)}},{key:"switchCamera",value:function(e,t,n){var A=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0;this.stopLocalStream(),this.cameraNavigator.switchCameraGetDeviceId((function(o){var s=o,a=A.mediaOptions.cameraStreamAudioConstraints,c=A.mediaOptions.cameraStreamVideoConstraints;A.cameraNavigator.createStream(A.irtcClient,null,s,a,c,(function(o){if(A.publication.updateMedia(o).then((function(t){p.a.info("switchCamera success",t,(new Date).toISOString()),e(o)})).catch((function(e){p.a.error("switchCamera error",e,(new Date).toISOString());var n=new b.a("1023",e.message||e.name||e);t(n)})),r&&i){var s=r.split(",");s&&s.forEach((function(e){de(o,e,!0,i,n).then().catch((function(e){t(e)}))}))}o&&o.mediaStream&&o.mediaStream.getVideoTracks()?o.mediaStream.getVideoTracks()[0].onended=function(){n()}:o&&o.getVideoTracks()&&(o.getVideoTracks()[0].onended=function(){n()})}),(function(e){A.islogs&&A.islogs.isOpen&&Object(m.b)("switchcamera error:",A.islogs,A.sessionId),A.islogs&&A.islogs.isOpen&&Object(m.b)(e,A.islogs,A.sessionId),t(e)}))}),t)}},{key:"requestMaplocation",value:function(e,t,n){this.mapLocation?this.mapLocation.getGaoDeLocation(e,t,n):t(new b.a("80000","map init failed"))}},{key:"onReadyToTalk",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onReadyToTalk((function(t){e(t)})):p.a.warning("onReadyToTalk error,".concat(JSON.stringify(t)))}},{key:"onDrop",value:function(e){var t=this,n={code:401,message:"connect forced termination drop"},A={code:402,message:"socket io connect error"},r=Object(xe.D)(this.ccsClient);"ok"==r?(this.ccsClient.onDrop((function(A){Object(xe.u)(t.ccsClient),p.a.warning("ccs connect forced termination drop",A,(new Date).toISOString()),t.islogs&&t.islogs.isOpen&&Object(m.b)("onDrop:".concat(A,",message:").concat(drop),t.islogs,t.sessionId),e(n)})),this.ccsClient.onError(function(){var n=a()(d.a.mark((function n(r){var i,o;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r||"1101"!==r.code){n.next=13;break}return i=t.associatedUrls.backendurl,n.next=4,Object(v.m)(i,t.userId,t.ticket);case 4:return o=n.sent,t.ticket=o.ticket,t.accessToken=o.accessToken,n.next=9,Object(xe.d)(t.ccsClient,t.ccsUrl,t.accessToken);case 9:n.sent,Object(xe.y)(t.ccsClient,t.ccsClient.ticket),n.next=16;break;case 13:Object(xe.u)(t.ccsClient),t.islogs&&t.islogs.isOpen&&Object(m.b)("onDrop onError:".concat(r,",message:").concat(error),t.islogs,t.sessionId),e(A);case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())):p.a.warning("onDrop error,".concat(JSON.stringify(r)))}},{key:"startVideo",value:(Q=a()(d.a.mark((function e(t){var n,A,r,i,o,s,a,c,u,l,f,h,g,B=this,y=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y.length>1&&void 0!==y[1]?y[1]:"video",A=y.length>2?y[2]:void 0,r=y.length>3?y[3]:void 0,e.prev=3,i=this.associatedUrls.turnserverUrl,o=this.associatedUrls.turnserverCredential,s=this.associatedUrls.turnserverUsername,this.irtcClient=new $(i,o,s),p.a.info("request-progress-start-join-room:".concat((new Date).toISOString())),this.requestProgressLogs.push("request-progress-start-join-room:".concat((new Date).toISOString())),e.next=12,ne(this.irtcClient,this.roomId,this.roomToken);case 12:return a=e.sent,this.participantId=a.self.id,!this.irtcWhiteBoard&&(this.irtcWhiteBoard=new Pe(this.irtcClient)),this.streamAddListener=Object(w.a)(j,(function(e){p.a.info("new stream add with info:",e," at:",(new Date).toISOString()),e&&e.data&&(p.a.info("new stream add with stream:",e.data," at:",(new Date).toISOString()),Object(v.o)(B.backendUrl,a.id,e.data.id,B.accessToken,B.participantId,"baidu"))})),this.streamAsrListener=Object(w.a)(Y,(function(e){p.a.info("new stream asr event:",e," at:",(new Date).toISOString()),e&&e.data&&(p.a.info("new stream asr event:",e.data," at:",(new Date).toISOString()),B.sendTextMessageWithFromClientId(e.data.content,e.data.clientId,"all",(function(e){p.a.info("send asr text message success",e)}),(function(e){p.a.info("send asr text message error",e)})))})),c={audioConstraints:this.mediaOptions.cameraStreamAudioConstraints,videoConstraints:this.mediaOptions.cameraStreamVideoConstraints,publishOptions:this.mediaOptions.cameraPublishOptions},this.clientVideoLabel=Object(m.a)(t),this.callMediaType=Object(m.a)(n),p.a.info("request-progress-start-create-stream:".concat((new Date).toISOString())),this.requestProgressLogs.push("request-progress-start-create-stream:".concat((new Date).toISOString())),u=!0,l="video"===this.callMediaType,f={participantId:this.participantId?this.participantId:"",clientId:this.ccsClient&&this.ccsClient.clientId?this.ccsClient.clientId:""},h={clientId:this.ccsClient&&this.ccsClient.clientId?this.ccsClient.clientId:"",customerRole:this.customerRole,userName:this.customerName},e.next=28,re(this.irtcClient,c,t,u,l,f,h);case 28:return this.localStream=e.sent,p.a.info("request-progress-start-publish-stream:".concat((new Date).toISOString())),this.requestProgressLogs.push("request-progress-start-publish-stream:".concat((new Date).toISOString())),e.next=33,ae(this.irtcClient,this.localStream,c.publishOptions);case 33:return g=e.sent,this.ccsClient&&this.ccsClient.noticeStreamId({streamId:g.id}),this.publicationStatIntervals=[],this.getPublicationStats(g),this.irtcClient&&(this.irtcClient.subscriptionList=new Map),p.a.info("request-progress-start-add-to-mix:".concat((new Date).toISOString())),this.requestProgressLogs.push("request-progress-start-add-to-mix:".concat((new Date).toISOString())),e.next=42,Object(v.c)(this.backendUrl,this.roomId,g.id,this.accessToken);case 42:this.localPublicationId=g.id,this.publication=g,this.subscriptionStatIntervals=[],A({publicationId:g.id,roomInfo:a,localStream:this.localStream}),Ue(this.irtcClient,g),e.next=55;break;case 49:e.prev=49,e.t0=e.catch(3),this.localStream&&Oe(this.localStream),r(e.t0),this.islogs&&this.islogs.isOpen&&Object(m.b)("startVideo error videoID:".concat(t," "),this.islogs,this.sessionId),this.islogs&&this.islogs.isOpen&&Object(m.b)(e.t0,this.islogs,this.sessionId);case 55:case"end":return e.stop()}}),e,this,[[3,49]])}))),function(e){return Q.apply(this,arguments)})},{key:"getPublicationStats",value:function(e){var t=this;if(this.islogs&&this.islogs.isOpen){var n=setInterval((function(){e.getStats().then((function(e){var n,A=ht(e);try{for(A.s();!(n=A.n()).done;){var i=r()(n.value,2),o=i[0],s=i[1],a="publication-getstats key=".concat(o,",").concat(JSON.stringify(s));t.islogs&&t.islogs.isOpen&&t.islogs.isOpenStats&&Object(m.b)(a,t.islogs,t.sessionId)}}catch(e){A.e(e)}finally{A.f()}}),(function(t){p.a.info("".concat(e.id," getStats failed: "),t),clearInterval(n)}))}),2e3);this.publicationStatIntervals.push(n)}}},{key:"getSubscriptionStats",value:function(e,t,n){var A=this;if(this.islogs&&this.islogs.isOpen){var i=setInterval((function(){e.getStats().then((function(e){var i,o=ht(e);try{for(o.s();!(i=o.n()).done;){var s=r()(i.value,2),a=s[0],c=s[1],u="subscription-getstats-streamlabel-".concat(t,",videoId=").concat(n,",key=").concat(a,",").concat(JSON.stringify(c));A.islogs&&A.islogs.isOpen&&A.islogs.isOpenStats&&Object(m.b)(u,A.islogs,A.sessionId)}}catch(e){o.e(e)}finally{o.f()}}),(function(t){p.a.info("".concat(e.id," getStats failed: "),t),clearInterval(i)}))}),2e3);this.subscriptionStatIntervals.push(i)}}},{key:"clearSessionData",value:function(){for(var e=0;e<this.subscriptionStatIntervals&&this.subscriptionStatIntervals.length;e++)clearInterval(this.subscriptionStatIntervals[e]);this.subscriptionStatIntervals=[];for(var t=0;t<this.publicationStatIntervals&&this.publicationStatIntervals.length;t++)clearInterval(this.publicationStatIntervals[t]);this.publicationStatIntervals=[],this.irtcClient=null,clearInterval(this.refreshTokenInterval)}},{key:"restoreVideo",value:(S=a()(d.a.mark((function e(t,n){var A,r,i,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Oe(this.localStream),A={audioConstraints:this.mediaOptions.cameraStreamAudioConstraints,videoConstraints:this.mediaOptions.cameraStreamVideoConstraints,publishOptions:this.mediaOptions.cameraPublishOptions},r="video"===this.callMediaType,i={participantId:this.participantId?this.participantId:"",clientId:this.ccsClient&&this.ccsClient.clientId?this.ccsClient.clientId:""},o={clientId:this.ccsClient&&this.ccsClient.clientId?this.ccsClient.clientId:"",customerRole:this.customerRole,userName:this.customerName},e.next=9,re(this.irtcClient,A,this.clientVideoLabel,!0,r,i,o);case 9:return this.localStream=e.sent,e.next=12,ae(this.irtcClient,this.localStream,A.publishOptions);case 12:return this.publication=e.sent,this.ccsClient&&this.ccsClient.noticeStreamId({streamId:this.publication.id}),this.getPublicationStats(this.publication),this.localPublicationId=this.publication.id,e.next=18,Object(v.c)(this.backendUrl,this.roomId,this.publication.id,this.accessToken);case 18:e.sent,t({publicationId:this.publication.id,localStream:this.localStream}),e.next=28;break;case 22:e.prev=22,e.t0=e.catch(0),p.a.error("restore video error",e.t0),s=new b.a(e.t0.code||"1023",e.t0.name||e.t0.message||e.t0),this.islogs&&this.islogs.isOpen&&Object(m.b)("restore video error:"+e.t0.name||!1,this.islogs,this.sessionId),n(s);case 28:case"end":return e.stop()}}),e,this,[[0,22]])}))),function(e,t){return S.apply(this,arguments)})},{key:"voiceToVideo",value:(E=a()(d.a.mark((function e(t,n,A){var r,i,o,s,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.publication){e.next=5;break}return p.a.warning("no audio or video calls"),r=new b.a("1022","No audio or video calls"),n(r),e.abrupt("return");case 5:return i={audio:this.mediaOptions.cameraStreamAudioConstraints,video:this.mediaOptions.cameraStreamVideoConstraints},e.prev=6,e.next=9,this.irtcClient.createAudioMediaStream(i,{},!1);case 9:o=e.sent,this.publication.updateMedia(o).then((function(e){if(p.a.info("voice to video success",e,(new Date).toISOString()),A){var n=A.split(",");n&&n.forEach((function(e){de(o,e,!0,(function(){}),(function(){})).then().catch((function(t){p.a.info("voice to video renderStreamWithVideoLabel label,".concat(e," error:").concat(t,"',").concat((new Date).toISOString()))}))}))}t(o)})).catch((function(e){p.a.error("voice to video error",e,(new Date).toISOString());var t=new b.a("1023",e.message||e.name||e);a.islogs&&a.islogs.isOpen&&Object(m.b)("voice to video updateMedia error ",a.islogs,a.sessionId),a.islogs&&a.islogs.isOpen&&Object(m.b)(e,a.islogs,a.sessionId),n(t)})),e.next=20;break;case 13:e.prev=13,e.t0=e.catch(6),p.a.error("voice to video catch error",e.t0,(new Date).toISOString()),s=new b.a(e.t0.code||"1023",e.t0.message||e.t0.name||e.t0),this.islogs&&this.islogs.isOpen&&Object(m.b)("voice to video catch error ",this.islogs,this.sessionId),this.islogs&&this.islogs.isOpen&&Object(m.b)(e.t0,this.islogs,this.sessionId),n(s);case 20:case"end":return e.stop()}}),e,this,[[6,13]])}))),function(e,t,n){return E.apply(this,arguments)})},{key:"videoToVoice",value:(k=a()(d.a.mark((function e(t,n,A){var r,i,o,s,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.publication){e.next=5;break}return p.a.warning("no audio or video calls"),r=new b.a("1022","No audio or video calls"),n(r),e.abrupt("return");case 5:return i={audio:this.mediaOptions.cameraStreamAudioConstraints,video:!1},e.prev=6,e.next=9,this.irtcClient.createVideoMediaStream(i,{},!1);case 9:o=e.sent,this.publication.updateMedia(o).then((function(e){if(p.a.info("video to voice success",e,(new Date).toISOString()),A){var n=A.split(",");n&&n.forEach((function(e){de(o,e,!0,(function(){}),(function(){})).then().catch((function(t){p.a.info("video to voice renderStreamWithVideoLabel label,".concat(e," error:").concat(t,"',").concat((new Date).toISOString()))}))}))}t(o)})).catch((function(e){p.a.error("video to voice error",e,(new Date).toISOString());var t=new b.a("1023",e.message||e.name||e);a.islogs&&a.islogs.isOpen&&Object(m.b)("video to voice updateMedia error ",a.islogs,a.sessionId),a.islogs&&a.islogs.isOpen&&Object(m.b)(e,a.islogs,a.sessionId),n(t)})),e.next=20;break;case 13:e.prev=13,e.t0=e.catch(6),p.a.error("video to voice catch error",e.t0,(new Date).toISOString()),s=new b.a(e.t0.code||"1023",e.t0.message||e.t0.name||e.t0),this.islogs&&this.islogs.isOpen&&Object(m.b)("video to voice catch error ",this.islogs,this.sessionId),this.islogs&&this.islogs.isOpen&&Object(m.b)(e.t0,this.islogs,this.sessionId),n(s);case 20:case"end":return e.stop()}}),e,this,[[6,13]])}))),function(e,t,n){return k.apply(this,arguments)})},{key:"renderStream",value:(y=a()(d.a.mark((function e(t,n,A,r,i,o){var s=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.a.info("start-render-stream:,streamLabel:".concat(t,",videoId:").concat(n,",at:").concat((new Date).toISOString())),this.requestProgressLogs.push("start-render-stream:,streamLabel:".concat(t,",videoId:").concat(n,",at:").concat((new Date).toISOString())),Se(this.irtcClient,t,n,(function(e,r){r&&(s.getSubscriptionStats(r,t,n),s.irtcClient.subscriptionList.set(t,r)),p.a.info("success-render-stream:,streamLabel:".concat(t,",videoId:").concat(n,",at:").concat((new Date).toISOString())),s.requestProgressLogs.push("success-render-stream:,streamLabel:".concat(t,",videoId:").concat(n,",at:").concat((new Date).toISOString())),A(e)}),(function(e){p.a.info("failed-render-stream:,streamLabel:".concat(t,",videoId:").concat(n,",at:").concat((new Date).toISOString())),s.requestProgressLogs.push("failed-render-stream:,streamLabel:".concat(t,",videoId:").concat(n,",at:").concat((new Date).toISOString())),r(e)}),(function(e){p.a.info("autoplay-error-render-stream:,streamLabel:".concat(t,",videoId:").concat(n,",at:").concat((new Date).toISOString())),s.requestProgressLogs.push("autoplay-error-render-stream:,streamLabel:".concat(t,",videoId:").concat(n,",at:").concat((new Date).toISOString())),i(e)}),(function(e){p.a.info("onended-render-stream:,streamLabel:".concat(t,",videoId:").concat(e,",at:").concat((new Date).toISOString())),s.requestProgressLogs.push("onended-render-stream:,streamLabel:".concat(t,",videoId:").concat(e,",at:").concat((new Date).toISOString())),o(e)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,n,A,r,i){return y.apply(this,arguments)})},{key:"stopRenderStream",value:function(e,t,n){if(this.irtcClient){for(var A=this.irtcClient.subscriptionArr?this.irtcClient.subscriptionArr:[],r=0;r<A.length;r++){var i=A[r];if(e===i.id)return i.stop(),void t("ok")}n(new b.a("1024","subscriptionId, ".concat(e," is invalid")))}else n(new b.a("1024","irtcClient is invalid"))}},{key:"onTTSStreamSpeaking",value:function(e){this.addEventListener(X,(function(t){var n=t.data;e(n)}))}},{key:"onTTSStreamSpeakDone",value:function(e){this.addEventListener(Z,(function(t){var n=t.data;e(n)}))}},{key:"stopRenderStreamWithLabel",value:function(e,t,n){if(this.irtcClient)if(this.irtcClient.subscriptionList){var A=this.irtcClient.subscriptionList.get(e);A?(A.stop(),t("ok")):n(new b.a("1026","streamLabel,".concat(e," is invalid,not subscribe with streamLabel:").concat(e)))}else n(new b.a("1025","subscriptionList is empty"));else n(new b.a("1024","irtcClient is invalid"))}},{key:"sendTextMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"agents",n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,r=Object(xe.D)(this.ccsClient);"ok"==r?Object(xe.A)(this.ccsClient,e,t,(function(e){n()}),(function(e){A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,e))})):A(r)}},{key:"onTextMessage",value:function(e){Object(xe.p)(this.ccsClient,(function(t){e(t)}))}},{key:"removeSessionEventListener",value:function(e,t,n){var A=Object(xe.D)(this.ccsClient);"ok"==A?(this.ccsClient.removeListener(e),t("ok")):n(A)}},{key:"shareResource",value:(B=a()(d.a.mark((function e(t,n){var A,r,i,o,s,a,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=c.length>2&&void 0!==c[2]?c[2]:"agents",r=c.length>3?c[3]:void 0,i=c.length>4?c[4]:void 0,-1!==["doc","pic","video","audio","page","paper"].indexOf(t)){e.next=8;break}return o=new b.a("2001","type is invalid,only support 'doc','pic', 'video', 'audio', 'page', 'paper'"),i(o),e.abrupt("return");case 8:if("ok"==(s=Object(xe.D)(this.ccsClient))){e.next=12;break}return i(s),e.abrupt("return");case 12:a=this.backendUrl,Object(xe.C)(this.ccsClient,a,t,n,A,(function(e){r(e)}),(function(e){i(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,e))}),this.accessToken);case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return B.apply(this,arguments)})},{key:"shareResourceWithUrl",value:(g=a()(d.a.mark((function e(t,n){var A,r,i,o,s,a,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=c.length>2&&void 0!==c[2]?c[2]:"agents",r=c.length>3&&void 0!==c[3]?c[3]:"",i=c.length>4?c[4]:void 0,o=c.length>5?c[5]:void 0,-1!==["doc","pic","video","audio","page","paper"].indexOf(t)){e.next=9;break}return s=new b.a("2001","type is invalid,only support 'doc','pic', 'video', 'audio', 'page', 'paper'"),o(s),e.abrupt("return");case 9:if("ok"==(a=Object(xe.D)(this.ccsClient))){e.next=13;break}return o(a),e.abrupt("return");case 13:try{this.ccsClient.shareResource(t,n,r,A,(function(e,t,n){"ok"===e?i():(p.a.info("send shareResource message failed,".concat(t,",msgId").concat(n,",").concat((new Date).toISOString())),o(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))}))}catch(e){o(e)}case 14:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"shareResourceWithFileInfo",value:(h=a()(d.a.mark((function e(t,n){var A,r,i,o,s,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A=a.length>2&&void 0!==a[2]?a[2]:"others",r=a.length>3?a[3]:void 0,i=a.length>4?a[4]:void 0,-1!==["doc","pic","video","audio","page","paper"].indexOf(t)){e.next=8;break}return o=new b.a("2001","type is invalid,only support 'doc','pic', 'video', 'audio', 'page', 'paper'"),i(o),e.abrupt("return");case 8:"ok"!=(s=Object(xe.D)(this.ccsClient))&&i(s);try{this.ccsClient.shareResourceWithFileInfo(t,n,A,(function(e,t,n){"ok"===e?r():(p.a.info("send shareResourceWithFileInfo message failed,".concat(t,",msgId").concat(n,",").concat((new Date).toISOString())),i(t))}))}catch(e){i(e)}case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"onResourceMessage",value:function(e){Object(xe.o)(this.ccsClient,(function(t){e(t)}))}},{key:"onSilentWaiting",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onSilentWaiting((function(t){e(t)})):p.a.warning("onSilentWaiting error,".concat(JSON.stringify(t)))}},{key:"onHoldOn",value:function(e){Object(xe.m)(this.ccsClient,(function(t){e(t)}))}},{key:"sendCustomMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"agents",n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,r=Object(xe.D)(this.ccsClient);"ok"==r?Object(xe.z)(this.ccsClient,e,t,(function(e){n(e)}),(function(e){A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,e))})):A(r)}},{key:"onCustomMessage",value:function(e){Object(xe.k)(this.ccsClient,(function(t){e(t)}))}},{key:"mute",value:(l=a()(d.a.mark((function e(t,n,A){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye(this.localPublicationId,t,this.irtcClient);case 3:n(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),A(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,t,n){return l.apply(this,arguments)})},{key:"unmute",value:(c=a()(d.a.mark((function e(t,n,A){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce(this.localPublicationId,t,this.irtcClient);case 3:n(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),A(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,t,n){return c.apply(this,arguments)})},{key:"onRequestScreenShare",value:function(e){Object(xe.s)(this.ccsClient,(function(t){e(t)}))}},{key:"sendMessageConfirmation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"agents",n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,r=Object(xe.D)(this.ccsClient);"ok"!=r&&A(r),this.ccsClient.sendMessageConfirmation(e,t,(function(e,t,r){"ok"===e?n():A(new b.a("1017",t))}))}},{key:"onMessageConfirmation",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onMessageConfirmation((function(t){e(t)})):p.a.warning("onMessageConfirmation error,".concat(JSON.stringify(t)))}},{key:"onAICheckoutMessage",value:function(e){this.ccsClient.onAICheckoutMessage((function(t){e(t)}))}},{key:"onAiStartSpeak",value:function(e){this.ccsClient.onAiStartSpeak((function(t){e(t)}))}},{key:"onAiStartDone",value:function(e){this.ccsClient.onAiStartDone((function(t){e(t)}))}},{key:"onTransferReasonMessage",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onTransferReason((function(t){e(t)})):p.a.warning("onTransferReasonMessage error,".concat(JSON.stringify(t)))}},{key:"addEventListener",value:function(e,t){var n=this;if(p.a.info("add event listener with Name,".concat(e)),e===w.f&&this.islogs&&this.islogs.isOpen){var A=Object(w.a)(e,(function(e){Object(m.b)("system error ",n.islogs,n.sessionId),Object(m.b)(e,n.islogs,n.sessionId),t(e)}));return this.eventList.set(e,A),A}var r=Object(w.a)(e,t);return this.eventList.set(e,r),r}},{key:"removeEventListener",value:function(e,t){p.a.info("remove event listener with Name,".concat(e)),Object(w.d)(e,t)}},{key:"onZmsChatMessage",value:function(e){this.irtcClient.messageEvent=Object(w.a)("irtc_chatmessage",(function(t){e(t)}))}},{key:"switchCameraWithStream",value:function(e,t,n){var A=this;Re(this.localStream,e,this.publication,(function(n){t(n),A.localStream=e}),(function(e){n(e)}))}},{key:"stopLocalStream",value:function(){Oe(this.localStream)}},{key:"updateMediaOptions",value:function(e,t,n){"ok"==Object(C.c)(e)?(this.mediaOptions=Object(m.a)(e),t(this.mediaOptions)):n(Object(C.c)(e))}},{key:"onScreenSnapshot",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCmd("get-screenshot",(function(t){e(t)})):p.a.error("onScreenSnapshot error",t)}},{key:"responseScreenShot",value:function(e,t,n,A,r,i){var o=Object(xe.D)(this.ccsClient);"ok"==o?this.ccsClient.sendPeerResponse("get-screenshot",e,t,n,A,(function(e,t){"ok"===e?r(t):(p.a.info("responseScreenShot error,".concat(t,",").concat((new Date).toISOString())),i(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):p.a.error("responseScreenShot error",o)}},{key:"onScreenCapture",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCmd("get-screencapture",(function(t){e(t)})):p.a.error("onScreenCapture error",t)}},{key:"responseScreenCapture",value:function(e,t,n,A,r,i){var o=Object(xe.D)(this.ccsClient);"ok"==o?this.ccsClient.sendPeerResponse("get-screencapture",e,t,n,A,(function(e,t){"ok"===e?r(t):(p.a.info("responseScreenCapture error,".concat(t,",").concat((new Date).toISOString())),i(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):p.a.error("responseScreenCapture error",o)}},{key:"onSendViewResource",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCmd("view",(function(t){e(t)})):p.a.error("onSendViewResource error",t)}},{key:"onCancelViewReource",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCancel("view",(function(t){e(t)})):p.a.error("onCancelViewReource error",t)}},{key:"responseViewResource",value:function(e,t,n,A,r,i){var o=Object(xe.D)(this.ccsClient);"ok"==o?this.ccsClient.sendPeerResponse("view",e,t,n,A,(function(e,t){"ok"===e?r(t):(p.a.info("responseViewResource error,".concat(t,",").concat((new Date).toISOString())),i(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):p.a.error("responseViewResource error",o)}},{key:"onSendGuideBox",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCmd("show-guide-box",(function(t){e(t)})):p.a.error("onSendGuideBox error",t)}},{key:"onSendOnlineForm",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCmd("fill-form",(function(t){e(t)})):p.a.error("onSendOnlineForm error",t)}},{key:"onCancelOnlineForm",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCancel("fill-form",(function(t){e(t)})):p.a.error("onCancelOnlineForm error",t)}},{key:"responseFillForm",value:function(e,t,n,A,r,i){var o=Object(xe.D)(this.ccsClient);"ok"==o?this.ccsClient.sendPeerResponse("fill-form",e,t,n,A,(function(e,t){"ok"===e?r(t):(p.a.info("responseFillForm error,".concat(t,",").concat((new Date).toISOString())),i(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):p.a.error("responseFillForm error",o)}},{key:"onInviteHandWriting",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCmd("get-handwriting",(function(t){e(t)})):p.a.error("onInviteHandWriting error",t)}},{key:"onCancelHandWriting",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCancel("get-handwriting",(function(t){e(t)})):p.a.error("onCancelHandWriting error",t)}},{key:"onOtherResumeConnect",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onClientResumeConnectStatus((function(t){e(t)})):p.a.error("onOtherResumeConnect error",t)}},{key:"onOtherReconnecting",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onClientReconnectingStatus((function(t){e(t)})):p.a.error("onOtherReconnecting error",t)}},{key:"sendPageStatus",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendPageStatus(e,t,(function(e,t){"ok"===e?n(t):(p.a.info("sendPageStatus error,".concat(t,",").concat((new Date).toISOString())),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):p.a.error("sendPageStatus error",r)}},{key:"sendNetworkStatus",value:function(e,t,n,A){var r=Object(xe.D)(this.ccsClient);"ok"==r?this.ccsClient.sendNetworkStatus(e,t,(function(e,t){"ok"===e?n(t):(p.a.info("sendNetworkStatus error,".concat(t,",").concat((new Date).toISOString())),A(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):p.a.error("sendNetworkStatus error",r)}},{key:"responseHandWriting",value:function(e,t,n,A,r,i){var o=Object(xe.D)(this.ccsClient);"ok"==o?this.ccsClient.sendPeerResponse("get-handwriting",e,t,n,A,(function(e,t){"ok"===e?r(t):(p.a.info("responseHandWriting error,".concat(t,",").concat((new Date).toISOString())),i(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):p.a.error("responseHandWriting error",o)}},{key:"onRequestCustomerLocation",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCmd("get-geo-location",(function(t){e(t)})):p.a.error("onRequestCustomerLocation error",t)}},{key:"onCancelRequestCustomerLocation",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCancel("get-geo-location",(function(t){e(t)})):p.a.error("onCancelRequestCustomerLocation error",t)}},{key:"responseGeoLocation",value:function(e,t,n,A,r,i){var o=Object(xe.D)(this.ccsClient);"ok"==o?this.ccsClient.sendPeerResponse("get-geo-location",e,t,n,A,(function(e,t){"ok"===e?r(t):(p.a.info("responseGeoLocation error,".concat(t,",").concat((new Date).toISOString())),i(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):p.a.error("responseGeoLocation error",o)}},{key:"onRequestCustomerScanCode",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCmd("scan-code",(function(t){e(t)})):p.a.error("onRequestCustomerScanCode error",t)}},{key:"onCancelCustomerScanCode",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCancel("scan-code",(function(t){e(t)})):p.a.error("onCancelCustomerScanCode error",t)}},{key:"responseScanCode",value:function(e,t,n,A,r,i){var o=Object(xe.D)(this.ccsClient);"ok"==o?this.ccsClient.sendPeerResponse("scan-code",e,t,n,A,(function(e,t){"ok"===e?r(t):(p.a.info("responseScanCode error,".concat(t,",").concat((new Date).toISOString())),i(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):p.a.error("responseScanCode error",o)}},{key:"onScreenMark",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCmd("screen-mark",(function(t){e(t)})):p.a.error("onScreenMark error",t)}},{key:"onCancelScreenMark",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCancel("screen-mark",(function(t){e(t)})):p.a.error("onCancelScreenMark error",t)}},{key:"onScreenShare",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCmd("screen-share",(function(t){e(t)})):p.a.error("onScreenShare error",t)}},{key:"onCancelScreenShare",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCancel("screen-share",(function(t){e(t)})):p.a.error("onCancelScreenShare error",t)}},{key:"onConfirm",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCmd("confirm",(function(t){e(t)})):p.a.error("onConfirm error",t)}},{key:"onCancelConfirm",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCancel("confirm",(function(t){e(t)})):p.a.error("onCancelConfirm error",t)}},{key:"responseConfirm",value:function(e,t,n,A,r,i){var o=Object(xe.D)(this.ccsClient);"ok"==o?this.ccsClient.sendPeerResponse("confirm",e,t,n,A,(function(e,t){"ok"===e?r(t):(p.a.info("responseConfirm error,".concat(t,",").concat((new Date).toISOString())),i(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):p.a.error("responseConfirm error",o)}},{key:"onMakeChoice",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCmd("make-choice",(function(t){e(t)})):p.a.error("onMakeChoice error",t)}},{key:"onCancelMakeChoice",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCancel("make-choice",(function(t){e(t)})):p.a.error("onCancelMakeChoice error",t)}},{key:"responseMakeChoice",value:function(e,t,n,A,r,i){var o=Object(xe.D)(this.ccsClient);"ok"==o?this.ccsClient.sendPeerResponse("make-choice",e,t,n,A,(function(e,t){"ok"===e?r(t):(p.a.info("responseMakeChoice error,".concat(t,",").concat((new Date).toISOString())),i(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):p.a.error("responseMakeChoice error",o)}},{key:"onCoBrowsing",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCmd("co-browsing",(function(t){e(t)})):p.a.error("onCoBrowsing error",t)}},{key:"onCancelCoBrowsing",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCancel("co-browsing",(function(t){e(t)})):p.a.error("onCancelCoBrowsing error",t)}},{key:"responseCoBrowsing",value:function(e,t,n,A,r,i){var o=Object(xe.D)(this.ccsClient);"ok"==o?this.ccsClient.sendPeerResponse("co-browsing",e,t,n,A,(function(e,t){"ok"===e?r(t):(p.a.info("responseCoBrowsing error,".concat(t,",").concat((new Date).toISOString())),i(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):p.a.error("responseCoBrowsing error",o)}},{key:"onBrowsingMark",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCmd("browsing-mark",(function(t){e(t)})):p.a.error("onBrowsingMark error",t)}},{key:"onCancelBrowsingMark",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCancel("browsing-mark",(function(t){e(t)})):p.a.error("onCancelBrowsingMark error",t)}},{key:"responseBrowsingMark",value:function(e,t,n,A,r,i){var o=Object(xe.D)(this.ccsClient);"ok"==o?this.ccsClient.sendPeerResponse("browsing-mark",e,t,n,A,(function(e,t){"ok"===e?r(t):(p.a.info("responseBrowsingMark error,".concat(t,",").concat((new Date).toISOString())),i(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,t)))})):p.a.error("responseBrowsingMark error",o)}},{key:"snapshot",value:(s=a()(d.a.mark((function e(t,n){var A,r,i,o,s,a,c,u,l,f=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=!(f.length>2&&void 0!==f[2])||f[2],r=f.length>3?f[3]:void 0,i=f.length>4?f[4]:void 0,o=f.length>5?f[5]:void 0,e.prev=4,e.next=7,this.snapshotModule.getScreenshots(t,n);case 7:if(s=e.sent,a=void 0,!A){e.next=17;break}return c=.85,u=s.toDataURL("image/jpeg",{quality:c}),(l=r).base64=u,e.next=16,Object(v.b)(this.backendUrl,this.roomId,l);case 16:a=e.sent;case 17:i({imgCanvas:s,pictureId:a}),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(4),p.a.error("snapshot error",e.t0),o(e.t0);case 24:case"end":return e.stop()}}),e,this,[[4,20]])}))),function(e,t){return s.apply(this,arguments)})},{key:"snapshotWithStream",value:(i=a()(d.a.mark((function e(t,n){var A,r,i,o,s=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=s.length>2&&void 0!==s[2]?s[2]:"customer",r=s.length>3&&void 0!==s[3]?s[3]:"png",i=s.length>4&&void 0!==s[4]?s[4]:.92,e.prev=3,e.next=6,this.snapshotModule.getBase64ImgWidthStream(this.localStream,A,"image/".concat(r),i);case 6:o=e.sent,t(o),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),p.a.error("snapshot with stream error",e.t0),n(e.t0);case 14:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(e,t){return i.apply(this,arguments)})},{key:"removeSnapshotInMixStream",value:(A=a()(d.a.mark((function e(){var t,n,A,r=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"all",n=r.length>1?r[1]:void 0,A=r.length>2?r[2]:void 0,e.prev=3,e.next=6,Object(v.n)(this.backendUrl,this.roomId,t);case 6:n("ok"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),A(e.t0);case 12:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(){return A.apply(this,arguments)})},{key:"onWorkflowProgress",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onWorkflowProgress((function(t){e(t)})):p.a.error("onWorkflowProgress error,".concat(JSON.stringify(t)))}},{key:"onCallDirection",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onCallDirection((function(t){e(t)})):p.a.error("onCallDirection error,".concat(JSON.stringify(t)))}},{key:"inviteOther",value:(n=a()(d.a.mark((function e(t,n,A){var r,i=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.service||(t.service=""),t.agentId||(t.agentId="*"),e.next=4,Object(xe.f)(this.ccsClient,t).catch((function(e){A(e)}));case 4:r=Object(xe.n)(this.ccsClient,(function(e){p.a.info("invite other agent progress",e,(new Date).toISOString());var t=e.code;"403"===t||"405"===t?(i.ccsClient.offInvitationProgress(r),n(e)):"401"!==t&&"404"!==t&&"406"!==t&&"407"!==t&&"408"!==t||(i.ccsClient.offInvitationProgress(r),A(e))}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,A){return n.apply(this,arguments)})},{key:"cancelInvitations",value:function(e,t){var n=Object(xe.D)(this.ccsClient);"ok"!=n&&t(n),this.ccsClient.cancelInvitations(void 0,(function(n,A,r){"ok"===n?e():(p.a.error("cancel invitations failed,".concat(A,",msgId ").concat(r,",").concat((new Date).toISOString())),t(new b.a(C.b.ERROR_CCS_SESSION_MESSAGE_FAILED,A)))}))}},{key:"onNlpNode",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onPeerCmd("third-nlp",(function(t){e(t)})):p.a.error("onNlpNode error",t)}},{key:"startLocalRecordWithStreamLabel",value:function(e,t,n){this.irtcClient?function(e,t,n,A){if(e){var r,i=null,o=x(e.createStreams);try{for(o.s();!(r=o.n()).done;){var s=r.value;(s.attributes&&s.attributes.type?s.attributes.type:s.id)==t&&(i=s)}}catch(e){o.e(e)}finally{o.f()}if(!i){var a,c=x(e.remoteStreams);try{for(c.s();!(a=c.n()).done;){var u=a.value;console.log("#### stream",u),(u.attributes&&u.attributes.type?u.attributes.type:u.id)==t&&(i=u)}}catch(e){c.e(e)}finally{c.f()}}if(i){var l=e.startLocalRecord(i,"video/webm;codecs=h264,opus",n);return l.streamLabel=t,e.localRecordList.set(t,l),l}A("streamLabel is error")}else A("irtcClient is null")}(this.irtcClient,e,t,(function(e){n(new b.a("401",e))})):n(new b.a("400","irtcClient is invalid"))}},{key:"stopLcoalRecordWithStreamLabel",value:function(e,t,n){this.irtcClient?function(e,t,n,A){if(e){var r=e.localRecordList.get(t);r?(r.addEventListener("onstop",(function(){n()})),r.stop()):A("streamLabel is invalid")}else A("irtcClient is null")}(this.irtcClient,e,t,(function(e){n(new b.a("401",e))})):n(new b.a("400","irtcClient is invalid"))}},{key:"downloadLcoalRecordWithStreamLabel",value:function(e,t,n,A){this.irtcClient?function(e,t,n,A,r){if(e){var i=e.localRecordList.get(t);i?(e.downloadLocalRecord(i,n),A()):r("streamLabel is invalid")}else r("irtcClient is null")}(this.irtcClient,e,t,n,(function(e){A(new b.a("401",e))})):A(new b.a("400","irtcClient is invalid"))}},{key:"getLocalStreamStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(this.irtcClient)return this.irtcClient.getPublicationStats(this.publication,e,t,n);n(new b.a("400","irtcClient is invalid"))}},{key:"stopLocalStreamStats",value:function(e,t,n){this.irtcClient?this.irtcClient.stopPublicationStats(this.publication,e,t,n):n(new b.a("400","irtcClient is invalid"))}},{key:"getRemoteStreamStats",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0;if(this.irtcClient){var r=this.irtcClient.subscriptionList.get(e);return this.irtcClient.getSubscriptionStats(r,t,n,A)}A(new b.a("400","irtcClient is invalid"))}},{key:"stopRemoteStreamStats",value:function(e,t,n,A){if(this.irtcClient){var r=this.irtcClient.subscriptionList.get(e);this.irtcClient.stopSubscriptionStats(r,t,n,A),this.irtcClient.subscriptionList.delete(e)}else A(new b.a("400","irtcClient is invalid"))}},{key:"applyOptions",value:function(e,t,n,A){if(this.irtcClient){var r=this.irtcClient.subscriptionList.get(e);r?r.applyOptions(t).then((function(e){n(e)})).catch((function(e){A(new b.a("400",e))})):A(new b.a("400","streamlabel is invalid"))}else A(new b.a("400","irtcClient is invalid"))}},{key:"sendTextMessageWithFromClientId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"customers",A=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=Object(xe.D)(this.ccsClient);"ok"==i?this.ccsClient.sendMessageFromTo("text",e,t,n,(function(e,t,n){"ok"===e?A():r(new b.a("1014",t))})):r(i)}},{key:"onOcrRecord",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?this.ccsClient.onOcrRecord((function(t){e(t)})):p.a.error("onOcrRecord error",t)}},{key:"onCollectIdCard",value:function(e){At(this.ccsClient,"idcard-collection",e)}},{key:"onCancelCollectIdCard",value:function(e){rt(this.ccsClient,"idcard-collection",e)}},{key:"responseCollectIdCard",value:function(e,t,n,A,r,i){it(this.ccsClient,"idcard-collection",e,t,n,A,r,i)}},{key:"onCollectBankCard",value:function(e){At(this.ccsClient,"bankcard-collection",e)}},{key:"onCancelCollectBankCard",value:function(e){rt(this.ccsClient,"bankcard-collection",e)}},{key:"responseCollectBankCard",value:function(e,t,n,A,r,i){it(this.ccsClient,"bankcard-collection",e,t,n,A,r,i)}},{key:"getRearCameraVideoStream",value:function(e,t){this.cameraNavigator.getRearCameraVideoStream(e,t)}},{key:"releaseStreamTrack",value:function(e){ee(e)}},{key:"onAiRecognitionMessage",value:function(e){var t=Object(xe.D)(this.ccsClient);"ok"==t?(this.ccsClient.onAsrTextMessage(e),this.ccsClient.onTtsTextMessage((function(t){var n,A=Object(m.a)(t);A.data=null==t||null===(n=t.data)||void 0===n?void 0:n.content,e(A)})),this.ccsClient.onPreRecordVideoTextMessage(e)):p.a.error("onAiRecognitionMessage error",t)}},{key:"openWhiteboard",value:function(e,t,n){this.irtcClient?this.irtcWhiteBoard?this.irtcWhiteBoard.startWithId(e,t,n):p.a.error("not startWhiteboard"):p.a.error("not join room")}},{key:"openPdfWhiteboard",value:function(e,t,n){this.openWhiteboard(e,t,n)}},{key:"openTestimonyWrite",value:function(e,t,n){this.openWhiteboard(e,t,n)}},{key:"createTestimonyWriteboard",value:(t=a()(d.a.mark((function e(t,n,A,r){var i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.irtcClient){e.next=3;break}return p.a.error("not join room"),e.abrupt("return");case 3:return e.prev=3,!this.irtcWhiteBoard&&(this.irtcWhiteBoard=new Pe(this.irtcClient)),e.next=7,this.irtcWhiteBoard.create(t,n);case 7:return i=e.sent,e.next=10,this.irtcWhiteBoard.start(i);case 10:o=e.sent,A({whiteboardId:i.id,iframe:o}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),p.a.error("startWhiteboard error,at:".concat((new Date).toISOString())),r(e.t0);case 18:case"end":return e.stop()}}),e,this,[[3,14]])}))),function(e,n,A,r){return t.apply(this,arguments)})},{key:"snapshotWhiteboard",value:function(e,t,n){this.irtcClient?this.irtcWhiteBoard?this.irtcWhiteBoard.snapshotWithId(e,t,n):p.a.error("not startWhiteboard"):p.a.error("not join room")}},{key:"onCollectVariable",value:function(e){At(this.ccsClient,"collect-variable",e)}},{key:"onCancelCollectVariable",value:function(e){rt(this.ccsClient,"collect-variable",e)}},{key:"responseCollectVariable",value:function(e,t,n,A,r,i){it(this.ccsClient,"collect-variable",e,t,n,A,r,i)}},{key:"onCollectShortVideo",value:function(e){At(this.ccsClient,"collect-short-video",e)}},{key:"onCancelCollectShortVideo",value:function(e){rt(this.ccsClient,"collect-short-video",e)}},{key:"responseCollectShortVideo",value:function(e,t,n,A,r,i){it(this.ccsClient,"collect-short-video",e,t,n,A,r,i)}},{key:"onWhiteboard",value:function(e){At(this.ccsClient,"whiteboard",e)}},{key:"onCancelWhiteboard",value:function(e){rt(this.ccsClient,"whiteboard",e)}},{key:"responseWhiteboard",value:function(e,t,n,A,r,i){it(this.ccsClient,"whiteboard",e,t,n,A,r,i)}},{key:"onPdfWhiteboard",value:function(e){At(this.ccsClient,"whiteboard-pdf",e)}},{key:"onCancelPdfWhiteboard",value:function(e){rt(this.ccsClient,"whiteboard-pdf",e)}},{key:"responsePdfWhiteboard",value:function(e,t,n,A,r,i){it(this.ccsClient,"whiteboard-pdf",e,t,n,A,r,i)}},{key:"onTestimonyWrite",value:function(e){At(this.ccsClient,"testimony-write",e)}},{key:"onCancelTestimonyWrite",value:function(e){rt(this.ccsClient,"testimony-write",e)}},{key:"responseTestimonyWrite",value:function(e,t,n,A,r,i){it(this.ccsClient,"testimony-write",e,t,n,A,r,i)}}]),e}(),vt=n(54),wt=new at,mt=new gt}])}));